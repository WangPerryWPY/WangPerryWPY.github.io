<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>PerryWangğŸåšå®¢</title>
  
  <subtitle>åˆ†äº«è½¯ä»¶å¼€å‘ä¸­å­¦åˆ°çš„ç‚¹æ»´çŸ¥è¯†</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2019-07-05T16:38:07.236Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>PerryWang</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Cannyç®—å­å®ç°è¾¹ç¼˜åˆ†å‰²å¹¶åšè¿çº¿å¤„ç†</title>
    <link href="http://yoursite.com/2019/07/06/Canny%E7%AE%97%E5%AD%90%E5%AE%9E%E7%8E%B0%E8%BE%B9%E7%BC%98%E5%88%86%E5%89%B2%E5%B9%B6%E5%81%9A%E8%BF%9E%E7%BA%BF%E5%A4%84%E7%90%86/"/>
    <id>http://yoursite.com/2019/07/06/Cannyç®—å­å®ç°è¾¹ç¼˜åˆ†å‰²å¹¶åšè¿çº¿å¤„ç†/</id>
    <published>2019-07-05T16:37:29.000Z</published>
    <updated>2019-07-05T16:38:07.236Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Ex2ï¼šç”¨-CImg-é‡å†™ã€å°è£…ç»™å®šçš„-Canny-ä»£ç ï¼Œå¹¶æµ‹è¯•"><a href="#Ex2ï¼šç”¨-CImg-é‡å†™ã€å°è£…ç»™å®šçš„-Canny-ä»£ç ï¼Œå¹¶æµ‹è¯•" class="headerlink" title="Ex2ï¼šç”¨ CImg é‡å†™ã€å°è£…ç»™å®šçš„ Canny ä»£ç ï¼Œå¹¶æµ‹è¯•"></a>Ex2ï¼šç”¨ CImg é‡å†™ã€å°è£…ç»™å®šçš„ Canny ä»£ç ï¼Œå¹¶æµ‹è¯•</h2><h3 id="C-å°è£…è¦æ±‚ï¼š"><a href="#C-å°è£…è¦æ±‚ï¼š" class="headerlink" title="C++å°è£…è¦æ±‚ï¼š"></a><strong>C++å°è£…è¦æ±‚ï¼š</strong></h3><p>(1)æ‰€æœ‰çš„å›¾åƒè¯»å†™ã€æ•°æ®å¤„ç†åªèƒ½ç”¨ CImg åº“(æ•´ä¸ªå·¥ç¨‹æ–‡ä»¶ä¸å…è®¸<br>ä½¿ç”¨ Opencv ä¹‹ç±»çš„ç¬¬ä¸‰æ–¹åº“)ï¼› (2)ä»£ç å°è£…è¦æ±‚å‡½æ•°æ¥å£ç®€æ´æ¸…æ™°ï¼Œå¯å‚è€ƒ<br>Code2 çš„æ–¹å¼å°è£…ã€‚<br>åœ¨åŸæ¥çš„ä»£ç åŸºç¡€ä¸Š, å¢åŠ ä¸€ä¸ªå‡½æ•°ï¼šé¦–å…ˆæŠŠç›¸é‚»çš„è¾¹ç¼˜è¿æˆé•¿çš„çº¿æ¡ï¼Œå¹¶åˆ é™¤<br>é•¿åº¦å°äº 20 çš„ Edgeã€‚<br>å¯¹ç®—æ³•çš„è‹¥å¹²ç»„å‚æ•°ï¼Œå¯¹æ‰€æœ‰æµ‹è¯•å›¾åƒè¿›è¡Œæµ‹è¯•ï¼Œå¹¶åˆ†æå„å‚æ•°å¯¹ç»“æœçš„å½±å“ã€‚</p><h3 id="å®ç°è¿‡ç¨‹ï¼š"><a href="#å®ç°è¿‡ç¨‹ï¼š" class="headerlink" title="å®ç°è¿‡ç¨‹ï¼š"></a><strong>å®ç°è¿‡ç¨‹ï¼š</strong></h3><p><strong>åŸç†ï¼š</strong><br>å®ç° canny è¾¹ç¼˜æ£€æµ‹çš„åŸç†é€šä¿—æ¥è¯´å°±æ˜¯ç”¨ç¦»æ•£åŒ–çš„æ¢¯åº¦é€¼è¿‘å‡½æ•°æ ¹æ®äºŒç»´ç°åº¦çŸ©é˜µæ¢¯åº¦å‘é‡æ¥å¯»æ‰¾å›¾åƒç°åº¦çŸ©é˜µçš„ç°åº¦è·ƒå˜ä½ç½®ï¼Œç„¶åå†å›¾åƒä¸­å°†è¿™äº›ç‚¹è¿èµ·æ¥å°±å½¢æˆäº†å›¾åƒçš„è¾¹ç¼˜ã€‚<br><strong>å¤„ç†è¿‡ç¨‹ï¼š</strong><br>ä¸€èˆ¬å¯¹å›¾åƒè¿›è¡Œ canny è¾¹ç¼˜æ£€æµ‹è¦ç»è¿‡ä»¥ä¸‹å‡ æ­¥ï¼š </p><ol><li><p>å¯¹å›¾åƒè¿›è¡Œç°åº¦åŒ–å¤„ç†ï¼š<br><strong>å…¬å¼ï¼š</strong> Gimg = 0.299R+0.587G+0.114B </p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">RGBtoGray</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure></li><li><p>å¯¹å›¾åƒè¿›è¡Œé«˜æ–¯æ»¤æ³¢(å‡ºå»å›¾ç‰‡ä¸­å™ªå£°å¯¹è¾¹ç¼˜æ£€æµ‹çš„å½±å“) </p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">gaussian_smooth</span><span class="params">(<span class="keyword">float</span> sigma)</span></span>;</span><br></pre></td></tr></table></figure></li></ol><p>ç”¨åˆ°è¾…åŠ©å‡½æ•°ï¼š<br><code>void make_gaussian_kernel(float sigma, float **kernel, int *windowsize);</code> </p><ol start="3"><li>ç”¨ä¸€é˜¶åå¯¼çš„æœ‰é™å·®åˆ†æ¥è®¡ç®—æ¢¯åº¦çš„å¹…å€¼å’Œæ–¹å‘ <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è®¡ç®—x,yæ–¹å‘çš„ä¸€é˜¶å¯¼æ•° </span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">derrivative_x_y</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure></li></ol><p>ç”¨åˆ°è¾…åŠ©å‡½æ•°ï¼š<br><code>double angle_radians(double x, double y);</code> </p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è®¡ç®—æ¢¯åº¦å‘ä¸Šçš„æ–¹å‘ï¼Œä»¥æ­£xè½´ä¸ºé€†æ—¶é’ˆæ–¹å‘æŒ‡å®šçš„å¼§åº¦ </span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">radian_direction</span><span class="params">(<span class="keyword">int</span> xdirtag, <span class="keyword">int</span> ydirtag)</span></span>; </span><br><span class="line"><span class="comment">//è®¡ç®—æ¢¯åº¦çš„å¹…å€¼ </span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">magnitude_x_y</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure><ol start="4"><li><p>å¯¹æ¢¯åº¦å¹…å€¼è¿›è¡Œéæå¤§å€¼æŠ‘åˆ¶ </p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">non_max_supp</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure></li><li><p>åŒé˜ˆå€¼æ£€æµ‹å’Œè¿æ¥è¾¹ç¼˜ </p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">apply_hysteresis</span><span class="params">(<span class="keyword">float</span> tlow, <span class="keyword">float</span> thigh)</span></span>;</span><br></pre></td></tr></table></figure></li></ol><p>ç”¨åˆ°è¾…åŠ©å‡½æ•°:<br><code>void follow_edges(int *edgemapptr, int *edgemagptr, int lowval, int cols);</code> </p><ol start="6"><li>ä¹‹åå†å¯¹å°†ç›¸é‚»è¾¹ç¼˜è¿æˆçº¿æ¡ï¼š <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CImg&lt;<span class="keyword">int</span>&gt; canny_line(CImg&lt;<span class="keyword">int</span>&gt; picture, <span class="keyword">int</span> distance);</span><br></pre></td></tr></table></figure></li></ol><p>ç”¨åˆ°è¾…åŠ©å‡½æ•°ï¼š<br><code>CImg&lt;int&gt; Draw_line(CImg&lt;int&gt; tmp, int x, int y, int x1, int y1);</code> </p><ol start="7"><li>åˆ é™¤é•¿åº¦å°äº20çš„çº¿æ¡ï¼š <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CImg&lt;<span class="keyword">int</span>&gt; delete_line(CImg&lt;<span class="keyword">int</span>&gt; picture); CImg&lt;<span class="keyword">int</span>&gt; delete_line(CImg&lt;<span class="keyword">int</span>&gt; picture);</span><br></pre></td></tr></table></figure></li></ol><h2 id="ä»£ç ï¼š"><a href="#ä»£ç ï¼š" class="headerlink" title="ä»£ç ï¼š"></a><strong>ä»£ç ï¼š</strong></h2><p><strong>Canny.h</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*å®ç°cannyè¾¹ç¼˜æ£€æµ‹çš„åŸç†é€šä¿—æ¥è¯´å°±æ˜¯ç”¨ç¦»æ•£åŒ–çš„æ¢¯åº¦é€¼è¿‘å‡½æ•°æ ¹æ®äºŒç»´ç°åº¦çŸ©é˜µæ¢¯åº¦å‘é‡æ¥å¯»æ‰¾å›¾åƒç°åº¦çŸ©é˜µ</span></span><br><span class="line"><span class="comment">çš„ç°åº¦è·ƒå˜ä½ç½®ï¼Œç„¶åå†å›¾åƒä¸­å°†è¿™äº›ç‚¹è¿èµ·æ¥å°±å½¢æˆäº†å›¾åƒçš„è¾¹ç¼˜</span></span><br><span class="line"><span class="comment">ä¸€èˆ¬å¯¹å›¾åƒè¿›è¡Œcannyè¾¹ç¼˜æ£€æµ‹è¦ç»è¿‡ä»¥ä¸‹å‡ æ­¥ï¼š</span></span><br><span class="line"><span class="comment">1.å¯¹å›¾åƒè¿›è¡Œç°åº¦åŒ–å¤„ç†ï¼šGimg = 0.299R+0.587G+0.114B</span></span><br><span class="line"><span class="comment">2.å¯¹å›¾åƒè¿›è¡Œé«˜æ–¯æ»¤æ³¢(å‡ºå»å›¾ç‰‡ä¸­å™ªå£°å¯¹è¾¹ç¼˜æ£€æµ‹çš„å½±å“)</span></span><br><span class="line"><span class="comment">3.ç”¨ä¸€é˜¶åå¯¼çš„æœ‰é™å·®åˆ†æ¥è®¡ç®—æ¢¯åº¦çš„å¹…å€¼å’Œæ–¹å‘</span></span><br><span class="line"><span class="comment">4.å¯¹æ¢¯åº¦å¹…å€¼è¿›è¡Œéæå¤§å€¼æŠ‘åˆ¶</span></span><br><span class="line"><span class="comment">5.åŒé˜ˆå€¼æ£€æµ‹å’Œè¿æ¥è¾¹ç¼˜</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> CANNY_H_</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CANNY_H_</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"CImg.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> cimg_library;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Canny</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; img;</span><br><span class="line"><span class="keyword">int</span> rows;</span><br><span class="line"><span class="keyword">int</span> cols;</span><br><span class="line"><span class="keyword">int</span> *smoothedim;</span><br><span class="line"><span class="keyword">int</span> *delta_x;  <span class="comment">//xæ–¹å‘çš„ä¸€é˜¶å¯¼æ•°</span></span><br><span class="line"><span class="keyword">int</span> *delta_y;  <span class="comment">//yæ–¹å‘çš„ä¸€é˜¶å¯¼æ•°</span></span><br><span class="line"><span class="keyword">float</span> *dirim;  <span class="comment">//æ¢¯åº¦çš„æ–¹å‘</span></span><br><span class="line"><span class="keyword">int</span> *magnitude; <span class="comment">//æ¢¯åº¦çš„å¹…å€¼</span></span><br><span class="line"><span class="keyword">int</span> *nms;   <span class="comment">//éæå¤§å€¼æŠ‘åˆ¶åå¾—åˆ°çŸ©é˜µ</span></span><br><span class="line"><span class="keyword">int</span> *edge;  <span class="comment">//è¾¹ç¼˜æ•°ç»„</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Canny();</span><br><span class="line">Canny(<span class="built_in">string</span> name,<span class="built_in">string</span> format);</span><br><span class="line">~Canny();</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">RGBtoGray</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">gaussian_smooth</span><span class="params">(<span class="keyword">float</span> sigma)</span></span>;</span><br><span class="line"><span class="comment">//è®¡ç®—x,yæ–¹å‘çš„ä¸€é˜¶å¯¼æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">derrivative_x_y</span><span class="params">()</span></span>;</span><br><span class="line"><span class="comment">//è®¡ç®—æ¢¯åº¦å‘ä¸Šçš„æ–¹å‘ï¼Œä»¥æ­£xè½´ä¸ºé€†æ—¶é’ˆæ–¹å‘æŒ‡å®šçš„å¼§åº¦</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">radian_direction</span><span class="params">(<span class="keyword">int</span> xdirtag, <span class="keyword">int</span> ydirtag)</span></span>;</span><br><span class="line"><span class="comment">//è®¡ç®—æ¢¯åº¦çš„å¹…å€¼</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">magnitude_x_y</span><span class="params">()</span></span>;</span><br><span class="line"><span class="comment">//è¿›è¡Œéæå¤§å€¼æŠ‘åˆ¶</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">non_max_supp</span><span class="params">()</span></span>;</span><br><span class="line"><span class="comment">//åŒé˜ˆå€¼æ£€æµ‹</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">apply_hysteresis</span><span class="params">(<span class="keyword">float</span> tlow, <span class="keyword">float</span> thigh)</span></span>;</span><br><span class="line"><span class="comment">//é»˜è®¤å‚æ•°è®¾ç½®é«˜æ–¯æ»¤æ³¢æ ‡å‡†å·®ä¸º2.0ï¼Œä½é˜ˆå€¼ä¸º0.25ï¼Œé«˜é˜ˆå€¼ä¸º0.75</span></span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; canny_image();</span><br><span class="line"><span class="comment">//æ•´åˆæ‰€æœ‰è·å–æœ€åçš„è¾¹ç¼˜å›¾,sigmaè¡¨ç¤ºé«˜æ–¯æ»¤æ³¢çš„å‚æ•°ï¼Œtlowå’Œthighä¸ºä¸¤ä¸ªé˜ˆå€¼</span></span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; canny_image(<span class="keyword">int</span> sigma, <span class="keyword">float</span> tlow, <span class="keyword">float</span> thigh);</span><br><span class="line"><span class="comment">//é€‰å‡ºä¸¤ä¸ªè¾¹ç¼˜ç‚¹è¾ƒè¿‘çš„è·ç¦»è¿çº¿</span></span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; canny_line(CImg&lt;<span class="keyword">int</span>&gt; picture, <span class="keyword">int</span> distance);</span><br><span class="line"><span class="comment">//åˆ æ‰é•¿åº¦å°äº20çš„è¾¹ç¼˜çº¿</span></span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; delete_line(CImg&lt;<span class="keyword">int</span>&gt; picture);</span><br><span class="line"><span class="comment">//æ˜¾ç¤ºå›¾åƒ</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">()</span></span>;</span><br><span class="line"><span class="comment">//ç¼–å†™ç±»è¿‡ç¨‹çš„æµ‹è¯•ï¼Œæ— å®é™…ç”¨å¤„</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure><p><strong>Canny.cpp</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"pch.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Canny.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"CImg.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> pi 3.1415926</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> M_PI 3.14159265358979323846</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BOOSTBLURFACTOR 90.0</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NOEDGE 255</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> POSSIBLE_EDGE 128</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> EDGE 0</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> cimg_library;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">make_gaussian_kernel</span><span class="params">(<span class="keyword">float</span> sigma, <span class="keyword">float</span> **kernel, <span class="keyword">int</span> *windowsize)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">angle_radians</span><span class="params">(<span class="keyword">double</span> x, <span class="keyword">double</span> y)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">follow_edges</span><span class="params">(<span class="keyword">int</span> *edgemapptr, <span class="keyword">int</span> *edgemagptr, <span class="keyword">int</span> lowval, <span class="keyword">int</span> cols)</span></span>;</span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; Draw_line(CImg&lt;<span class="keyword">int</span>&gt; tmp, <span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> x1, <span class="keyword">int</span> y1);</span><br><span class="line"></span><br><span class="line">Canny::Canny() &#123;</span><br><span class="line">rows = <span class="number">0</span>;</span><br><span class="line">cols = <span class="number">0</span>;</span><br><span class="line">smoothedim = <span class="literal">NULL</span>;</span><br><span class="line">delta_x = <span class="literal">NULL</span>;  <span class="comment">//xæ–¹å‘çš„ä¸€é˜¶å¯¼æ•°</span></span><br><span class="line">delta_y = <span class="literal">NULL</span>;  <span class="comment">//yæ–¹å‘çš„ä¸€é˜¶å¯¼æ•°</span></span><br><span class="line">dirim = <span class="literal">NULL</span>;  <span class="comment">//æ¢¯åº¦çš„æ–¹å‘</span></span><br><span class="line">magnitude = <span class="literal">NULL</span>; <span class="comment">//æ¢¯åº¦çš„å¹…å€¼</span></span><br><span class="line">nms = <span class="literal">NULL</span>;   <span class="comment">//éæå¤§å€¼æŠ‘åˆ¶åå¾—åˆ°çŸ©é˜µ</span></span><br><span class="line">edge = <span class="literal">NULL</span>; <span class="comment">//è¾¹ç¼˜æ•°ç»„</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Canny::Canny(<span class="built_in">string</span> name, <span class="built_in">string</span> format) &#123;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">char</span> *a = name.c_str();</span><br><span class="line"><span class="built_in">string</span> jpg = <span class="string">"jpg"</span>;</span><br><span class="line"><span class="built_in">string</span> png = <span class="string">"png"</span>;</span><br><span class="line"><span class="built_in">string</span> tiff = <span class="string">"tiff"</span>;</span><br><span class="line"><span class="built_in">string</span> bmp = <span class="string">"bmp"</span>;</span><br><span class="line"><span class="keyword">if</span> (format.compare(jpg) == <span class="number">0</span>)</span><br><span class="line">img.load_jpeg(a);</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (format.compare(png) == <span class="number">0</span>)</span><br><span class="line">img.load_png(a);</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (format.compare(tiff) == <span class="number">0</span>)</span><br><span class="line">img.load_tiff(a);</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (format.compare(bmp) == <span class="number">0</span>)</span><br><span class="line">img.load_bmp(a);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="built_in">exit</span>(<span class="number">-1</span>);</span><br><span class="line"><span class="comment">//img.load_jpeg("lena.jpg");</span></span><br><span class="line">rows = img.width();</span><br><span class="line">cols = img.height();</span><br><span class="line">delta_x = <span class="keyword">new</span> <span class="keyword">int</span>[rows*cols]; <span class="built_in">memset</span>(delta_x, <span class="number">0x0</span>, rows*cols*<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">delta_y = <span class="keyword">new</span> <span class="keyword">int</span>[rows*cols]; <span class="built_in">memset</span>(delta_y, <span class="number">0x0</span>, rows*cols * <span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">dirim = <span class="keyword">new</span> <span class="keyword">float</span>[rows*cols]; <span class="built_in">memset</span>(dirim, <span class="number">0x0</span>, rows*cols * <span class="keyword">sizeof</span>(<span class="keyword">float</span>));</span><br><span class="line">magnitude = <span class="keyword">new</span> <span class="keyword">int</span>[rows*cols]; <span class="built_in">memset</span>(magnitude, <span class="number">0x0</span>, rows*cols * <span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">nms = <span class="keyword">new</span> <span class="keyword">int</span>[rows*cols]; <span class="built_in">memset</span>(nms, <span class="number">0x0</span>, rows*cols * <span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">edge = <span class="keyword">new</span> <span class="keyword">int</span>[rows*cols]; <span class="built_in">memset</span>(edge, <span class="number">0x0</span>, rows*cols * <span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">smoothedim = <span class="keyword">new</span> <span class="keyword">int</span>[rows*cols];  <span class="built_in">memset</span>(smoothedim, <span class="number">0x0</span>, rows*cols * <span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Canny::~Canny() &#123;</span><br><span class="line"><span class="keyword">delete</span>[] delta_x;</span><br><span class="line"><span class="keyword">delete</span>[] delta_y;</span><br><span class="line"><span class="keyword">delete</span>[] dirim;</span><br><span class="line"><span class="keyword">delete</span>[] magnitude;</span><br><span class="line"><span class="keyword">delete</span>[] nms;</span><br><span class="line"><span class="keyword">delete</span>[] edge;</span><br><span class="line"><span class="keyword">delete</span>[] smoothedim;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> Canny::display() &#123;</span><br><span class="line">img.display();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> Canny::RGBtoGray() &#123;</span><br><span class="line"><span class="keyword">int</span> r = <span class="number">0</span>, g = <span class="number">0</span>, b = <span class="number">0</span>;</span><br><span class="line">cimg_forXY(img, x, y) &#123;</span><br><span class="line">r = img(x, y, <span class="number">0</span>);</span><br><span class="line">g = img(x, y, <span class="number">1</span>);</span><br><span class="line">b = img(x, y, <span class="number">2</span>);</span><br><span class="line">img(x, y, <span class="number">0</span>) = img(x, y, <span class="number">1</span>) = img(x, y, <span class="number">2</span>) = (r*<span class="number">0.2126</span> + g * <span class="number">0.7152</span> + b * <span class="number">0.0722</span>);</span><br><span class="line">&#125;</span><br><span class="line">img.resize(rows, cols, <span class="number">1</span>, <span class="number">1</span>, <span class="number">5</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> Canny::gaussian_smooth(<span class="keyword">float</span> sigma)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> *tempim = <span class="keyword">new</span> <span class="keyword">int</span>[rows*cols];</span><br><span class="line"><span class="keyword">int</span> r, c,rr,cc,</span><br><span class="line">windowsize,  <span class="comment">//é«˜æ–¯æ ¸ç»´åº¦</span></span><br><span class="line">center;      <span class="comment">//æ ¸ä¸­å¿ƒ</span></span><br><span class="line"><span class="keyword">float</span> *kernel,</span><br><span class="line">dot,</span><br><span class="line">sum;</span><br><span class="line">make_gaussian_kernel(sigma, &amp;kernel, &amp;windowsize);</span><br><span class="line">center = windowsize / <span class="number">2</span>;</span><br><span class="line"><span class="keyword">for</span> (r = <span class="number">0</span>; r &lt; rows; r++) &#123;</span><br><span class="line"><span class="keyword">for</span> (c = <span class="number">0</span>; c &lt; cols; c++) &#123;</span><br><span class="line">dot = <span class="number">0.0</span>;</span><br><span class="line">sum = <span class="number">0.0</span>;</span><br><span class="line"><span class="keyword">for</span> (cc = (-center); cc &lt;= center; cc++) &#123;</span><br><span class="line"><span class="keyword">if</span> (((c + cc) &gt;= <span class="number">0</span>) &amp;&amp; ((c + cc) &lt; cols)) &#123;</span><br><span class="line">dot += (<span class="keyword">float</span>)img(r,c+cc) * kernel[center + cc];</span><br><span class="line">sum += kernel[center + cc];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">tempim[r*cols + c] = dot / sum;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (c = <span class="number">0</span>; c &lt; cols; c++) &#123;</span><br><span class="line"><span class="keyword">for</span> (r = <span class="number">0</span>; r &lt; rows; r++) &#123;</span><br><span class="line">sum = <span class="number">0.0</span>;</span><br><span class="line">dot = <span class="number">0.0</span>;</span><br><span class="line"><span class="keyword">for</span> (rr = (-center); rr &lt;= center; rr++) &#123;</span><br><span class="line"><span class="keyword">if</span> (((r + rr) &gt;= <span class="number">0</span>) &amp;&amp; ((r + rr) &lt; rows)) &#123;</span><br><span class="line">dot += tempim[(r + rr)*cols + c] * kernel[center + rr];</span><br><span class="line">sum += kernel[center + rr];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">smoothedim[r*cols + c] = (<span class="keyword">short</span> <span class="keyword">int</span>)(dot*BOOSTBLURFACTOR / sum + <span class="number">0.5</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> Canny::derrivative_x_y() &#123;</span><br><span class="line"><span class="keyword">int</span> r = <span class="number">0</span>, c = <span class="number">0</span>, pos = <span class="number">0</span>;</span><br><span class="line"><span class="comment">//è®¡ç®—xæ–¹å‘çš„ä¸€é˜¶å¯¼æ•°ï¼Œåˆ¤æ–­è¾¹ç•Œé¿å…é—å¤±è¾¹ç•Œåƒç´ ç‚¹</span></span><br><span class="line"><span class="keyword">for</span> (r = <span class="number">0</span>; r &lt; rows; r++) &#123;</span><br><span class="line">pos = r * cols;</span><br><span class="line">delta_x[pos] = smoothedim[pos + <span class="number">1</span>] - smoothedim[pos];</span><br><span class="line">pos++;</span><br><span class="line"><span class="keyword">for</span> (c = <span class="number">1</span>; c &lt; (cols - <span class="number">1</span>); c++, pos++) &#123;</span><br><span class="line">delta_x[pos] = smoothedim[pos + <span class="number">1</span>] - smoothedim[pos - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line">delta_x[pos] = smoothedim[pos] - smoothedim[pos - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è®¡ç®—yæ–¹å‘çš„ä¸€é˜¶å¯¼æ•°ï¼Œåˆ¤æ–­è¾¹ç•Œé¿å…é—å¤±è¾¹ç•Œåƒç´ ç‚¹</span></span><br><span class="line"><span class="keyword">for</span> (c = <span class="number">0</span>; c &lt; cols; c++) &#123;</span><br><span class="line">pos = c;</span><br><span class="line">delta_y[pos] = smoothedim[pos + cols] - smoothedim[pos];</span><br><span class="line">pos += cols;</span><br><span class="line"><span class="keyword">for</span> (r = <span class="number">1</span>; r &lt; (rows - <span class="number">1</span>); r++, pos += cols) &#123;</span><br><span class="line">delta_y[pos] = smoothedim[pos + cols] - smoothedim[pos - cols];</span><br><span class="line">&#125;</span><br><span class="line">delta_y[pos] = smoothedim[pos] - smoothedim[pos - cols];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> Canny::radian_direction(<span class="keyword">int</span> xdirtag, <span class="keyword">int</span> ydirtag) &#123;</span><br><span class="line"><span class="keyword">double</span> dx = <span class="number">0.0</span>, dy = <span class="number">0.0</span>;</span><br><span class="line"><span class="keyword">int</span> r = <span class="number">0</span>, c = <span class="number">0</span>, pos = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (r = <span class="number">0</span>, pos = <span class="number">0</span>; r &lt; rows; r++) &#123;</span><br><span class="line"><span class="keyword">for</span> (c = <span class="number">0</span>; c &lt; cols; c++, pos++) &#123;</span><br><span class="line">dx = (<span class="keyword">double</span>)delta_x[pos];</span><br><span class="line">dy = (<span class="keyword">double</span>)delta_y[pos];</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (xdirtag == <span class="number">1</span>) dx = -dx;</span><br><span class="line"><span class="keyword">if</span> (ydirtag == <span class="number">-1</span>) dy = -dy;</span><br><span class="line"></span><br><span class="line">dirim[pos] = (<span class="keyword">float</span>)angle_radians(dx, dy);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> Canny::magnitude_x_y() &#123;</span><br><span class="line"><span class="keyword">int</span> r = <span class="number">0</span>, c = <span class="number">0</span>, pos = <span class="number">0</span>, sq1 = <span class="number">0</span>, sq2 = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (r = <span class="number">0</span>, pos = <span class="number">0</span>; r &lt; rows; r++) &#123;</span><br><span class="line"><span class="keyword">for</span> (c = <span class="number">0</span>; c &lt; cols; c++, pos++) &#123;</span><br><span class="line">sq1 = (<span class="keyword">int</span>)delta_x[pos] * (<span class="keyword">int</span>)delta_x[pos];</span><br><span class="line">sq2 = (<span class="keyword">int</span>)delta_y[pos] * (<span class="keyword">int</span>)delta_y[pos];</span><br><span class="line">magnitude[pos] = (<span class="keyword">short</span>)(<span class="number">0.5</span> + <span class="built_in">sqrt</span>((<span class="keyword">float</span>)sq1 + (<span class="keyword">float</span>)sq2));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> Canny::non_max_supp() &#123;</span><br><span class="line"><span class="keyword">int</span> rowcount = <span class="number">0</span>, colcount = <span class="number">0</span>, count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> *magrowptr, *magptr;</span><br><span class="line"><span class="keyword">int</span> *gxrowptr, *gxptr;</span><br><span class="line"><span class="keyword">int</span> *gyrowptr, *gyptr, z1 = <span class="number">0</span>, z2 = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> m00, gx = <span class="number">0</span>, gy = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">float</span> mag1 = <span class="number">0.0</span>, mag2 = <span class="number">0.0</span>, xperp = <span class="number">0.0</span>, yperp = <span class="number">0.0</span>;</span><br><span class="line"><span class="keyword">int</span> *resultrowptr, *resultptr;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (count = <span class="number">0</span>, resultrowptr = nms, resultptr = nms + cols * (rows - <span class="number">1</span>);</span><br><span class="line">count &lt; cols; resultptr++, resultrowptr++, count++) &#123;</span><br><span class="line">*resultrowptr = *resultptr = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (count = <span class="number">0</span>, resultptr = nms, resultrowptr = nms + cols - <span class="number">1</span>;</span><br><span class="line">count &lt; rows; count++, resultptr += cols, resultrowptr += cols) &#123;</span><br><span class="line">*resultptr = *resultrowptr = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (rowcount = <span class="number">1</span>, magrowptr = magnitude + cols + <span class="number">1</span>, gxrowptr = delta_x + cols + <span class="number">1</span>,</span><br><span class="line">gyrowptr = delta_y + cols + <span class="number">1</span>, resultrowptr = nms + cols + <span class="number">1</span>;</span><br><span class="line">rowcount &lt; rows - <span class="number">2</span>;</span><br><span class="line">rowcount++, magrowptr += cols, gyrowptr += cols, gxrowptr += cols,</span><br><span class="line">resultrowptr += cols) &#123;</span><br><span class="line"><span class="keyword">for</span> (colcount = <span class="number">1</span>, magptr = magrowptr, gxptr = gxrowptr, gyptr = gyrowptr,</span><br><span class="line">resultptr = resultrowptr; colcount &lt; cols - <span class="number">2</span>;</span><br><span class="line">colcount++, magptr++, gxptr++, gyptr++, resultptr++) &#123;</span><br><span class="line">m00 = *magptr;</span><br><span class="line"><span class="keyword">if</span> (m00 == <span class="number">0</span>) &#123;</span><br><span class="line">*resultptr = NOEDGE;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">xperp = -(gx = *gxptr) / ((<span class="keyword">float</span>)m00);</span><br><span class="line">yperp = (gy = *gyptr) / ((<span class="keyword">float</span>)m00);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (gx &gt;= <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (gy &gt;= <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (gx &gt;= gy)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">/* 111 */</span></span><br><span class="line"><span class="comment">/* Left point */</span></span><br><span class="line">z1 = *(magptr - <span class="number">1</span>);</span><br><span class="line">z2 = *(magptr - cols - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">mag1 = (m00 - z1)*xperp + (z2 - z1)*yperp;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Right point */</span></span><br><span class="line">z1 = *(magptr + <span class="number">1</span>);</span><br><span class="line">z2 = *(magptr + cols + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">mag2 = (m00 - z1)*xperp + (z2 - z1)*yperp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">/* 110 */</span></span><br><span class="line"><span class="comment">/* Left point */</span></span><br><span class="line">z1 = *(magptr - cols);</span><br><span class="line">z2 = *(magptr - cols - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">mag1 = (z1 - z2)*xperp + (z1 - m00)*yperp;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Right point */</span></span><br><span class="line">z1 = *(magptr + cols);</span><br><span class="line">z2 = *(magptr + cols + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">mag2 = (z1 - z2)*xperp + (z1 - m00)*yperp;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (gx &gt;= -gy)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">/* 101 */</span></span><br><span class="line"><span class="comment">/* Left point */</span></span><br><span class="line">z1 = *(magptr - <span class="number">1</span>);</span><br><span class="line">z2 = *(magptr + cols - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">mag1 = (m00 - z1)*xperp + (z1 - z2)*yperp;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Right point */</span></span><br><span class="line">z1 = *(magptr + <span class="number">1</span>);</span><br><span class="line">z2 = *(magptr - cols + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">mag2 = (m00 - z1)*xperp + (z1 - z2)*yperp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">/* 100 */</span></span><br><span class="line"><span class="comment">/* Left point */</span></span><br><span class="line">z1 = *(magptr + cols);</span><br><span class="line">z2 = *(magptr + cols - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">mag1 = (z1 - z2)*xperp + (m00 - z1)*yperp;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Right point */</span></span><br><span class="line">z1 = *(magptr - cols);</span><br><span class="line">z2 = *(magptr - cols + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">mag2 = (z1 - z2)*xperp + (m00 - z1)*yperp;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> ((gy = *gyptr) &gt;= <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (-gx &gt;= gy)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">/* 011 */</span></span><br><span class="line"><span class="comment">/* Left point */</span></span><br><span class="line">z1 = *(magptr + <span class="number">1</span>);</span><br><span class="line">z2 = *(magptr - cols + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">mag1 = (z1 - m00)*xperp + (z2 - z1)*yperp;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Right point */</span></span><br><span class="line">z1 = *(magptr - <span class="number">1</span>);</span><br><span class="line">z2 = *(magptr + cols - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">mag2 = (z1 - m00)*xperp + (z2 - z1)*yperp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">/* 010 */</span></span><br><span class="line"><span class="comment">/* Left point */</span></span><br><span class="line">z1 = *(magptr - cols);</span><br><span class="line">z2 = *(magptr - cols + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">mag1 = (z2 - z1)*xperp + (z1 - m00)*yperp;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Right point */</span></span><br><span class="line">z1 = *(magptr + cols);</span><br><span class="line">z2 = *(magptr + cols - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">mag2 = (z2 - z1)*xperp + (z1 - m00)*yperp;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (-gx &gt; -gy)</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">/* 001 */</span></span><br><span class="line"><span class="comment">/* Left point */</span></span><br><span class="line">z1 = *(magptr + <span class="number">1</span>);</span><br><span class="line">z2 = *(magptr + cols + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">mag1 = (z1 - m00)*xperp + (z1 - z2)*yperp;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Right point */</span></span><br><span class="line">z1 = *(magptr - <span class="number">1</span>);</span><br><span class="line">z2 = *(magptr - cols - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">mag2 = (z1 - m00)*xperp + (z1 - z2)*yperp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">/* 000 */</span></span><br><span class="line"><span class="comment">/* Left point */</span></span><br><span class="line">z1 = *(magptr + cols);</span><br><span class="line">z2 = *(magptr + cols + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">mag1 = (z2 - z1)*xperp + (m00 - z1)*yperp;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Right point */</span></span><br><span class="line">z1 = *(magptr - cols);</span><br><span class="line">z2 = *(magptr - cols - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">mag2 = (z2 - z1)*xperp + (m00 - z1)*yperp;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Now determine if the current point is a maximum point */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ((mag1 &gt; <span class="number">0.0</span>) || (mag2 &gt; <span class="number">0.0</span>))</span><br><span class="line">&#123;</span><br><span class="line">*resultptr = NOEDGE;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (mag2 == <span class="number">0.0</span>)</span><br><span class="line">*resultptr = NOEDGE;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">*resultptr = POSSIBLE_EDGE;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> Canny::apply_hysteresis(<span class="keyword">float</span> tlow, <span class="keyword">float</span> thigh) &#123;</span><br><span class="line"><span class="keyword">int</span> r = <span class="number">0</span>, c = <span class="number">0</span>, pos = <span class="number">0</span>, numedges = <span class="number">0</span>, lowcount = <span class="number">0</span>, highcount = <span class="number">0</span>, lowthreshold = <span class="number">0</span>, highthreshold = <span class="number">0</span>,</span><br><span class="line">i = <span class="number">0</span>, *hist, rr = <span class="number">0</span>, cc = <span class="number">0</span>;</span><br><span class="line">hist = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">32768</span>];</span><br><span class="line"><span class="keyword">int</span> maximum_mag = <span class="number">0</span>, sumpix = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (r = <span class="number">0</span>, pos = <span class="number">0</span>; r &lt; rows; r++) &#123;</span><br><span class="line"><span class="keyword">for</span> (c = <span class="number">0</span>; c &lt; cols; c++, pos++) &#123;</span><br><span class="line"><span class="keyword">if</span> (nms[pos] == POSSIBLE_EDGE) edge[pos] = POSSIBLE_EDGE;</span><br><span class="line"><span class="keyword">else</span> edge[pos] = NOEDGE;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (r = <span class="number">0</span>, pos = <span class="number">0</span>; r &lt; rows; r++, pos += cols) &#123;</span><br><span class="line">edge[pos] = NOEDGE;</span><br><span class="line">edge[pos + cols - <span class="number">1</span>] = NOEDGE;</span><br><span class="line">&#125;</span><br><span class="line">pos = (rows - <span class="number">1</span>) * cols;</span><br><span class="line"><span class="keyword">for</span> (c = <span class="number">0</span>; c &lt; cols; c++, pos++) &#123;</span><br><span class="line">edge[c] = NOEDGE;</span><br><span class="line">edge[pos] = NOEDGE;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (r = <span class="number">0</span>; r &lt; <span class="number">32768</span>; r++) hist[r] = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (r = <span class="number">0</span>, pos = <span class="number">0</span>; r &lt; rows; r++) &#123;</span><br><span class="line"><span class="keyword">for</span> (c = <span class="number">0</span>; c &lt; cols; c++, pos++) &#123;</span><br><span class="line"><span class="keyword">if</span> (edge[pos] == POSSIBLE_EDGE) hist[magnitude[pos]]++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (r = <span class="number">1</span>, numedges = <span class="number">0</span>; r &lt; <span class="number">32768</span>; r++) &#123;</span><br><span class="line"><span class="keyword">if</span> (hist[r] != <span class="number">0</span>) maximum_mag = r;</span><br><span class="line">numedges += hist[r];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">highcount = (<span class="keyword">int</span>)(numedges * thigh + <span class="number">0.5</span>);</span><br><span class="line"></span><br><span class="line">r = <span class="number">1</span>;</span><br><span class="line">numedges = hist[<span class="number">1</span>];</span><br><span class="line"><span class="keyword">while</span> ((r &lt; (maximum_mag - <span class="number">1</span>)) &amp;&amp; (numedges &lt; highcount)) &#123;</span><br><span class="line">r++;</span><br><span class="line">numedges += hist[r];</span><br><span class="line">&#125;</span><br><span class="line">highthreshold = r;</span><br><span class="line">lowthreshold = (<span class="keyword">int</span>)(highthreshold * tlow + <span class="number">0.5</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (r = <span class="number">0</span>, pos = <span class="number">0</span>; r &lt; rows; r++) &#123;</span><br><span class="line"><span class="keyword">for</span> (c = <span class="number">0</span>; c &lt; cols; c++, pos++) &#123;</span><br><span class="line"><span class="keyword">if</span> ((edge[pos] == POSSIBLE_EDGE) &amp;&amp; (magnitude[pos] &gt;= highthreshold)) &#123;</span><br><span class="line">edge[pos] = EDGE;</span><br><span class="line">follow_edges((edge + pos), (magnitude + pos), lowthreshold, cols);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (r = <span class="number">0</span>, pos = <span class="number">0</span>; r &lt; rows; r++) &#123;</span><br><span class="line"><span class="keyword">for</span> (c = <span class="number">0</span>; c &lt; cols; c++, pos++) <span class="keyword">if</span> (edge[pos] != EDGE) edge[pos] = NOEDGE;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">delete</span>[] hist;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">make_gaussian_kernel</span><span class="params">(<span class="keyword">float</span> sigma, <span class="keyword">float</span> **kernel, <span class="keyword">int</span> *windowsize)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> i = <span class="number">0</span>, center = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">float</span> x, fx, sum = <span class="number">0.0</span>;</span><br><span class="line"><span class="comment">//æ ¹æ®é«˜æ–¯æ»¤æ³¢æ ¸çš„æ–¹å·®è®¡ç®—é«˜æ–¯æ ¸çš„å®½é«˜</span></span><br><span class="line">*windowsize = <span class="number">1</span> + <span class="number">2</span> * <span class="built_in">ceil</span>(<span class="number">2.5</span> * sigma);</span><br><span class="line"><span class="comment">//*kernel = (float*)calloc((*windowsize), sizeof(float));</span></span><br><span class="line">center = (*windowsize) / <span class="number">2</span>;</span><br><span class="line">*kernel = <span class="keyword">new</span> <span class="keyword">float</span>[*windowsize];</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; (*windowsize); i++) &#123;</span><br><span class="line">x = (<span class="keyword">float</span>)(i - center);</span><br><span class="line">fx = <span class="built_in">pow</span>(<span class="number">2.71828</span>, <span class="number">-0.5</span>*x*x / (sigma*sigma)) / (sigma * <span class="built_in">sqrt</span>(<span class="number">6.2831853</span>));</span><br><span class="line">(*kernel)[i] = fx;</span><br><span class="line">sum += fx;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; (*windowsize); i++) &#123;</span><br><span class="line">(*kernel)[i] /= sum;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">angle_radians</span><span class="params">(<span class="keyword">double</span> x, <span class="keyword">double</span> y)</span> </span>&#123;</span><br><span class="line"><span class="keyword">double</span> xu = <span class="number">0.0</span>, yu = <span class="number">0.0</span>, ang = <span class="number">0.0</span>;</span><br><span class="line">xu = <span class="built_in">fabs</span>(x);</span><br><span class="line">yu = <span class="built_in">fabs</span>(y);</span><br><span class="line"><span class="keyword">if</span> ((xu == <span class="number">0</span>) &amp;&amp; (yu == <span class="number">0</span>)) <span class="keyword">return</span>(<span class="number">0</span>);</span><br><span class="line">ang = <span class="built_in">atan</span>(yu / xu);</span><br><span class="line"><span class="keyword">if</span> (x &gt;= <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (y &gt;= <span class="number">0</span>) <span class="keyword">return</span> (ang);</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">return</span>(<span class="number">2</span> * M_PI - ang);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (y &gt;= <span class="number">0</span>) <span class="keyword">return</span> (M_PI - ang);</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">return</span>(M_PI + ang);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">follow_edges</span><span class="params">(<span class="keyword">int</span> *edgemapptr, <span class="keyword">int</span> *edgemagptr, <span class="keyword">int</span> lowval, <span class="keyword">int</span> cols)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> *tempmagptr;</span><br><span class="line"><span class="keyword">int</span> *tempmapptr;</span><br><span class="line"><span class="keyword">int</span> i;</span><br><span class="line"><span class="keyword">float</span> thethresh;</span><br><span class="line"><span class="keyword">int</span> x[<span class="number">8</span>] = &#123; <span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">-1</span>,<span class="number">-1</span>,<span class="number">-1</span>,<span class="number">0</span>,<span class="number">1</span> &#125;,</span><br><span class="line">y[<span class="number">8</span>] = &#123; <span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">-1</span>,<span class="number">-1</span>,<span class="number">-1</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++) &#123;</span><br><span class="line">tempmapptr = edgemapptr - y[i] * cols + x[i];</span><br><span class="line">tempmagptr = edgemagptr - y[i] * cols + x[i];</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ((*tempmapptr == POSSIBLE_EDGE) &amp;&amp; (*tempmagptr &gt; lowval)) &#123;</span><br><span class="line">*tempmapptr = EDGE;</span><br><span class="line">follow_edges(tempmapptr, tempmagptr, lowval, cols);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; Canny::canny_image() &#123;</span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; pic = canny_image(<span class="number">2.0</span>, <span class="number">0.25</span>, <span class="number">0.75</span>);</span><br><span class="line"><span class="keyword">return</span> pic;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; Canny::canny_image(<span class="keyword">int</span> sigma, <span class="keyword">float</span> tlow, <span class="keyword">float</span> thigh) &#123;</span><br><span class="line">RGBtoGray();</span><br><span class="line">gaussian_smooth(sigma);</span><br><span class="line">derrivative_x_y();</span><br><span class="line">radian_direction(<span class="number">-1</span>, <span class="number">-1</span>);</span><br><span class="line">magnitude_x_y();</span><br><span class="line">non_max_supp();</span><br><span class="line">apply_hysteresis(tlow, thigh);</span><br><span class="line"><span class="comment">//img.test();</span></span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; pic(rows, cols, <span class="number">1</span>, <span class="number">1</span>, <span class="number">5</span>);</span><br><span class="line">pic.fill(<span class="number">0</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; rows; i++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; cols; j++) &#123;</span><br><span class="line"><span class="keyword">if</span> (edge[i*cols + j] &lt; <span class="number">0</span>)</span><br><span class="line">pic(i, j) = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (edge[i*cols + j] &gt; <span class="number">255</span>)</span><br><span class="line">pic(i, j) = <span class="number">255</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">pic(i, j) = edge[i*cols + j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> pic;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; Canny::canny_line(CImg&lt;<span class="keyword">int</span>&gt; picture, <span class="keyword">int</span> distance) &#123;</span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; pic = picture;</span><br><span class="line"><span class="comment">//ç”¨äºè®¡ç®—æŸä¸€ä¸ªåƒç´ ç‚¹æ˜¯å¦ä¸ºè¾¹ç¼˜ç‚¹</span></span><br><span class="line"><span class="comment">//åˆ¤æ–­æ–¹æ³•ä¸ºæŸ¥çœ‹ä»¥è¿™ä¸ªç‚¹ä¸ºä¸­å¿ƒçš„å…«é‚»åŸŸï¼Œå¦‚æœé™„è¿‘åªæœ‰1ä¸ªåƒç´ ç‚¹ä¸º0, å…¶ä»–7ä¸ªä¸º255åˆ™æ˜¯è¾¹ç¼˜ç‚¹</span></span><br><span class="line"><span class="keyword">bool</span> isEdge[<span class="number">1000</span>][<span class="number">1000</span>];</span><br><span class="line">cimg_forXY(pic, x, y) &#123;</span><br><span class="line">isEdge[x][y] = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">if</span> (x != rows - <span class="number">1</span> &amp;&amp; x != <span class="number">0</span> &amp;&amp; y != cols - <span class="number">1</span> &amp;&amp; y != <span class="number">0</span> &amp;&amp; pic(x, y) == <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">int</span> linyu[<span class="number">8</span>];</span><br><span class="line"><span class="keyword">int</span> m = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = x - <span class="number">1</span>; i &lt;= x + <span class="number">1</span>; i++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = y - <span class="number">1</span>; j &lt;= y + <span class="number">1</span>; j++) &#123;</span><br><span class="line"><span class="keyword">if</span> (!(i == x &amp;&amp; j == y)) &#123;</span><br><span class="line">linyu[m] = pic(i, j);</span><br><span class="line">m++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">sort(linyu, linyu + <span class="number">8</span>);</span><br><span class="line"><span class="keyword">if</span> (linyu[<span class="number">0</span>] == <span class="number">0</span> &amp;&amp; linyu[<span class="number">1</span>] == <span class="number">255</span>)</span><br><span class="line">isEdge[x][y] = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">cimg_forXY(pic, x, y) &#123;</span><br><span class="line"><span class="keyword">if</span> (x &gt;= distance &amp;&amp; x &lt;= rows - <span class="number">1</span> - distance &amp;&amp; y &gt;= distance &amp;&amp; y &lt;= cols - <span class="number">1</span> - distance &amp;&amp; isEdge[x][y] == <span class="literal">true</span>) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = x - distance; i &lt;= x + distance; i++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = y - distance; j &lt;= y + distance; j++) &#123;</span><br><span class="line"><span class="keyword">if</span> (isEdge[i][j] == <span class="literal">true</span>) &#123;</span><br><span class="line">pic = Draw_line(pic, x, y, i, j);</span><br><span class="line">isEdge[i][j] = <span class="literal">false</span>;</span><br><span class="line">isEdge[x][y] = <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> pic;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; Canny::delete_line(CImg&lt;<span class="keyword">int</span>&gt; picture) &#123;</span><br><span class="line"><span class="comment">//ç”¨äºè®¡ç®—æŸä¸€ä¸ªåƒç´ ç‚¹æ˜¯å¦ä¸ºè¾¹ç¼˜ç‚¹</span></span><br><span class="line"><span class="comment">//åˆ¤æ–­æ–¹æ³•ä¸ºæŸ¥çœ‹ä»¥è¿™ä¸ªç‚¹ä¸ºä¸­å¿ƒçš„å…«é‚»åŸŸï¼Œå¦‚æœé™„è¿‘åªæœ‰1ä¸ªåƒç´ ç‚¹ä¸º0, å…¶ä»–7ä¸ªä¸º255åˆ™æ˜¯è¾¹ç¼˜ç‚¹</span></span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; pic = picture;</span><br><span class="line"><span class="keyword">bool</span> isEdge[<span class="number">1000</span>][<span class="number">1000</span>];</span><br><span class="line">cimg_forXY(pic, x, y) &#123;</span><br><span class="line">isEdge[x][y] = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">if</span> (x != rows - <span class="number">1</span> &amp;&amp; x != <span class="number">0</span> &amp;&amp; y != cols - <span class="number">1</span> &amp;&amp; y != <span class="number">0</span> &amp;&amp; pic(x, y) == <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">int</span> linyu[<span class="number">8</span>];</span><br><span class="line"><span class="keyword">int</span> m = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = x - <span class="number">1</span>; i &lt;= x + <span class="number">1</span>; i++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = y - <span class="number">1</span>; j &lt;= y + <span class="number">1</span>; j++) &#123;</span><br><span class="line"><span class="keyword">if</span> (!(i == x &amp;&amp; j == y)) &#123;</span><br><span class="line">linyu[m] = pic(i, j);</span><br><span class="line">m++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">sort(linyu, linyu + <span class="number">8</span>);</span><br><span class="line"><span class="keyword">if</span> (linyu[<span class="number">0</span>] == <span class="number">0</span> &amp;&amp; linyu[<span class="number">1</span>] == <span class="number">255</span>)</span><br><span class="line">isEdge[x][y] = <span class="literal">true</span>;</span><br><span class="line"><span class="comment">//åˆ é™¤å•ä¸ªå­¤ç«‹çš„ç‚¹</span></span><br><span class="line"><span class="keyword">if</span> (linyu[<span class="number">0</span>] == <span class="number">255</span>)</span><br><span class="line">pic(x, y) = <span class="number">255</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//åˆ é™¤é•¿åº¦å°‘äº20çš„è¿çº¿</span></span><br><span class="line"><span class="comment">//åˆ¤æ–­å¦‚æœä¸¤ä¸ªè¾¹ç•Œç‚¹çš„è·ç¦»å°äº20ï¼Œå°±åˆ é™¤è¿™ä¸¤ä¸ªè¾¹ç•Œç‚¹ç»„æˆçš„çŸ©é˜µå†…æ‰€æœ‰é»‘ç‚¹ï¼Œè¿™æ ·çš„è¯å³ä½¿ä¸¤ä¸ªè¾¹ç•Œç‚¹åˆ†åˆ«æ˜¯ä¸¤æ¡ç›´çº¿çš„è¯ä¹Ÿæ— æ‰€è°“</span></span><br><span class="line"><span class="comment">//åæ­£æ˜¯è¿™æ ·çš„è¯è¿™ä¸¤è¾¹ç•Œç‚¹ä¹‹é—´éƒ½æ˜¯ç™½è‰²åŒºåŸŸï¼Œåˆ é™¤ä¹Ÿæ— æ‰€è°“</span></span><br><span class="line">cimg_forXY(pic, x, y) &#123;</span><br><span class="line"><span class="keyword">int</span> distance = <span class="number">20</span>;</span><br><span class="line"><span class="keyword">if</span> (isEdge[x][y] == <span class="literal">true</span>) &#123;</span><br><span class="line"><span class="keyword">int</span> begin_x = x - distance &gt; <span class="number">0</span> ? x - distance : <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> begin_y = y - distance &gt; <span class="number">0</span> ? y - distance : <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> end_x = x + distance &lt; rows - <span class="number">1</span> ? x + distance : rows - <span class="number">1</span>;</span><br><span class="line"><span class="keyword">int</span> end_y = y + distance &lt; cols - <span class="number">1</span> ? y + distance : cols - <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = begin_x; i &lt;= end_x; i++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = begin_y; j &lt;= end_y; j++) &#123;</span><br><span class="line"><span class="keyword">if</span> (isEdge[i][j] == <span class="literal">true</span>) &#123;</span><br><span class="line"><span class="keyword">int</span> max_x = x &gt;= i ? x : i;</span><br><span class="line"><span class="keyword">int</span> max_y = y &gt;= j ? y : j;</span><br><span class="line"><span class="keyword">int</span> min_x = max_x == x ? i : x;</span><br><span class="line"><span class="keyword">int</span> min_y = max_y == y ? j : y;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> ii = min_x; ii &lt;= max_x; ii++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> jj = min_y; jj &lt;= max_y; jj++) &#123;</span><br><span class="line">pic(ii, jj) = <span class="number">255</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">isEdge[i][j] = <span class="literal">false</span>;</span><br><span class="line">isEdge[x][y] = <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//åˆ é™¤ç»è¿‡ä¸Šä¸€æ­¥å¤„ç†å®Œå¯èƒ½å­˜åœ¨çš„å•ä¸ªå­¤ç«‹çš„å™ªå£°ç‚¹</span></span><br><span class="line">cimg_forXY(pic, x, y) &#123;</span><br><span class="line"><span class="keyword">if</span> (x != rows - <span class="number">1</span> &amp;&amp; x != <span class="number">0</span> &amp;&amp; y != cols - <span class="number">1</span> &amp;&amp; y != <span class="number">0</span> &amp;&amp; pic(x, y) == <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">int</span> linyu[<span class="number">8</span>];</span><br><span class="line"><span class="keyword">int</span> m = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = x - <span class="number">1</span>; i &lt;= x + <span class="number">1</span>; i++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = y - <span class="number">1</span>; j &lt;= y + <span class="number">1</span>; j++) &#123;</span><br><span class="line"><span class="keyword">if</span> (!(i == x &amp;&amp; j == y)) &#123;</span><br><span class="line">linyu[m] = pic(i, j);</span><br><span class="line">m++;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">sort(linyu, linyu + <span class="number">8</span>);</span><br><span class="line"><span class="keyword">if</span> (linyu[<span class="number">0</span>] == <span class="number">255</span>)</span><br><span class="line">pic(x, y) = <span class="number">255</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> pic;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; Draw_line(CImg&lt;<span class="keyword">int</span>&gt; tmp, <span class="keyword">int</span> x ,<span class="keyword">int</span> y, <span class="keyword">int</span> x1, <span class="keyword">int</span> y1) &#123;</span><br><span class="line"></span><br><span class="line">CImg &lt;<span class="keyword">int</span>&gt; TempImg = tmp;</span><br><span class="line"><span class="keyword">int</span> black[] = &#123; <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span> &#125;;</span><br><span class="line">TempImg.draw_line(x, y, x1, y1, black);</span><br><span class="line"><span class="keyword">return</span> TempImg;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> Canny::test() &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; rows*cols; i++) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; edge[i] &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>è¯¦ç»†æµ‹è¯•ç»“æœçœ‹æµ‹è¯•æŠ¥å‘Šï¼š</strong><br><a href="https://download.csdn.net/download/perry0528/10732970" target="_blank" rel="noopener">https://download.csdn.net/download/perry0528/10732970</a><br><strong>å®Œæ•´ä»£ç å‚è§ï¼š</strong><br><a href="https://github.com/WangPerryWPY/Computer-Version/tree/master/Exp2" target="_blank" rel="noopener">https://github.com/WangPerryWPY/Computer-Version/tree/master/Exp2</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Ex2ï¼šç”¨-CImg-é‡å†™ã€å°è£…ç»™å®šçš„-Canny-ä»£ç ï¼Œå¹¶æµ‹è¯•&quot;&gt;&lt;a href=&quot;#Ex2ï¼šç”¨-CImg-é‡å†™ã€å°è£…ç»™å®šçš„-Canny-ä»£ç ï¼Œå¹¶æµ‹è¯•&quot; class=&quot;headerlink&quot; title=&quot;Ex2ï¼šç”¨ CImg é‡å†™ã€å°è£…ç»™å®šçš„ Canny ä»£ç 
      
    
    </summary>
    
      <category term="è®¡ç®—æœºå›¾å½¢å­¦" scheme="http://yoursite.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6/"/>
    
    
      <category term="c++" scheme="http://yoursite.com/tags/c/"/>
    
      <category term="è®¡ç®—æœºå›¾å½¢å­¦" scheme="http://yoursite.com/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>ç”¨ä¸­ä½åˆ‡å‰²ç®—æ³•å®ç°å›¾åƒå‡è‰²</title>
    <link href="http://yoursite.com/2019/07/06/%E7%94%A8%E4%B8%AD%E4%BD%8D%E5%88%87%E5%89%B2%E7%AE%97%E6%B3%95%E5%AE%9E%E7%8E%B0%E5%9B%BE%E5%83%8F%E5%87%8F%E8%89%B2/"/>
    <id>http://yoursite.com/2019/07/06/ç”¨ä¸­ä½åˆ‡å‰²ç®—æ³•å®ç°å›¾åƒå‡è‰²/</id>
    <published>2019-07-05T16:34:35.000Z</published>
    <updated>2019-07-05T16:35:22.260Z</updated>
    
    <content type="html"><![CDATA[<ul><li>å®ç°ç¯å¢ƒï¼š<strong>python</strong><br>å¤„ç†ä¸€å¼ çº¢è‹¹æœå›¾ï¼š<br><img src="https://img-blog.csdn.net/20181014163625887?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><strong>å…ˆæè¿°ä¸€ä¸‹ä¸­ä½åˆ‡å‰²ç®—æ³•å§ï¼š</strong> </li></ul><ol><li>å°†å›¾ç‰‡å†…çš„æ‰€æœ‰åƒç´ åŠ å…¥åˆ°åŒä¸€ä¸ªåŒºåŸŸ </li><li>å¯¹äºæ‰€æœ‰çš„åŒºåŸŸåšä»¥ä¸‹çš„äº‹ï¼š </li><li>è®¡ç®—æ­¤åŒºåŸŸå†…æ‰€æœ‰åƒç´ çš„ RGB ä¸‰å…ƒç´ æœ€å¤§å€¼ä¸æœ€å°å€¼çš„å·®ã€‚ </li><li>é€‰å‡ºç›¸å·®æœ€å¤§çš„é‚£ä¸ªé¢œè‰²ï¼ˆR æˆ– G æˆ– Bï¼‰ </li><li>æ ¹æ®é‚£ä¸ªé¢œè‰²å»æ’åºæ­¤åŒºåŸŸå†…æ‰€æœ‰åƒç´  </li><li>åˆ†å‰²å‰ä¸€åŠä¸åä¸€åŠçš„åƒç´ åˆ°äºŒä¸ªä¸åŒçš„åŒºåŸŸï¼ˆè¿™é‡Œå°±æ˜¯â€œä¸­ä½åˆ‡<br>å‰²â€åå­—çš„ç”±æ¥ï¼‰ </li><li>é‡å¤ç¬¬äºŒæ­¥ç›´åˆ°ä½ æœ‰ 256 ä¸ªåŒºåŸŸ </li><li>å°†æ¯ä¸ªåŒºåŸŸå†…çš„åƒç´ å¹³å‡èµ·æ¥ï¼Œäºæ˜¯ä½ å°±å¾—åˆ°äº† 256 è‰² </li></ol><p><strong>äºæ˜¯æ ¹æ®ç»´åŸºç™¾ç§‘çš„ç®—æ³•æè¿°å…ˆæ˜¯å®ç°äº†ä¸€ä¸ª cube çš„ç±»ç”¨äºè¿›è¡ŒåŒºåŸŸçš„ç­›é€‰ï¼Œ</strong><br><strong>cube.py:</strong> </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> statistics <span class="keyword">import</span> mean</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cube</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, colors)</span>:</span></span><br><span class="line">        self.colors = colors <span class="keyword">or</span> []</span><br><span class="line">        self.red = [r[<span class="number">0</span>] <span class="keyword">for</span> r <span class="keyword">in</span> colors]</span><br><span class="line">        self.green = [g[<span class="number">1</span>] <span class="keyword">for</span> g <span class="keyword">in</span> colors]</span><br><span class="line">        self.blue = [b[<span class="number">2</span>] <span class="keyword">for</span> b <span class="keyword">in</span> colors]</span><br><span class="line">        self.size = (max(self.red) - min(self.red),</span><br><span class="line">                     max(self.green) - min(self.green),</span><br><span class="line">                     max(self.blue) - min(self.blue))</span><br><span class="line">        self.range = max(self.size)</span><br><span class="line">        self.channel = self.size.index(self.range)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__lt__</span><span class="params">(self, other)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.range &lt; other.range</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">average</span><span class="params">(self)</span>:</span></span><br><span class="line">        r = int(mean(self.red))</span><br><span class="line">        g = int(mean(self.green))</span><br><span class="line">        b = int(mean(self.blue))</span><br><span class="line">        <span class="keyword">return</span> r, g, b</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">split</span><span class="params">(self)</span>:</span></span><br><span class="line">        middle = int(len(self.colors) / <span class="number">2</span>)</span><br><span class="line">        colors = sorted(self.colors, key=<span class="keyword">lambda</span> c: c[self.channel])</span><br><span class="line">        <span class="keyword">return</span> Cube(colors[:middle]), Cube(colors[middle:])</span><br></pre></td></tr></table></figure><p><strong>main å‡½æ•°å€ŸåŠ© Cube ç±»å®ç°äº†å¯¹å›¾åƒä¸­åƒç´  rgb å€¼å¯¹åº” LUT çš„åŒ¹é…ï¼š</strong><br><strong>main.py</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">from</span> cube <span class="keyword">import</span> Cube</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">median_cut</span><span class="params">(img, num)</span>:</span></span><br><span class="line">    colors = []</span><br><span class="line">    <span class="keyword">for</span> count, color <span class="keyword">in</span> img.getcolors(img.width * img.height):</span><br><span class="line">        colors += [color]</span><br><span class="line">    cubes = [Cube(colors)]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> len(cubes) &lt; num:</span><br><span class="line">        cubes.sort()</span><br><span class="line">        cubes += cubes.pop().split()</span><br><span class="line">    i = <span class="number">0</span></span><br><span class="line">    LUT = &#123;&#125;</span><br><span class="line">    index = ()</span><br><span class="line">    <span class="keyword">for</span> c <span class="keyword">in</span> cubes:</span><br><span class="line">        average = c.average()</span><br><span class="line">        <span class="keyword">for</span> color <span class="keyword">in</span> c.colors:</span><br><span class="line">            LUT[color] = average                </span><br><span class="line">    <span class="keyword">return</span> LUT</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span> :</span></span><br><span class="line">    image = Image.open(<span class="string">'E://Desktop//duomeiti//redapple.jpg'</span>)</span><br><span class="line">    LUT = median_cut(image, <span class="number">256</span>)</span><br><span class="line">    img = np.array(image)</span><br><span class="line">    rows,cols,channel=img.shape</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(rows):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(cols):</span><br><span class="line">            index = (img[i,j,<span class="number">0</span>],img[i,j,<span class="number">1</span>],img[i,j,<span class="number">2</span>])</span><br><span class="line">            color = LUT[index]</span><br><span class="line">            img[i,j] = color</span><br><span class="line">    plt.imshow(img)</span><br><span class="line">    plt.axis(<span class="string">'off'</span>)</span><br><span class="line">    plt.savefig(<span class="string">'result3.jpg'</span>)</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><p><strong>ç»“æœç¤ºä¾‹ï¼š</strong><br><img src="https://img-blog.csdn.net/20181014163124977?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><strong>å¦‚æœå°†é¢œè‰²è¡¨æå–å‡ºæ¥æ•ˆæœå¦‚ä¸‹ï¼š</strong><br>ï¼ˆå› 256è‰²å¸¦æ˜¯åœ¨å¤ªå¤§csdnæ— æ³•æ˜¾ç¤ºï¼Œæ•…åªæˆªå–äº†ä¸€éƒ¨åˆ†ï¼‰<br><img src="https://img-blog.csdn.net/20181014163300275?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdn.net/20181014163346307?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdn.net/20181014163422947?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;ul&gt;
&lt;li&gt;å®ç°ç¯å¢ƒï¼š&lt;strong&gt;python&lt;/strong&gt;&lt;br&gt;å¤„ç†ä¸€å¼ çº¢è‹¹æœå›¾ï¼š&lt;br&gt;&lt;img src=&quot;https://img-blog.csdn.net/20181014163625887?watermark/2/text/aHR0cHM6Ly9ibG9
      
    
    </summary>
    
      <category term="å¤šåª’ä½“æŠ€æœ¯" scheme="http://yoursite.com/categories/%E5%A4%9A%E5%AA%92%E4%BD%93%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="å¤šåª’ä½“æŠ€æœ¯" scheme="http://yoursite.com/tags/%E5%A4%9A%E5%AA%92%E4%BD%93%E6%8A%80%E6%9C%AF/"/>
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>å®ç°ä¸¤å¸§çš„å›¾åƒåŠ¨æ€å›¾åƒåˆ‡æ¢å¹¶å­˜ä¸ºgif</title>
    <link href="http://yoursite.com/2019/07/06/%E5%AE%9E%E7%8E%B0%E4%B8%A4%E5%B8%A7%E7%9A%84%E5%9B%BE%E5%83%8F%E5%8A%A8%E6%80%81%E5%9B%BE%E5%83%8F%E5%88%87%E6%8D%A2%E5%B9%B6%E5%AD%98%E4%B8%BAgif/"/>
    <id>http://yoursite.com/2019/07/06/å®ç°ä¸¤å¸§çš„å›¾åƒåŠ¨æ€å›¾åƒåˆ‡æ¢å¹¶å­˜ä¸ºgif/</id>
    <published>2019-07-05T16:31:26.000Z</published>
    <updated>2019-07-05T16:32:25.561Z</updated>
    
    <content type="html"><![CDATA[<p><strong>å®ç°ä»£ç ï¼š</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">imageChange</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"><span class="title">s</span> = <span class="title">char</span>(<span class="params"><span class="string">'E:\Desktop\å¤šåª’ä½“æŠ€æœ¯\è¯ºè´å°”.jpg'</span>,<span class="string">'E:\Desktop\å¤šåª’ä½“æŠ€æœ¯\lena.jpg'</span></span>);</span></span><br><span class="line"><span class="function"><span class="title">image</span> = <span class="title">cellstr</span>(<span class="params">s</span>);</span></span><br><span class="line"><span class="function"><span class="title">I1</span> = <span class="title">imread</span>(<span class="params">image&#123;<span class="number">1</span>&#125;</span>);</span></span><br><span class="line"><span class="function"><span class="title">I2</span> = <span class="title">imread</span>(<span class="params">image&#123;<span class="number">2</span>&#125;</span>);</span></span><br><span class="line"><span class="function"><span class="title">I1</span>=<span class="title">im2double</span>(<span class="params">I1</span>);</span></span><br><span class="line"><span class="function"><span class="title">I2</span>=<span class="title">im2double</span>(<span class="params">I2</span>);</span></span><br><span class="line">img = I1(:,:,2); %å°†è¯ºè´å°”å›¾ç‰‡è½¬æ¢ä¸ºå•é€šé“ç°åº¦å›¾ï¼Œè¿™é‡Œä¿ç•™ç»¿è‰²é€šé“</span><br><span class="line">img2 = I2(:,:,<span class="number">1</span>); %å°†lenaå›¾ç‰‡åªä¿ç•™çº¢è‰²é€šé“</span><br><span class="line">[width,height] = size(img);</span><br><span class="line">%è®¾ç½®çª—å£å±æ€§ï¼šç¦ç”¨èœå•æ ï¼Œæ ‡é¢˜ä¸æ˜¾ç¤ºç¼–å·ï¼Œè®¾ç½®position</span><br><span class="line">F = figure(<span class="string">'menubar'</span>,<span class="string">'none'</span>,<span class="string">'NumberTitle'</span>,<span class="string">'off'</span>,<span class="string">'position'</span>,[<span class="number">1000</span> <span class="number">1000</span> width height],<span class="string">'name'</span>,<span class="string">'è§†é¢‘åˆ‡æ¢æ•ˆæœ'</span>);</span><br><span class="line">movegui(F,<span class="string">'center'</span>);%å±…ä¸­</span><br><span class="line">%å…³é—­åæ ‡çº¿</span><br><span class="line">axes(<span class="string">'Visible'</span>,<span class="string">'off'</span>,<span class="string">'units'</span>,<span class="string">'normalized'</span>,<span class="string">'position'</span>,[<span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span>]);</span><br><span class="line">%è®¾ç½®æœ€å¤§çš„åŠå¾„å€¼</span><br><span class="line">R_max = sqrt((width/<span class="number">2</span>)^<span class="number">2</span>+(height/<span class="number">2</span>)^<span class="number">2</span>);</span><br><span class="line">step = <span class="number">30</span>; %è®¾ç½®æ­¥é•¿ï¼Œå³<span class="number">30</span>å¸§</span><br><span class="line">x0 = width/<span class="number">2</span>; y0 = height/<span class="number">2</span>;</span><br><span class="line">pic_num = <span class="number">1</span>;</span><br><span class="line">hIm = imshow(img);</span><br><span class="line"><span class="keyword">for</span> i = <span class="number">1</span>:<span class="number">1</span>:step</span><br><span class="line">%%åœ†çš„åˆ¤æ–­</span><br><span class="line">    <span class="keyword">for</span> x = <span class="number">1</span>:width</span><br><span class="line">        <span class="keyword">for</span> y = <span class="number">1</span>:height</span><br><span class="line">            <span class="keyword">if</span>(sqrt((x-x0)^<span class="number">2</span>+(y-y0)^<span class="number">2</span>) &lt;= i/step*R_max)</span><br><span class="line">               img(x,y) = img2(x,y);</span><br><span class="line">            end</span><br><span class="line">        end</span><br><span class="line">    end</span><br><span class="line">    <span class="keyword">set</span>(hIm,'CData',img);%è®¾ç½®imageå¯¹è±¡CDataå±æ€§ä¸ºIm</span><br><span class="line">    drawnow ;</span><br><span class="line">    %æ¥ä¸‹æ¥æ˜¯matlabæ ¹æ®æ¯å¸§çª—å£ç”Ÿæˆgifçš„æ¨¡æ¿ï¼Œå¯å¥—ç”¨</span><br><span class="line">    F1=getframe(gcf);</span><br><span class="line">    I=frame2im(F1);</span><br><span class="line">    [I,map]=rgb2ind(I,256);</span><br><span class="line">    if pic_num == 1</span><br><span class="line">        imwrite(I,map,'E:\Desktop\å¤šåª’ä½“æŠ€æœ¯\test.gif','gif', 'Loopcount',inf,'DelayTime',0.2);</span><br><span class="line">    else</span><br><span class="line">        imwrite(I,map,'E:\Desktop\å¤šåª’ä½“æŠ€æœ¯\test.gif','gif','WriteMode','append','DelayTime',0.2);</span><br><span class="line">    end</span><br><span class="line">    pic_num = pic_num + 1;</span><br><span class="line">end</span><br><span class="line">end</span><br></pre></td></tr></table></figure><p><strong>ç”¨äºæµ‹è¯•çš„åŸå›¾ï¼š</strong><br><img src="https://img-blog.csdn.net/20180930195805938?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdn.net/20180930195818225?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><strong>å®ç°æ•ˆæœï¼š</strong><br><img src="https://img-blog.csdn.net/20180930195643900?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;strong&gt;å®ç°ä»£ç ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;li
      
    
    </summary>
    
      <category term="æ•°å­—åª’ä½“æŠ€æœ¯" scheme="http://yoursite.com/categories/%E6%95%B0%E5%AD%97%E5%AA%92%E4%BD%93%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="matlab" scheme="http://yoursite.com/tags/matlab/"/>
    
      <category term="å¤šåª’ä½“æŠ€æœ¯" scheme="http://yoursite.com/tags/%E5%A4%9A%E5%AA%92%E4%BD%93%E6%8A%80%E6%9C%AF/"/>
    
  </entry>
  
  <entry>
    <title>c++æ‹‰æ™®æ‹‰æ–¯ç®—å­é”åŒ–æ»¤æ³¢ä»¥åŠæ ‡å®šå·®åº¦æ–¹æ³•</title>
    <link href="http://yoursite.com/2019/07/06/c-%E6%8B%89%E6%99%AE%E6%8B%89%E6%96%AF%E7%AE%97%E5%AD%90%E9%94%90%E5%8C%96%E6%BB%A4%E6%B3%A2%E4%BB%A5%E5%8F%8A%E6%A0%87%E5%AE%9A%E5%B7%AE%E5%BA%A6%E6%96%B9%E6%B3%95/"/>
    <id>http://yoursite.com/2019/07/06/c-æ‹‰æ™®æ‹‰æ–¯ç®—å­é”åŒ–æ»¤æ³¢ä»¥åŠæ ‡å®šå·®åº¦æ–¹æ³•/</id>
    <published>2019-07-05T16:28:13.000Z</published>
    <updated>2019-07-05T16:29:08.640Z</updated>
    
    <content type="html"><![CDATA[<ul><li>c++ <strong>CImg</strong>åº“</li><li>é‡‡ç”¨æ ‡å®šå’Œä¸ºæ ‡å®šä¸¤ç§å®ç°ç®—æ³•</li></ul><p><strong>æœªæ ‡å®šï¼š</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">CImg&lt;<span class="keyword">int</span>&gt; laplace_filter(CImg&lt;<span class="keyword">int</span>&gt; img) &#123;</span><br><span class="line"><span class="function">MatrixXd <span class="title">m</span><span class="params">(<span class="number">3</span>, <span class="number">3</span>)</span></span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> x = <span class="number">0</span>;x &lt; <span class="number">3</span>; x++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> y = <span class="number">0</span>; y &lt; <span class="number">3</span>; y++) &#123;</span><br><span class="line"><span class="keyword">if</span> (x == <span class="number">1</span> &amp;&amp; y == <span class="number">1</span>) &#123;</span><br><span class="line">m(x, y) = <span class="number">8</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">m(x, y) = <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> x = <span class="number">0</span>, y = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> w = img.width(), h = img.height();</span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; pic(w, h, <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">pic = img;</span><br><span class="line">pic.resize(w + <span class="number">2</span> , h + <span class="number">2</span> , <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; pic1 = pic;</span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; temp(w,h,<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line">cimg_forXY(pic, x, y) &#123;</span><br><span class="line"><span class="keyword">if</span> (x &gt;= <span class="number">1</span> &amp;&amp; y &gt;= <span class="number">1</span> &amp;&amp; x &lt;= w  &amp;&amp; y &lt;= h ) &#123;</span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; t(<span class="number">3</span>, <span class="number">3</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">3</span>; j++) &#123;</span><br><span class="line">t(i, j) = pic1(x<span class="number">-1</span>+i, y<span class="number">-1</span>+j);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">cimg_forXY(t, i1, j1) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i2 = <span class="number">0</span>; i2 &lt; <span class="number">3</span>; i2++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j2 = <span class="number">0</span>; j2 &lt; <span class="number">3</span>; j2++) &#123;</span><br><span class="line"><span class="keyword">if</span> (i1 + i2 == <span class="number">2</span> &amp;&amp; j1 + j2 == <span class="number">2</span>) &#123;</span><br><span class="line">sum += t(i1, j1)*m(i2, j2);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (sum &lt; <span class="number">0</span>)sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (sum &gt; <span class="number">255</span>) sum = <span class="number">255</span>;</span><br><span class="line"><span class="keyword">else</span> sum = sum;</span><br><span class="line">pic(x, y) = sum;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> pic;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ ‡å®šï¼š</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">CImg&lt;<span class="keyword">int</span>&gt; laplace_filterbiaoding(CImg&lt;<span class="keyword">int</span>&gt; img) &#123;</span><br><span class="line"><span class="function">MatrixXd <span class="title">m</span><span class="params">(<span class="number">3</span>, <span class="number">3</span>)</span></span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">0</span>; x &lt; <span class="number">3</span>; x++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> y = <span class="number">0</span>; y &lt; <span class="number">3</span>; y++) &#123;</span><br><span class="line"><span class="keyword">if</span> (x == <span class="number">1</span> &amp;&amp; y == <span class="number">1</span>) &#123;</span><br><span class="line">m(x, y) = <span class="number">8</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">m(x, y) = <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> x = <span class="number">0</span>, y = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> w = img.width(), h = img.height();</span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; pic(w, h, <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">pic = img;</span><br><span class="line">pic.resize(w + <span class="number">2</span>, h + <span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; pic1 = pic;</span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; temp(w, h, <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">int</span> min = <span class="number">100000</span>;</span><br><span class="line">cimg_forXY(pic, x, y) &#123;</span><br><span class="line"><span class="keyword">if</span> (x &gt;= <span class="number">1</span> &amp;&amp; y &gt;= <span class="number">1</span> &amp;&amp; x &lt;= w &amp;&amp; y &lt;= h) &#123;</span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; t(<span class="number">3</span>, <span class="number">3</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">3</span>; j++) &#123;</span><br><span class="line">t(i, j) = pic1(x - <span class="number">1</span> + i, y - <span class="number">1</span> + j);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">cimg_forXY(t, i1, j1) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i2 = <span class="number">0</span>; i2 &lt; <span class="number">3</span>; i2++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j2 = <span class="number">0</span>; j2 &lt; <span class="number">3</span>; j2++) &#123;</span><br><span class="line"><span class="keyword">if</span> (i1 + i2 == <span class="number">2</span> &amp;&amp; j1 + j2 == <span class="number">2</span>) &#123;</span><br><span class="line">sum += t(i1, j1)*m(i2, j2);</span><br><span class="line"><span class="keyword">if</span> (sum &lt; min) min = sum;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">pic(x, y) = sum;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">cimg_forXY(pic, x, y) &#123;</span><br><span class="line"><span class="comment">//cout &lt;&lt; pic(x, y) &lt;&lt;" ";</span></span><br><span class="line">pic(x, y) -= min;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> max = <span class="number">-1</span>;</span><br><span class="line">cimg_forXY(pic, x, y) &#123;</span><br><span class="line"><span class="keyword">if</span> (pic(x, y) &gt; max)</span><br><span class="line">max = pic(x, y);</span><br><span class="line">&#125;</span><br><span class="line">cimg_forXY(pic, x, y) &#123;</span><br><span class="line">pic(x, y) = pic(x, y) * <span class="number">255</span> / max;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> pic;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>è¿™é‡Œé¡ºä¾¿è¯´ä¸€ä¸‹å¸¸ç”¨çš„æ ‡å®šæ–¹æ³•æœ‰ä¸¤ç§ï¼š</strong></p><ul><li><p>æ–¹æ³•ä¸€ï¼š<br>å¯¹æ¯ä¸€ä¸ªåƒç´ å€¼å†åŠ ä¸Š255ï¼Œç„¶åé™¤ä»¥2ã€‚è¯¥æ–¹æ³•æ— æ³•ä¿è¯åƒç´ çš„å–å€¼å¯ä»¥è¦†ç›–0åˆ°255çš„å…¨éƒ¨8æ¯”ç‰¹èŒƒå›´ï¼Œä½†æ˜¯æ‰€æœ‰çš„åƒç´ ä¸€å®šåœ¨è¿™ä¸€èŒƒå›´ã€‚å¦å¤–ï¼Œåœ¨é™¤ä»¥2è¿‡ç¨‹ä¸­å›ºæœ‰çš„æˆªå°¾è¯¯å·®é€šå¸¸å°†å¯¼è‡´ç²¾ç¡®åº¦çš„æŸå¤±ã€‚è™½ç„¶æœ‰å¾ˆå¤šçš„ä¸è¶³ï¼Œä½†æ˜¯è¯¥éå¸¸çš„ç®€å•æ–¹ä¾¿ã€‚</p></li><li><p>æ–¹æ³•äºŒï¼š<br>è¯¥æ–¹æ³•å¼¥è¡¥çš„æ–¹æ³•ä¸€çš„ç¼ºç‚¹ï¼Œå®ƒå¯ä»¥å¾—åˆ°æ›´é«˜çš„ç²¾ç¡®åº¦å¹¶ä½¿åƒç´ å–å€¼è¦†ç›–æ•´ä¸ª8æ¯”ç‰¹çš„èŒƒå›´ã€‚æˆ‘ä»¬é¦–å…ˆæå–æœ€å°å€¼ï¼Œå¹¶æŠŠå®ƒçš„è´Ÿå€¼åŠ åˆ°æ‰€æœ‰çš„å·®å€¼å›¾åƒçš„åƒç´ ä¸­ï¼ˆå¦‚æœæœ€å°å€¼æ˜¯-a(a&gt;0)ï¼Œåˆ™åŠ ä¸Šaï¼›å¦‚æœæœ€å°å€¼æ˜¯aï¼Œåˆ™å‡å»aï¼›é€šè¿‡è¯¥æ“ä½œåï¼Œå·®å€¼å›¾åƒä¸­æœ€å°çš„å€¼å°±ä¸º0äº†ï¼‰ã€‚ä¹‹åï¼Œæ¯ä¸€ä¸ªåƒç´ ä¹˜ä»¥255/Maxï¼Œå…¶ä¸­Maxä¸ºä¸Šä¸€æ­¥æ“ä½œä¹‹åå›¾åƒçš„ä¸­æœ€å¤§åƒç´ å€¼ï¼Œè¿™æ ·å°±å°†æ‰€æœ‰çš„åƒç´ æ ‡å®šåˆ°0åˆ°255çš„èŒƒå›´å†…ã€‚</p></li></ul><p><strong>è¿è¡Œç»“æœï¼š</strong></p><p><img src="https://img-blog.csdn.net/2018092911252817?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="æœªæ ‡å®š"></p><p><img src="https://img-blog.csdn.net/20180929112622526?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><strong>åŸå›¾ï¼š</strong><br><img src="https://img-blog.csdn.net/20180929114017796?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><strong>ä¸åŸå›¾åŠ åˆ°ä¸€èµ·åå¤„ç†çš„æ•ˆæœï¼š</strong><br><img src="https://img-blog.csdn.net/20180929113951368?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><strong>æ•ˆæœæ˜¯ä¸æ˜¯ç‰¹åˆ«æ£’æ£’ï¼ï¼ï¼</strong></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;ul&gt;
&lt;li&gt;c++ &lt;strong&gt;CImg&lt;/strong&gt;åº“&lt;/li&gt;
&lt;li&gt;é‡‡ç”¨æ ‡å®šå’Œä¸ºæ ‡å®šä¸¤ç§å®ç°ç®—æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;æœªæ ‡å®šï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight c++&quot;&gt;&lt;table&gt;&lt;tr
      
    
    </summary>
    
      <category term="æ•°å­—å›¾åƒå¤„ç†" scheme="http://yoursite.com/categories/%E6%95%B0%E5%AD%97%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/"/>
    
    
      <category term="c++" scheme="http://yoursite.com/tags/c/"/>
    
      <category term="æ•°å­—å›¾åƒå¤„ç†" scheme="http://yoursite.com/tags/%E6%95%B0%E5%AD%97%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>c++å®ç°å¹³æ»‘ç©ºé—´æ»¤æ³¢</title>
    <link href="http://yoursite.com/2019/07/06/c-%E5%AE%9E%E7%8E%B0%E5%B9%B3%E6%BB%91%E7%A9%BA%E9%97%B4%E6%BB%A4%E6%B3%A2/"/>
    <id>http://yoursite.com/2019/07/06/c-å®ç°å¹³æ»‘ç©ºé—´æ»¤æ³¢/</id>
    <published>2019-07-05T16:26:45.000Z</published>
    <updated>2019-07-05T16:27:27.101Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1-å¹³æ»‘çº¿æ€§æ»¤æ³¢å™¨ï¼š"><a href="#1-å¹³æ»‘çº¿æ€§æ»¤æ³¢å™¨ï¼š" class="headerlink" title="1.å¹³æ»‘çº¿æ€§æ»¤æ³¢å™¨ï¼š"></a>1.å¹³æ»‘çº¿æ€§æ»¤æ³¢å™¨ï¼š</h3><p><strong>è‡ªå·±å®ç°äº†ç”¨äºç©ºé—´å¹³æ»‘æ»¤æ³¢çš„å‡½æ•°ï¼š</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">CImg&lt;<span class="keyword">int</span>&gt; Smooth_filter(CImg&lt;<span class="keyword">int</span>&gt; img, <span class="keyword">int</span> num) &#123;</span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; m(num, num);</span><br><span class="line">cimg_forXY(m, x, y) &#123;</span><br><span class="line">m(x, y) = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> w = img.width(), h = img.height();</span><br><span class="line"><span class="keyword">int</span> k = (num - <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; pic(w, h, <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">pic = img;</span><br><span class="line">pic.resize(w + <span class="number">2</span> * k, h + <span class="number">2</span> * k, <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; pic1 = pic;</span><br><span class="line"><span class="keyword">if</span> (num % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"ä¸åˆæ³•"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; temp(w,h,<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line">cimg_forXY(pic, x, y) &#123;</span><br><span class="line"><span class="keyword">if</span> (x &gt;= k &amp;&amp; y &gt;= k &amp;&amp; x &lt;= w + k - <span class="number">1</span> &amp;&amp; y &lt;= h + k - <span class="number">1</span>) &#123;</span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; t(num, num);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; num; i++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; num; j++) &#123;</span><br><span class="line">t(i, j) = pic1(x-k+i, y-k+j);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">double</span> sum = <span class="number">0.0</span>;</span><br><span class="line">cimg_forXY(t, i1, j1) &#123;</span><br><span class="line">cimg_forXY(m, i2, j2) &#123;</span><br><span class="line"><span class="keyword">if</span> (i1 + i2 - k == <span class="number">1</span> &amp;&amp; j1 + j2 - k == <span class="number">1</span>) &#123;</span><br><span class="line">sum += (<span class="keyword">double</span>)t(i1, j1)*m(i2, j2);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">pic(x, y) = sum / num / num;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> pic;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ä½¿ç”¨3*3çš„çŸ©é˜µè¿›è¡Œå¹³æ»‘æ»¤æ³¢åçš„æ•ˆæœï¼š</strong></p><p><img src="https://img-blog.csdn.net/20180928105513507?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdn.net/20180928105545944?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="2-ä¸­å€¼æ»¤æ³¢å™¨ï¼š"><a href="#2-ä¸­å€¼æ»¤æ³¢å™¨ï¼š" class="headerlink" title="2.ä¸­å€¼æ»¤æ³¢å™¨ï¼š"></a>2.ä¸­å€¼æ»¤æ³¢å™¨ï¼š</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">CImg&lt;<span class="keyword">int</span>&gt; median_filter(CImg&lt;<span class="keyword">int</span>&gt; img, <span class="keyword">int</span> num) &#123;</span><br><span class="line"><span class="keyword">int</span> w = img.width(), h = img.height();</span><br><span class="line"><span class="keyword">int</span> k = (num - <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; pic(w, h, <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">pic = img;</span><br><span class="line">pic.resize(w + <span class="number">2</span> * k, h + <span class="number">2</span> * k, <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; pic1 = pic;</span><br><span class="line"><span class="keyword">if</span> (num % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"ä¸åˆæ³•"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; temp(w, h, <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">cimg_forXY(pic, x, y) &#123;</span><br><span class="line"><span class="keyword">if</span> (x &gt;= k &amp;&amp; y &gt;= k &amp;&amp; x &lt;= w + k - <span class="number">1</span> &amp;&amp; y &lt;= h + k - <span class="number">1</span>) &#123;</span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; t(num, num);</span><br><span class="line"><span class="keyword">int</span> a = num * num;</span><br><span class="line"><span class="keyword">int</span> *filter;</span><br><span class="line">filter = <span class="keyword">new</span> <span class="keyword">int</span>[a];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; num; i++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; num; j++) &#123;</span><br><span class="line">t(i, j) = pic1(x - k + i, y - k + j);</span><br><span class="line">filter[i*num + j] = t(i, j);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">sort(filter,filter+a);</span><br><span class="line">pic(x, y) = filter[(a + <span class="number">1</span>) / <span class="number">2</span> - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> pic;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ä½¿ç”¨3*3ä¸­å€¼æ»¤æ³¢å™¨çš„æ»¤æ³¢æ•ˆæœï¼š</strong><br><img src="https://img-blog.csdn.net/2018092811410825?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><strong>ä½¿ç”¨CImgå°è£…çš„ä¸­å€¼æ»¤æ³¢å™¨æ£€éªŒä¸€ä¸‹æ•ˆæœâ€”blur_median</strong><br><img src="https://img-blog.csdn.net/20180928115744805?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;1-å¹³æ»‘çº¿æ€§æ»¤æ³¢å™¨ï¼š&quot;&gt;&lt;a href=&quot;#1-å¹³æ»‘çº¿æ€§æ»¤æ³¢å™¨ï¼š&quot; class=&quot;headerlink&quot; title=&quot;1.å¹³æ»‘çº¿æ€§æ»¤æ³¢å™¨ï¼š&quot;&gt;&lt;/a&gt;1.å¹³æ»‘çº¿æ€§æ»¤æ³¢å™¨ï¼š&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;è‡ªå·±å®ç°äº†ç”¨äºç©ºé—´å¹³æ»‘æ»¤æ³¢çš„å‡½æ•°ï¼š&lt;/strong&gt;&lt;/p&gt;
      
    
    </summary>
    
      <category term="æ•°å­—å›¾åƒå¤„ç†" scheme="http://yoursite.com/categories/%E6%95%B0%E5%AD%97%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/"/>
    
    
      <category term="c++" scheme="http://yoursite.com/tags/c/"/>
    
      <category term="æ•°å­—å›¾åƒå¤„ç†" scheme="http://yoursite.com/tags/%E6%95%B0%E5%AD%97%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>c++å¯¹å›¾åƒè¿›è¡Œå¯¹æ•°å˜æ¢ã€å¹‚å¾‹å˜æ¢ã€æ¯”ç‰¹é¢åˆ†å±‚ä»¥åŠå‡è¡¡åŒ–å¤„ç†</title>
    <link href="http://yoursite.com/2019/07/06/c-%E5%AF%B9%E5%9B%BE%E5%83%8F%E8%BF%9B%E8%A1%8C%E5%AF%B9%E6%95%B0%E5%8F%98%E6%8D%A2%E3%80%81%E5%B9%82%E5%BE%8B%E5%8F%98%E6%8D%A2%E3%80%81%E6%AF%94%E7%89%B9%E9%9D%A2%E5%88%86%E5%B1%82%E4%BB%A5%E5%8F%8A%E5%9D%87%E8%A1%A1%E5%8C%96%E5%A4%84%E7%90%86/"/>
    <id>http://yoursite.com/2019/07/06/c-å¯¹å›¾åƒè¿›è¡Œå¯¹æ•°å˜æ¢ã€å¹‚å¾‹å˜æ¢ã€æ¯”ç‰¹é¢åˆ†å±‚ä»¥åŠå‡è¡¡åŒ–å¤„ç†/</id>
    <published>2019-07-05T16:25:31.000Z</published>
    <updated>2019-07-05T16:26:18.256Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å¯¹æ•°å˜æ¢ï¼š"><a href="#å¯¹æ•°å˜æ¢ï¼š" class="headerlink" title="å¯¹æ•°å˜æ¢ï¼š"></a>å¯¹æ•°å˜æ¢ï¼š</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">CImg&lt;<span class="keyword">int</span>&gt; SrcImg;</span><br><span class="line">SrcImg.load_tiff(<span class="string">"E:/Desktop/picture_process/Lenna/3/Fig0305(a)(DFT_no_log).tif"</span>);</span><br><span class="line">SrcImg.display();</span><br><span class="line">cimg_forXY(SrcImg, x, y) &#123;</span><br><span class="line">SrcImg(x, y) = <span class="keyword">int</span>(<span class="built_in">log</span>(<span class="keyword">double</span>(SrcImg(x, y)) + <span class="number">1</span>));</span><br><span class="line">&#125;</span><br><span class="line">SrcImg.display();</span><br></pre></td></tr></table></figure><p><strong>è¿è¡Œæ•ˆæœï¼š</strong><br><img src="https://img-blog.csdn.net/20180927161654391?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><img src="https://img-blog.csdn.net/20180927161826192?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="å¹‚å¾‹å˜æ¢"><a href="#å¹‚å¾‹å˜æ¢" class="headerlink" title="å¹‚å¾‹å˜æ¢"></a>å¹‚å¾‹å˜æ¢</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">CImg&lt;<span class="keyword">int</span>&gt; SrcImg;</span><br><span class="line">SrcImg.load_tiff(<span class="string">"E:/Desktop/picture_process/Lenna/3/Fig0308(a)(fractured_spine).tif"</span>);</span><br><span class="line">SrcImg.display();</span><br><span class="line"><span class="keyword">double</span> t[<span class="number">3</span>] = &#123; <span class="number">0.6</span>,<span class="number">0.4</span>,<span class="number">0.3</span> &#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; img = SrcImg;</span><br><span class="line">cimg_forXY(img, x, y) &#123;</span><br><span class="line">img(x, y) = <span class="keyword">int</span>(<span class="built_in">pow</span>(<span class="keyword">double</span>((img(x, y))), t[i]));</span><br><span class="line">&#125;</span><br><span class="line">img.display();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>è¿è¡Œç»“æœï¼š</strong><br><img src="https://img-blog.csdn.net/20180927162450119?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdn.net/20180927163016994?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdn.net/20180927163040245?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdn.net/20180927163107480?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="æ¯”ç‰¹é¢åˆ†å±‚"><a href="#æ¯”ç‰¹é¢åˆ†å±‚" class="headerlink" title="æ¯”ç‰¹é¢åˆ†å±‚"></a>æ¯”ç‰¹é¢åˆ†å±‚</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">CImg&lt;<span class="keyword">int</span>&gt; img;</span><br><span class="line">img.load_tiff(<span class="string">"E:/Desktop/picture_process/Lenna/3/Fig0314(a)(100-dollars).tif"</span>);</span><br><span class="line">img.display(<span class="string">"åŸå›¾"</span>);</span><br><span class="line"><span class="keyword">int</span> w = img.height();</span><br><span class="line"><span class="keyword">int</span> h = img.width();</span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; p1(h,w,<span class="number">1</span>,<span class="number">1</span>), p2(h, w, <span class="number">1</span>, <span class="number">1</span>), p3(h, w, <span class="number">1</span>, <span class="number">1</span>), p4(h, w, <span class="number">1</span>, <span class="number">1</span>), p5(h, w, <span class="number">1</span>, <span class="number">1</span>), p6(h, w, <span class="number">1</span>, <span class="number">1</span>), p7(h, w, <span class="number">1</span>, <span class="number">1</span>), p8(h, w, <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">cimg_forXY(img, x, y) &#123;</span><br><span class="line"><span class="keyword">int</span> num = img(x, y);</span><br><span class="line"><span class="keyword">int</span> *bit = binary(num);</span><br><span class="line">p1(x, y) = fx(bit[<span class="number">0</span>]); p2(x, y) = fx(bit[<span class="number">1</span>]); p3(x, y) = fx(bit[<span class="number">2</span>]); p4(x, y) = fx(bit[<span class="number">3</span>]);</span><br><span class="line">p5(x, y) = fx(bit[<span class="number">4</span>]); p6(x, y) = fx(bit[<span class="number">5</span>]); p7(x, y) = fx(bit[<span class="number">6</span>]); p8(x, y) = fx(bit[<span class="number">7</span>]);</span><br><span class="line">&#125;</span><br><span class="line">p8.display(<span class="string">"ç¬¬å…«å±‚æ¯”ç‰¹å›¾"</span>);</span><br><span class="line">p7.display(<span class="string">"ç¬¬ä¸ƒå±‚æ¯”ç‰¹å›¾"</span>);</span><br><span class="line">p6.display(<span class="string">"ç¬¬å…­å±‚æ¯”ç‰¹å›¾"</span>);</span><br><span class="line">p5.display(<span class="string">"ç¬¬äº”å±‚æ¯”ç‰¹å›¾"</span>);</span><br><span class="line">p4.display(<span class="string">"ç¬¬å››å±‚æ¯”ç‰¹å›¾"</span>);</span><br><span class="line">p3.display(<span class="string">"ç¬¬ä¸‰å±‚æ¯”ç‰¹å›¾"</span>);</span><br><span class="line">p2.display(<span class="string">"ç¬¬äºŒå±‚æ¯”ç‰¹å›¾"</span>);</span><br><span class="line">p1.display(<span class="string">"ç¬¬ä¸€å±‚æ¯”ç‰¹å›¾"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ç”¨äºå¯¹å›¾ç‰‡è¿›è¡Œé»‘ç™½çš„èµ‹å€¼</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fx</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (n == <span class="number">1</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="number">255</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ç”¨äºè¿›è¡ŒäºŒè¿›åˆ¶è½¬åŒ–çš„å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">int</span>* <span class="title">binary</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> *bit;</span><br><span class="line">bit = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">8</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++) &#123;</span><br><span class="line">bit[i] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (num) &#123;</span><br><span class="line">bit[i] = num % <span class="number">2</span>;</span><br><span class="line">num /= <span class="number">2</span>;</span><br><span class="line">i++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> bit;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>è¿è¡Œç»“æœï¼š</strong><br><img src="https://img-blog.csdn.net/20180927201653793?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdn.net/2018092720171944?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdn.net/20180927201752372?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°<br><img src="https://img-blog.csdn.net/20180927201840114?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdn.net/20180927201903373?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdn.net/20180927201918302?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdn.net/20180927201941618?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdn.net/20180927201957547?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdn.net/20180927202017962?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="å‡è¡¡åŒ–å¤„ç†"><a href="#å‡è¡¡åŒ–å¤„ç†" class="headerlink" title="å‡è¡¡åŒ–å¤„ç†"></a>å‡è¡¡åŒ–å¤„ç†</h3><ul><li>CImgæœ‰ä¸“é—¨æ˜¾ç¤ºå¯†åº¦åˆ†å¸ƒç›´æ–¹å›¾çš„histogramå‡½æ•°<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CImg&lt;<span class="keyword">int</span>&gt; hist = img.histogram(<span class="number">256</span>, <span class="number">0</span>, <span class="number">255</span>); <span class="comment">//histogramçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å…±æœ‰256ä¸ªç°åº¦çº§ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ç°åº¦çš„æœ€å°å€¼ï¼Œç¬¬ä¸‰ä¸ªæ˜¯ç°åº¦æœ€å¤§å€¼</span></span><br><span class="line">hist.display_graph();</span><br></pre></td></tr></table></figure></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">CImg&lt;<span class="keyword">int</span>&gt; img;</span><br><span class="line">img.load_tiff(<span class="string">"E:/Desktop/picture_process/Lenna/3/Fig0316(4)(bottom_left).tif"</span>);</span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; pic = img;</span><br><span class="line">img.display(<span class="string">"å¤„ç†å‰å›¾ç‰‡"</span>);</span><br><span class="line"><span class="keyword">int</span> size = img.size();</span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; hist = img.histogram(<span class="number">256</span>, <span class="number">0</span>, <span class="number">255</span>); <span class="comment">//histogramçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å…±æœ‰256ä¸ªç°åº¦çº§ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ç°åº¦çš„æœ€å°å€¼ï¼Œç¬¬ä¸‰ä¸ªæ˜¯ç°åº¦æœ€å¤§å€¼</span></span><br><span class="line">hist.display_graph(<span class="string">"å¤„ç†å‰ç›´æ–¹å›¾"</span>);</span><br><span class="line"><span class="keyword">double</span> sum = <span class="number">0.0</span>;</span><br><span class="line"><span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; index;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">256</span>; i++) &#123;</span><br><span class="line">sum += (<span class="keyword">double</span>) hist(i)/size;</span><br><span class="line"><span class="keyword">int</span> Sum = (<span class="keyword">int</span>)(sum * <span class="number">255</span>);</span><br><span class="line">index.insert(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;(i, Sum));</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//map&lt;int, int&gt;::iterator iter = index.begin();</span></span><br><span class="line"><span class="comment">//map&lt;int, int&gt;::iterator end = index.end();</span></span><br><span class="line"><span class="comment">/*for (; iter != end; iter++) &#123;</span></span><br><span class="line"><span class="comment">cout &lt;&lt; iter-&gt;first&lt;&lt;":"&lt;&lt; iter-&gt;second &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">&#125;*/</span></span><br><span class="line">cimg_forXY(pic, x, y) &#123;</span><br><span class="line">pic(x, y) = index[pic(x, y)];</span><br><span class="line"><span class="comment">//cout &lt;&lt; pic(x, y) &lt;&lt; " ";</span></span><br><span class="line">&#125;</span><br><span class="line">pic.display(<span class="string">"å¤„ç†åå›¾ç‰‡"</span>);</span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; hist1 = pic.histogram(<span class="number">256</span>, <span class="number">0</span>, <span class="number">255</span>);</span><br><span class="line">hist1.display_graph(<span class="string">"å¤„ç†åç›´æ–¹å›¾"</span>);</span><br></pre></td></tr></table></figure><p><strong>è¿è¡Œç»“æœï¼š</strong><br><img src="https://img-blog.csdn.net/20180927211300652?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdn.net/20180927211323238?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdn.net/20180927211345174?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><img src="https://img-blog.csdn.net/20180927211414866?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;å¯¹æ•°å˜æ¢ï¼š&quot;&gt;&lt;a href=&quot;#å¯¹æ•°å˜æ¢ï¼š&quot; class=&quot;headerlink&quot; title=&quot;å¯¹æ•°å˜æ¢ï¼š&quot;&gt;&lt;/a&gt;å¯¹æ•°å˜æ¢ï¼š&lt;/h3&gt;&lt;figure class=&quot;highlight c++&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;
      
    
    </summary>
    
      <category term="æ•°å­—å›¾åƒå¤„ç†" scheme="http://yoursite.com/categories/%E6%95%B0%E5%AD%97%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/"/>
    
    
      <category term="c++" scheme="http://yoursite.com/tags/c/"/>
    
      <category term="æ•°å­—å›¾åƒå¤„ç†" scheme="http://yoursite.com/tags/%E6%95%B0%E5%AD%97%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>åŒºå—é“¾è®¤è¯†ä¸çœ‹æ³•</title>
    <link href="http://yoursite.com/2019/07/05/%E5%8C%BA%E5%9D%97%E9%93%BE%E8%AE%A4%E8%AF%86%E4%B8%8E%E7%9C%8B%E6%B3%95/"/>
    <id>http://yoursite.com/2019/07/05/åŒºå—é“¾è®¤è¯†ä¸çœ‹æ³•/</id>
    <published>2019-07-05T14:44:05.000Z</published>
    <updated>2019-07-05T14:44:36.649Z</updated>
    
    <content type="html"><![CDATA[<ul><li>é€šè¿‡é˜…è¯»åŒºå—é“¾æŠ€æœ¯å‘å±•ç°çŠ¶ä¸å±•æœ›ï¼Œéƒ‘å­å½¬è€å¸ˆçš„åŒºå—é“¾æŠ¥å‘Šï¼Œä»¥åŠçŸ¥ä¹è´´å§ä¸Šå…³äºåŒºå—é“¾çš„è®¨è®ºæ‰€å†™ä¸‹çš„ä¸ªäººå­¦ä¹ ä½“ä¼šä»¥åŠå¯¹åŒºå—é“¾çš„ä¸ªäººçœ‹æ³•ã€‚</li></ul><h2 id="ä»€ä¹ˆæ˜¯åŒºå—é“¾"><a href="#ä»€ä¹ˆæ˜¯åŒºå—é“¾" class="headerlink" title="ä»€ä¹ˆæ˜¯åŒºå—é“¾"></a>ä»€ä¹ˆæ˜¯åŒºå—é“¾</h2><p>ä»2008å¹´ä¸­æœ¬èªå‘è¡¨äº†åŒºå—é“¾çš„å¥ åŸºæ€§è®ºæ–‡ã€Šæ¯”ç‰¹å¸ï¼šä¸€ç§ç‚¹å¯¹ç‚¹ç”µå­ç°é‡‘ç³»ç»Ÿã€‹åï¼ŒåŒºå—é“¾æŠ€æœ¯è¿‘å¹´æ¥å‘ˆç°å‡ºäº†çˆ†å‘å¼çš„å¢é•¿æ€åŠ¿ã€‚å…¶å¿«é€Ÿå‘å±•å¼•èµ·äº†æ”¿åºœéƒ¨é—¨ï¼Œé‡‘èæœºæ„ï¼Œç§‘æŠ€ä¼ä¸šå’Œèµ„æœ¬å¸‚åœºçš„å¹¿æ³›å…³æ³¨ã€‚åŒºå—é“¾æŠ€æœ¯ä¹Ÿè¢«è®¤ä¸ºæ˜¯è®¡ç®—æœºèŒƒå¼çš„ç¬¬äº”æ¬¡é¢ è¦†æ€§åˆ›æ–°ï¼Œæ˜¯äººç±»ä¿¡ç”¨è¿›åŒ–å²ä¸Šç¬¬å››ä¸ªé‡Œç¨‹ç¢‘ã€‚æ˜¯ä¸‹ä¸€ä»£äº‘è®¡ç®—çš„é›å½¢ï¼Œæœ‰æœ›åƒäº’è”ç½‘ä¸€æ ·å½»åº•é‡å¡‘äººç±»ç¤¾ä¼šæ´»åŠ¨å½¢æ€, å¹¶å®ç°ä»ç›®å‰çš„ä¿¡æ¯äº’è”ç½‘å‘ä»·å€¼äº’è”ç½‘çš„è½¬å˜ã€‚</p><p>å…¶å®è¯´äº†è¿™ä¹ˆå¤šï¼ŒåŒºå—é“¾çœŸæ­£è¢«å¤§å®¶æ‰€ç†ŸçŸ¥ï¼Œè¿˜æ˜¯å› ä¸ºæ¯”ç‰¹å¸ã€‚è€Œæ¯”ç‰¹å¸å—åˆ°äººä»¬çš„å¹¿æ³›å…³æ³¨ä¹Ÿæ›´å¤šæ˜¯å› ä¸ºæ—©æœŸä¹°å…¥æ¯”ç‰¹å¸çš„äººçš„æš´å¯Œæ•ˆåº”ã€‚å°±åƒåªæ˜¯å•çº¯åœ°å‘äººä»¬è§£é‡ŠåŒºå—é“¾æœ‰ç€å†å²æ€§å˜é©çš„ä¼Ÿå¤§æ„ä¹‰ï¼Œæ˜¯ä¸€ä¸ªæœºé‡ï¼Œä¼šæ”¹å˜æœªæ¥ï¼Œäººä»¬å¯èƒ½æ¯«æ— å…´è¶£ã€‚ä½†å¦‚æœè®²æ¯”ç‰¹å¸å¯ä»¥èµšé’±ï¼Œèƒ½è®©ä½ ä¸€å¤œæš´å¯Œï¼Œé‚£ä¼°è®¡äººä»¬çš„å…´è¶£ä¼šå› æ­¤å¤§çš„å¤šã€‚ä¹Ÿå°±æ˜¯åœ¨è¿™æ ·ä¸€ç§æƒ…å†µä¸‹ï¼Œæ¯”ç‰¹å¸å¦‚ä¸€é¢—æ ‘ä¸€èˆ¬ï¼Œåœ¨ç”Ÿé•¿çš„è¿‡ç¨‹é€æ¸å¼€ææ•£å¶ï¼Œæ…¢æ…¢é•¿å¤§ï¼Œå½¢æˆäº†å¦‚ä»Šä¸‹çš„åŒºå—é“¾è¡Œä¸šã€‚</p><p>è€ŒåŒºå—é“¾åˆ°åº•æ˜¯ä»€ä¹ˆï¼Œç®€å•æ¥è¯´ï¼Œå®ƒçš„æœ¬è´¨å°±æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼çš„ç½‘ç»œï¼Œé‡‡å–å»ä¸­å¿ƒåŒ–çš„ä¿¡æ¯å­˜å‚¨æ–¹å¼ï¼Œè¿™ä¸€å®šç¨‹åº¦ä¸Šåšåˆ°äº†â€œæ²¡æœ‰ä¸­é—´å•†èµšå·®ä»·â€ã€‚ä»¥å‰æˆ‘ä»¬è¯´é©¬äº‘é¢ è¦†äº†ä¸­å›½çš„åˆ¶é€ ä¸šï¼Œè®©å·¥å‚å¯ä»¥ä¸é€šè¿‡é”€å”®å•†å°†äº§å“ç›´é”€ç»™æ·˜å®ç”¨æˆ·ã€‚ç„¶è€Œè¿™ä¸­é—´é˜¿é‡Œå·´å·´è¿™ä¸ªä¸­é—´å•†è¿˜æ˜¯æœ‰èµšå¹³å°å·®ä»·çš„ï¼Œæ”¯ä»˜å®æ‹…ä¿äº¤æ˜“ã€‚è€ŒåŒºå—é“¾åˆ™æ˜¯ä»æŠ€æœ¯ä¸Šå®Œå…¨åšåˆ°äº†â€œæ²¡æœ‰ä¸­é—´å•†èµšå·®ä»·â€è¿™ä¸€ç‚¹ã€‚å»ä¸­å¿ƒåŒ–çš„å¦ä¸€ä¸ªå¥½å¤„æ˜¯ï¼Œæ•°æ®éƒ½æ˜¯åˆ†æ•£å­˜å‚¨çš„ï¼Œæ¯ä¸€ä¸ªåŒºå—é“¾ç½‘ç»œä¸­çš„ç»“ç‚¹éƒ½å­˜æœ‰äº¤æ˜“çš„æ‰€æœ‰æ•°æ®ï¼Œå› è€Œä¸å¯è¢«æ¶æ„ç¯¡æ”¹ï¼Œå®‰å…¨æ€§å¾—åˆ°äº†æå¤§çš„ä¿è¯ã€‚è‡³äºè¿™ä¸ªç½‘ç»œçš„å®‰å…¨æ€§ä¿è¯ï¼Œå°±è¦é æˆ‘ä»¬ä¼˜ç§€çš„ç¨‹åºå‘˜ä»¬å¼€å‘å‡ºçš„éå¯¹ç§°åŠ å¯†ç®—æ³•äº†ã€‚</p><p>åŒæ—¶åŒºå—é“¾ç³»ç»Ÿæœ¬èº«å…·æœ‰è‡ªå·±çš„Tokenï¼ŒToken åœ¨å›½å†…æœ‰çš„ç¿»è¯‘æˆâ€œé€šè¯â€ï¼Œæœ‰çš„ç¿»è¯‘æˆâ€œä»£å¸â€ï¼Œå…¶å®æœ€ç®€å•çš„ç†è§£å°±æ˜¯â€œè™šæ‹Ÿèµ„äº§å‡­è¯â€ï¼Œå®ƒå¯ä»¥æ˜¯æˆ‘ä»¬çš„è‚¡æƒï¼Œä¹Ÿå¯ä»¥æ˜¯ç¥¨æ®ï¼Œä¹Ÿå¯ä»¥æ˜¯æ¸¸æˆç§¯åˆ†ï¼Œå‡¡æ˜¯éœ€è¦èµ„äº§è®°è´¦çš„åœ°æ–¹éƒ½å¯ä»¥ç”¨ Token æ¥åšã€‚è€ŒåŒºå—é“¾åˆ™å¯ä»¥å¸®åŠ©å¤šä¸ªèŠ‚ç‚¹è¾¾æˆå…±è¯†å»è®°å½•å’ŒTokenç›¸å…³çš„äº‹æƒ…ã€‚å¦ä¸€æ–¹é¢è¦æ±‚åŠ å…¥åŒºå—é“¾ç½‘ç»œçš„äººä¸»åŠ¨å»å­˜å‚¨æ•°æ®ï¼Œè®©â€œçŸ¿å·¥â€ä»¬ä¸»åŠ¨çš„è´¡çŒ®å‡ºè‡ªå·±çš„å†…å­˜å’Œå¸¦å®½ã€‚åŒºå—é“¾ä¸–ç•Œå¼•å…¥äº†ä¸€ä¸ªå¥–åŠ±çš„æœºåˆ¶ï¼Œä¾‹å¦‚åœ¨æ¯”ç‰¹å¸ç³»ç»Ÿä¸­ï¼Œè¿™ç§å¥–åŠ±æœºåˆ¶å°±æ˜¯ä»¥ä»£å¸ï¼ˆæ¯”ç‰¹å¸ï¼‰çš„æ–¹å¼å¯¹è´¡çŒ®ç®—åŠ›çš„äººè¿›è¡Œå¥–åŠ±ã€‚</p><h2 id="åŒºå—é“¾çš„åº”ç”¨"><a href="#åŒºå—é“¾çš„åº”ç”¨" class="headerlink" title="åŒºå—é“¾çš„åº”ç”¨"></a>åŒºå—é“¾çš„åº”ç”¨</h2><p>å…³äºåŒºå—é“¾çš„åº”ç”¨åœºæ™¯ï¼Œå°±ç›®å‰åŒºå—é“¾æ‰€å¤„çš„é˜¶æ®µæ¥çœ‹ï¼Œä¸»è¦æ˜¯å¯å¤§è‡´åˆ†ä¸ºä¸¤æ–¹é¢ï¼Œä¸€æ˜¯æ•°å­—è´§å¸ï¼ŒäºŒæ˜¯å»ä¸­å¿ƒåŒ–åº”ç”¨ã€‚æ•°å­—è´§å¸æˆ‘ä»¬æ‰€ç†ŸçŸ¥çš„ä¸­æ¯”ç‰¹å¸æ˜¯å…ˆé©±å’Œç›®å‰å¸‚å€¼æœ€é«˜ï¼Œåº”ç”¨æœ€å¹¿æ³›çš„ä»£è¡¨ï¼Œè€Œå»ä¸­å¿ƒåŒ–åº”ç”¨ç›®å‰ä¹Ÿåªæ˜¯å¤„äºåˆçº§é˜¶æ®µï¼Œè¦æƒ³åŒºå—é“¾æ¥å¹¿æ³›åº”ç”¨åˆ°æ—¥å¸¸ç”Ÿæ´»çš„æ–¹æ–¹é¢é¢è¿˜å°šéœ€ä¸€å®šæ—¶é—´ã€‚æ‰€ä»¥è¿™é‡Œé‡ç‚¹è¯´ä¸€ä¸‹ç›®å‰å»ä¸­å¿ƒåŒ–åº”ç”¨çš„å…¸å‹ä»£è¡¨â€”ä»¥å¤ªåŠå’Œè¿è¡Œåœ¨ä»¥å¤ªåŠä¸Šçš„æ™ºèƒ½åˆçº¦ã€‚</p><p>ç›®å‰è¿è¡Œåœ¨ä»¥å¤ªåŠç½‘ç»œä¸Šçš„å»ä¸­å¿ƒåŒ–åº”ç”¨å¤§çº¦æœ‰è¿‘åƒä¸ªï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ å¤§ç±»ï¼š</p><ul><li><p><strong>å»ä¸­å¿ƒåŒ–çš„è™šæ‹Ÿè´§å¸äº¤æ˜“æ‰€</strong>ï¼š ç”¨æˆ·ä¸é€šè¿‡å’Œäº¤æ˜“æ‰€è¿›è¡Œæ’®åˆäº¤æ˜“ï¼Œè€Œæ˜¯é€šè¿‡æ™ºèƒ½åˆçº¦äº¤äº’è¿›è¡Œä»£å¸ï¼ˆtokenï¼‰çš„äº¤æ˜“ã€‚ç›®å‰å°šå¤„äºåˆçº§é˜¶æ®µï¼Œä»…æ”¯æŒåœ¨ä»¥å¤ªåŠå°šå‘è¡Œçš„ä»£å¸ï¼Œå¦‚EOSã€TRXç­‰ã€‚</p></li><li><p><strong>åŒºå—é“¾æ¸¸æˆ</strong>ï¼š2017å¹´äº‘æ’¸çŒ«æ¨ªç©ºå‡ºä¸–å¹¶å¸å¼•äº†å…¨çƒçš„å…³æ³¨å¹¶å¼•å‘äº†ä¸€æ³¢åŒºå—é“¾æ¸¸æˆç‹‚æ½®ï¼Œä½†ç›®å‰çš„ç©æ³•æ–¹é¢å’ŒçœŸæ­£çš„æ‰‹æ¸¸ï¼Œç«¯æ¸¸ç›¸æ¯”ä»è¿‡äºç®€å•ã€‚æ‰€ä»¥ä¸å°‘æ¸¸æˆç©å®¶æŠ±æ€¨ï¼šè¿™ä¸ç®—æ¸¸æˆï¼Œç®€ç›´å°±æ˜¯èµ„é‡‘ç›˜ã€‚å› è€Œè¦è¾¾åˆ°åƒæ˜¯ç‹è€…è£è€€ï¼ŒLOLè¿™ç±»å…¨æ°‘æ¸¸æˆè¿˜å°šéœ€ä¸€å®šçš„å‘å±•å†ç¨‹ã€‚</p></li><li><p><strong>è™šæ‹Ÿç‰©å“äº¤æ˜“å¸‚åœº</strong>ï¼šä¾‹å¦‚å„ç§åŒºå—é“¾æ¸¸æˆä¸­çš„æ¸¸æˆèµ„äº§ä¾¿å¯ä»¥é€šè¿‡æ™ºèƒ½åˆçº¦è¿›è¡Œäº¤æ˜“ã€‚ä½†ç›®å‰ä¹Ÿæ‰”å¤„äºåˆçº§é˜¶æ®µï¼Œæ´»è·ƒä¸é«˜ã€‚</p></li><li><p><strong>æŠ•ç¥¨ã€ä¼—ç­¹</strong>ï¼šå‰æ®µæ—¶é—´éæ´²çš„å¡æ‹‰åˆ©æ˜‚ä¸¾è¡Œäº†é¦–ä¸ªä»¥åŒºå—é“¾æŠ€æœ¯ä¸ºåŸºç¡€çš„æ€»ç»ŸæŠ•ç¥¨é€‰ä¸¾ã€‚åŒºå—é“¾æŠ€æœ¯æ”¹å–„äº†å…ˆå‰æ•°å­—æŠ•ç¥¨ç³»ç»Ÿçš„ç¼ºç‚¹ï¼Œç¡®ä¿äº†æŠ•ç¥¨çš„å®‰å…¨ã€é€æ˜å’ŒåŒ¿åã€‚</p></li></ul><p>é€šè¿‡æ™ºèƒ½åˆçº¦å¯ä»¥åšåˆ°å¿«é€Ÿå»ºç«‹ä¿¡ä»»ï¼Œæ•°æ®æ— æ³•ç¯¡æ”¹ï¼Œè¿‡ç¨‹é€æ˜ï¼Œä¿¡æ¯å®Œå…¨å¯¹ç§°ç­‰ä¼˜ç‚¹ã€‚ä½†ç°é˜¶æ®µå°šæœªæˆç†Ÿçš„æ™ºèƒ½åˆçº¦ä¹Ÿå­˜åœ¨ç€ä¾‹å¦‚æ— æ³•åŠæ—¶äº¤äº’ï¼Œå‘é€æŒ‡ä»¤è´¹ç”¨é«˜ï¼Œå¼€å‘ç¯å¢ƒå°šä¸æˆç†Ÿç­‰æ˜¾è‘—ç¼ºç‚¹ï¼Œè¿™äº›ç¼ºç‚¹é™åˆ¶äº†ç›®å‰å»ä¸­å¿ƒåŒ–åº”ç”¨çš„å‘å±•ï¼ŒåŒæ—¶ä¹Ÿç»™æœªæ¥çš„æ–°çš„å»ä¸­å¿ƒåŒ–æŠ€æœ¯æä¾›äº†æœºä¼šå’Œå‘å±•æ–¹å‘ã€‚</p><h2 id="åŒºå—é“¾çš„æŒ‘æˆ˜"><a href="#åŒºå—é“¾çš„æŒ‘æˆ˜" class="headerlink" title="åŒºå—é“¾çš„æŒ‘æˆ˜"></a>åŒºå—é“¾çš„æŒ‘æˆ˜</h2><p>åŒºå—é“¾è‡ªäº§ç”Ÿä»¥æ¥ä¸šç•Œå°±å¯¹å…¶è¤’è´¬ä¸ä¸€ï¼Œå°±å¦‚æ›¾ç»çš„äººå·¥æ™ºèƒ½ï¼Œå…‹éš†ä¸€èˆ¬ï¼Œæ¯ä¸€é¡¹æ–°å…´æŠ€æœ¯çš„å‘å±•å¿…ç„¶ä¼´éšç€è´¨ç–‘å’Œä¸ä¿¡ä»»ã€‚è€ŒçœŸæ­£èƒ½äºˆä»¥è¯æ˜çš„åªæœ‰å†å²ã€‚ä½†æ˜¯ä¸€é—¨æ–°å…´çš„æŠ€æœ¯è¦å‘å±•çš„æ›´é«˜æ•ˆç‡å’Œæ›´å…·å…ˆè¿›æ„ä¹‰ï¼Œå°±è¦è§£å†³ç°å­˜çš„å¾ˆå¤šé—®é¢˜ã€‚</p><ul><li><p>é¦–å…ˆå¾ˆç°å®çš„ä¸€ä¸ªé—®é¢˜ä¹Ÿæ˜¯åŒºå—é“¾æœ¬èº«ä¼˜ç‚¹æ‰€å¸¦æ¥çš„ï¼Œå°±æ˜¯æ•ˆç‡é—®é¢˜ï¼Œé‡‡ç”¨åˆ†å¸ƒå¼çš„å­˜å‚¨åˆ†éƒ¨ï¼Œæ¯ä¸€ä¸ªèŠ‚ç‚¹ä¿å­˜ä¸€ä»½å®Œæ•´çš„æ•°æ®åº“ï¼Œä¸”ç½‘ç»œä¸­ä»»ä½•ä¸€ç¬”äº¤æ˜“éƒ½è¦å…¶ä»–èŠ‚ç‚¹è®¤è¯å’Œè®°å½•ï¼Œè¿™å¯¼è‡´åŒºå—é“¾ç³»ç»Ÿå·¥ä½œæ•ˆç‡ååˆ†ä¹‹ä½ã€‚</p></li><li><p>å…¶æ¬¡åŸºäºå…¶åˆ†å¸ƒå¼è´¦æœ¬ç­–ç•¥ï¼Œè¿™ä»£è¡¨ç€éœ€è¦å¾ˆå¤šä¸»ä½“è®°è´¦ä¸”éœ€è¦ä»–ä»¬è¾¾åˆ°å…±è¯†ï¼Œç„¶è€Œç›®å‰ä¸šç•Œåœ¨å…±è¯†åè®®å±‚é¢å­˜åœ¨ç€å¾ˆå¤§çš„åˆ†æœŸï¼Œä¸”ä¸€äº›ä¸»æµæœºåˆ¶ä¹Ÿæœ‰ç¡¬æ€§çš„ç¼ºç‚¹ã€‚æ¯”å¦‚ä¸»æµçš„Powï¼Œå­˜åœ¨ç€æ•ˆç‡ä½ä¸‹ä»¥åŠæ‹œå åº­å®¹é”™ç­‰é—®é¢˜äºŸå¾…è§£å†³ã€‚</p></li><li><p>å®‰å…¨æ€§é—®é¢˜ï¼šæ›¾ç»å¾ˆå¤šäººéƒ½è§‰å¾—51%æ”»å‡»æ˜¯ä¸€ç§å¯èƒ½ï¼Œä¸å¤ªç°å®ã€‚ç„¶è€Œå°±ä»…2018è¿™ä¸€å¹´æ¥ï¼Œå‡ ç±»åŠ å¯†è´§å¸éƒ½é­åˆ°äº†æ‰€è°“51%æ”»å‡»ï¼ŒVergeã€BTGç›¸ç»§æˆä¸ºå—å®³è€…ï¼Œè¿™æ°æ°è¯´æ˜ï¼šéƒ½è¯´åŒºå—é“¾å®‰å…¨ï¼Œä½†ä¹Ÿä¸æ˜¯ç‰¢ä¸å¯ç ´çš„ã€‚</p></li><li><p>çŠ¯ç½ªè¡Œä¸šï¼šæœ‰äººè®¤ä¸ºï¼ŒåŸºäºåŒºå—é“¾è‡ªæ²»çš„ç‰¹ç‚¹ï¼Œä¼šæ·¡åŒ–ç›‘ç®¡å½±å“ï¼ˆæˆ–ç›‘ç®¡å±‚é¢è§¦åŠä¸å¤Ÿï¼‰ï¼Œæ‰€ä»¥å¸‚åœºçš„é€åˆ©æ€§å’Œâ€œçœ‹ä¸è§çš„æ‰‹â€ï¼Œä¼šå°†å®ƒåº”ç”¨å’Œå¼•å…¥éæ³•é¢†åŸŸï¼Œæš‚æ—¶æˆä¸ºæŸäº›â€œé»‘ç°äº§ä¸šâ€çš„åº‡æŠ¤æ‰€ã€‚</p></li></ul><p>å…¶å®ä»åŒºå—é“¾å½“ä¸‹å­˜åœ¨çš„é—®é¢˜æ¥çœ‹ï¼Œå®ƒçš„é—®é¢˜æ¥æºä¹Ÿæ­£æ˜¯å…¶æŠ€æœ¯çš„å…ˆè¿›æ–¹é¢æ‰€å¸¦æ¥çš„ã€‚æ‰€ä»¥æ¯ä¸€é—¨æ–°å…´çš„æŠ€æœ¯éƒ½æ˜¯ä¸€æŠŠåˆ©å¼Šçš†åœ¨çš„åŒåˆƒå‰‘ï¼Œåªæœ‰çœŸæ­£åˆ©å¤§äºå¼Šçš„æŠ€æœ¯æ‰èƒ½ç”Ÿå­˜å¹¶å¾—ä»¥æŒä¹…å‘å±•ã€‚åœ¨æœªæ¥ï¼Œç¬¬å››æ¬¡å·¥ä¸šé©å‘½çš„åˆ°æ¥å°†ä¼šä½¿ç°å­˜çš„æŠ€æœ¯æ°´å¹³ä»¥åŠç¤¾ä¼šåˆ¶åº¦å‘ç”Ÿç¿»å¤©è¦†åœ°çš„å˜åŒ–ã€‚å½“ä¸‹æµè¡Œçš„ç§‘æŠ€å‰æ²¿ä¹Ÿä¼šå¼•é¢†ç¬¬å››æ¬¡å·¥ä¸šé©å‘½çš„å‘å±•æ–¹å‘ã€‚é¦–å…ˆæ˜¯ç”Ÿç‰©ç§‘å­¦æŠ€æœ¯ï¼Œå…¶ä»£è¡¨æ€§æŠ€æœ¯åŸºå› æŠ€æœ¯å°†å¯èƒ½ä¼šçªç ´ä¸Šå¸åˆ›é€ ç”Ÿç‰©çš„è§„åˆ™ï¼Œä»æ–°å¡‘å†™äººç±»ã€åŠ¨æ¤ç‰©çš„èº«ä½“æ„é€ ã€‚å…¶æ¬¡ä»¥äººå·¥æ™ºèƒ½ï¼Œé‡å­è®¡ç®—ï¼ŒåŒºå—é“¾ï¼Œæ•°æ®æŒ–æ˜ä¸ºä»£è¡¨çš„äº’è”ç½‘æŠ€æœ¯å°†ä¼šæ—¥æ¸æ¸—é€åˆ°æˆ‘ä»¬æ—¥å¸¸ç”Ÿæ´»ä¸­ã€‚å†è€…äººç±»æ¢ç´¢å®‡å®™çš„æ­¥ä¼å°†ä¼šåŠ é€Ÿï¼Œæ¢ç´¢å¤–å¤ªç©ºæ‰€å¸¦æ¥çš„èµ„æºåˆ©ç”¨ä»¥åŠç§‘æŠ€è¿›æ­¥å°†ä¼šæ·±åˆ»åœ°å½±å“åˆ°æˆ‘ä»¬çš„æ—¥å¸¸ç”Ÿæ´»ã€‚è€ŒåŒºå—é“¾çš„å‘å±•æ¯•ç«Ÿæ¨è¿›ç¬¬å››æ¬¡å·¥ä¸šé©å‘½çš„è¿›ç¨‹ï¼ŒåŒæ—¶é©å‘½ä¼´éšçš„å…¶ä»–å…ˆè¿›æŠ€æœ¯çš„å‘å±•ä¹Ÿå°†ä¿ƒè¿›åŒºå—é“¾æŠ€æœ¯æ›´å¥½åœ°èµ°å‘æˆç†Ÿã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;ul&gt;
&lt;li&gt;é€šè¿‡é˜…è¯»åŒºå—é“¾æŠ€æœ¯å‘å±•ç°çŠ¶ä¸å±•æœ›ï¼Œéƒ‘å­å½¬è€å¸ˆçš„åŒºå—é“¾æŠ¥å‘Šï¼Œä»¥åŠçŸ¥ä¹è´´å§ä¸Šå…³äºåŒºå—é“¾çš„è®¨è®ºæ‰€å†™ä¸‹çš„ä¸ªäººå­¦ä¹ ä½“ä¼šä»¥åŠå¯¹åŒºå—é“¾çš„ä¸ªäººçœ‹æ³•ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;ä»€ä¹ˆæ˜¯åŒºå—é“¾&quot;&gt;&lt;a href=&quot;#ä»€ä¹ˆæ˜¯åŒºå—é“¾&quot; class=&quot;headerlink&quot; 
      
    
    </summary>
    
      <category term="åŒºå—é“¾" scheme="http://yoursite.com/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
    
      <category term="åŒºå—é“¾" scheme="http://yoursite.com/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
  </entry>
  
  <entry>
    <title>åŒºå—é“¾åˆå­¦ä¹ </title>
    <link href="http://yoursite.com/2019/07/05/%E5%8C%BA%E5%9D%97%E9%93%BE%E5%88%9D%E5%AD%A6%E4%B9%A0/"/>
    <id>http://yoursite.com/2019/07/05/åŒºå—é“¾åˆå­¦ä¹ /</id>
    <published>2019-07-05T14:38:53.000Z</published>
    <updated>2019-07-05T14:39:36.251Z</updated>
    
    <content type="html"><![CDATA[<ul><li>é˜…è¯»è‡ªåŒºå—é“¾æŠ€æœ¯å‘å±•ç°çŠ¶ä¸å±•æœ›ï¼ˆè¢å‹‡ ç‹é£è·ƒï¼‰çš„æŠ¥å‘Šå¹¶èŠ‚é€‰å…¶ä¸­å†…å®¹</li></ul><h2 id="åŒºå—é“¾ç®€ä»‹"><a href="#åŒºå—é“¾ç®€ä»‹" class="headerlink" title="åŒºå—é“¾ç®€ä»‹"></a>åŒºå—é“¾ç®€ä»‹</h2><ol><li>åŒºå—é“¾å®šä¹‰ï¼š</li></ol><ul><li>åŒºå—é“¾æ˜¯ä»¥æ¯”ç‰¹å¸ä¸ºä»£è¡¨çš„æ•°å­—åŠ å¯†è´§å¸ä½“ç³»çš„æ ¸å¿ƒæ”¯æ’‘æŠ€æœ¯ã€‚åŒºå—é“¾æŠ€æœ¯çš„æ ¸å¿ƒä¼˜åŠ¿æ˜¯å»ä¸­å¿ƒåŒ–ï¼Œèƒ½å¤Ÿé€šè¿‡è¿ç”¨æ•°æ®åŠ å¯†ã€æ—¶é—´æˆ³ã€åˆ†å¸ƒå¼å…±è¯†å’Œç»æµæ¿€åŠ±ç­‰æ‰‹æ®µï¼Œåœ¨èŠ‚ç‚¹æ— éœ€äº’ç›¸ä¿¡ä»»çš„åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å®ç°åŸºäºå»ä¸­å¿ƒåŒ–ä¿¡ç”¨çš„ç‚¹å¯¹ç‚¹äº¤æ˜“ã€åè°ƒä¸åä½œï¼Œä»è€Œä¸ºè§£å†³ä¸­å¿ƒåŒ–æœºæ„æ™®éå­˜åœ¨çš„é«˜æˆæœ¬ã€ä½æ•ˆç‡å’Œæ•°æ®å­˜å‚¨ä¸å®‰å…¨ç­‰é—®é¢˜æä¾›äº†è§£å†³æ–¹æ¡ˆã€‚</li></ul><ol start="2"><li>åŒºå—é“¾ç‰¹ç‚¹ï¼š</li></ol><ul><li>å»ä¸­å¿ƒåŒ–ã€æ—¶åºæ•°æ®ã€é›†ä½“ç»´æŠ¤ã€å¯ç¼–ç¨‹å’Œå®‰å…¨å¯ä¿¡ç­‰ç‰¹ç‚¹ã€‚</li><li>å»ä¸­å¿ƒåŒ–ï¼šåŒºå—é“¾æ•°æ®çš„éªŒè¯ã€è®°è´¦ã€å­˜å‚¨ã€ç»´æŠ¤å’Œä¼ è¾“ç­‰è¿‡ç¨‹å‡æ˜¯åŸºäºåˆ†å¸ƒå¼ç³»ç»Ÿç»“æ„, é‡‡ç”¨çº¯æ•°å­¦æ–¹æ³•è€Œä¸æ˜¯ä¸­å¿ƒæœºæ„æ¥å»ºç«‹åˆ†å¸ƒå¼èŠ‚ç‚¹é—´çš„ä¿¡ä»»å…³ç³», ä»è€Œå½¢æˆå»ä¸­å¿ƒåŒ–çš„å¯ä¿¡ä»»çš„åˆ†å¸ƒå¼ç³»ç»Ÿã€‚</li><li>æ—¶åºæ•°æ®ï¼š: åŒºå—é“¾é‡‡ç”¨å¸¦æœ‰æ—¶é—´æˆ³çš„é“¾å¼åŒºå—ç»“æ„å­˜å‚¨æ•°æ®, ä»è€Œä¸ºæ•°æ®å¢åŠ äº†æ—¶é—´ç»´åº¦, å…·æœ‰æå¼ºçš„å¯éªŒè¯æ€§å’Œå¯è¿½æº¯æ€§ã€‚</li><li>é›†ä½“ç»´æŠ¤ï¼šåŒºå—é“¾ç³»ç»Ÿé‡‡ç”¨ç‰¹å®šçš„ç»æµæ¿€åŠ±æœºåˆ¶æ¥ä¿è¯åˆ†å¸ƒå¼ç³»ç»Ÿä¸­æ‰€æœ‰èŠ‚ç‚¹å‡å¯å‚ä¸æ•°æ®åŒºå—çš„éªŒè¯è¿‡ç¨‹ (å¦‚æ¯”ç‰¹å¸çš„ â€œæŒ–çŸ¿â€ è¿‡ç¨‹), å¹¶é€šè¿‡å…±è¯†ç®—æ³•æ¥é€‰æ‹©ç‰¹å®šçš„èŠ‚ç‚¹å°†æ–°åŒºå—æ·»åŠ åˆ°åŒºå—é“¾ã€‚</li><li>å¯ç¼–ç¨‹ï¼š åŒºå—é“¾æŠ€æœ¯å¯æä¾›çµæ´»çš„è„šæœ¬ä»£ç ç³»ç»Ÿ, æ”¯æŒç”¨æˆ·åˆ›å»ºé«˜çº§çš„æ™ºèƒ½åˆçº¦ã€è´§å¸æˆ–å…¶ä»–å»ä¸­å¿ƒåŒ–åº”ç”¨.ã€‚ä¾‹å¦‚, ä»¥å¤ªåŠ (Ethereum) å¹³å°å³æä¾›äº†å›¾çµå®Œå¤‡çš„è„šæœ¬è¯­è¨€ä»¥ä¾›ç”¨æˆ·æ¥æ„å»ºä»»ä½•å¯ä»¥ç²¾ç¡®å®šä¹‰çš„æ™ºèƒ½åˆçº¦æˆ–äº¤æ˜“ç±»å‹ã€‚</li><li>å®‰å…¨å¯ä¿¡ï¼šåŒºå—é“¾æŠ€æœ¯é‡‡ç”¨éå¯¹ç§°å¯†ç å­¦åŸç†å¯¹æ•°æ®è¿›è¡ŒåŠ å¯†, åŒæ—¶å€ŸåŠ©åˆ†å¸ƒå¼ç³»ç»Ÿå„èŠ‚ç‚¹çš„å·¥ä½œé‡è¯æ˜ç­‰å…±è¯†ç®—æ³•å½¢æˆçš„å¼ºå¤§ç®—åŠ›æ¥æŠµå¾¡å¤–éƒ¨æ”»å‡»ã€ä¿è¯åŒºå—é“¾æ•°æ®ä¸å¯ç¯¡æ”¹å’Œä¸å¯ä¼ªé€ , å› è€Œå…·æœ‰è¾ƒé«˜çš„å®‰å…¨æ€§ã€‚</li></ul><ol start="3"><li>åŒºå—é“¾æŠ€æœ¯çš„æœªæ¥å‘å±•è„‰ç»œï¼š</li></ol><ul><li>åŒºå—é“¾æŠ€æœ¯å°†ä¼šç»å†ä»¥å¯ç¼–ç¨‹æ•°å­—åŠ å¯†è´§å¸ä½“ç³»ä¸ºä¸»è¦ç‰¹å¾çš„åŒºå—é“¾ 1.0 æ¨¡å¼ã€ä»¥å¯ç¼–ç¨‹é‡‘èç³»ç»Ÿä¸ºä¸»è¦ç‰¹å¾çš„åŒºå—é“¾ 2.0 æ¨¡å¼å’Œä»¥å¯ç¼–ç¨‹ç¤¾ä¼šä¸ºä¸»è¦ç‰¹å¾çš„åŒºå—é“¾ 3.0 æ¨¡å¼ã€‚</li></ul><ol start="4"><li>æ¯”ç‰¹å¸ç°çŠ¶ï¼š</li></ol><ul><li>ç›®å‰, ä¸€èˆ¬è®¤ä¸ºåŒºå—é“¾æŠ€æœ¯æ­£å¤„äº2.0 æ¨¡å¼çš„åˆæœŸ, è‚¡æƒä¼—ç­¹å’Œ P2P å€Ÿè´·ç­‰å„ç±»åŸºäºåŒºå—é“¾æŠ€æœ¯çš„äº’è”ç½‘é‡‘èåº”ç”¨ç›¸ç»§æ¶Œç°. ç„¶è€Œ, ä¸Šè¿°æ¨¡å¼å®é™…ä¸Šæ˜¯å¹³è¡Œè€Œéæ¼”è¿›å¼å‘å±•çš„, åŒºå—é“¾ 1.0æ¨¡å¼çš„æ•°å­—åŠ å¯†è´§å¸ä½“ç³»ä»ç„¶è¿œæœªæˆç†Ÿ, è·ç¦»å…¶å…¨çƒè´§å¸ä¸€ä½“åŒ–çš„æ„¿æ™¯å®é™…ä¸Šæ›´è¿œã€æ›´å›°éš¾. ç›®å‰, åŒºå—é“¾é¢†åŸŸå·²ç»å‘ˆç°å‡ºæ˜æ˜¾çš„æŠ€æœ¯å’Œäº§ä¸šåˆ›æ–°é©±åŠ¨çš„å‘å±•æ€åŠ¿, ç›¸å…³å­¦æœ¯ç ”ç©¶ä¸¥é‡æ»åã€äºŸå¾…è·Ÿè¿›ã€‚(æˆªæ­¢åˆ° 2016 å¹´ 2 æœˆ, ä»¥ä¸‡æ–¹æ•°æ®çŸ¥è¯†æœåŠ¡å¹³å°ä¸ºä¸­æ–‡æ•°æ®æºã€ä»¥ Web of Science å’Œ EI Village ä¸ºè‹±æ–‡æ•°æ®æºçš„æ–‡çŒ®æ£€ç´¢æ˜¾ç¤º, ç›®å‰ç¯‡ååŒ…å«å…³é”®è¯ â€œåŒºå—é“¾/blockchainâ€ çš„ä»…æœ‰ 2 ç¯‡ä¸­æ–‡å’Œ 9 ç¯‡è‹±æ–‡æ–‡çŒ®. )</li></ul><h2 id="æ¯”ç‰¹å¸ä¸åŒºå—é“¾æ¦‚è¿°"><a href="#æ¯”ç‰¹å¸ä¸åŒºå—é“¾æ¦‚è¿°" class="headerlink" title="æ¯”ç‰¹å¸ä¸åŒºå—é“¾æ¦‚è¿°"></a>æ¯”ç‰¹å¸ä¸åŒºå—é“¾æ¦‚è¿°</h2><ol><li>æ¯”ç‰¹å¸æœ¬è´¨ï¼š</li></ol><ul><li><p>ç”±åˆ†å¸ƒå¼ç½‘ç»œç³»ç»Ÿç”Ÿæˆçš„æ•°å­—è´§å¸, å…¶å‘è¡Œè¿‡ç¨‹ä¸ä¾èµ–ç‰¹å®šçš„ä¸­å¿ƒåŒ–æœºæ„, è€Œæ˜¯ä¾èµ–äºåˆ†å¸ƒå¼ç½‘ç»œèŠ‚ç‚¹å…±åŒå‚ä¸ä¸€ç§ç§°ä¸ºå·¥ä½œé‡è¯æ˜(Proof of work, PoW) çš„å…±è¯†è¿‡ç¨‹ä»¥å®Œæˆæ¯”ç‰¹å¸äº¤æ˜“çš„éªŒè¯ä¸è®°å½•ã€‚</p></li><li><p>PoW å…±è¯†è¿‡ç¨‹ (ä¿—ç§°æŒ–çŸ¿, æ¯ä¸ªèŠ‚ç‚¹ç§°ä¸ºçŸ¿å·¥) é€šå¸¸æ˜¯å„èŠ‚ç‚¹è´¡çŒ®è‡ªå·±çš„è®¡ç®—èµ„æºæ¥ç«äº‰è§£å†³ä¸€ä¸ªéš¾åº¦å¯åŠ¨æ€è°ƒæ•´çš„æ•°å­¦é—®é¢˜, æˆåŠŸè§£å†³è¯¥æ•°å­¦é—®é¢˜çš„çŸ¿å·¥å°†è·å¾—åŒºå—çš„è®°è´¦æƒ, å¹¶å°†å½“å‰æ—¶é—´æ®µçš„æ‰€æœ‰æ¯”ç‰¹å¸äº¤æ˜“æ‰“åŒ…è®°å…¥ä¸€ä¸ªæ–°çš„åŒºå—ã€æŒ‰ç…§æ—¶é—´é¡ºåºé“¾æ¥åˆ°æ¯”ç‰¹å¸ä¸»é“¾ä¸Š. æ¯”ç‰¹å¸ç³»ç»ŸåŒæ—¶ä¼šå‘è¡Œä¸€å®šæ•°é‡çš„æ¯”ç‰¹å¸ä»¥å¥–åŠ±è¯¥çŸ¿å·¥, å¹¶æ¿€åŠ±å…¶ä»–çŸ¿å·¥ç»§ç»­è´¡çŒ®ç®—åŠ›ã€‚</p></li><li><p>æ¯”ç‰¹å¸çš„æµé€šè¿‡ç¨‹ä¾é å¯†ç å­¦æ–¹æ³•ä¿éšœå®‰å…¨. æ¯ä¸€æ¬¡æ¯”ç‰¹å¸äº¤æ˜“éƒ½ä¼šç»è¿‡ç‰¹æ®Šç®—æ³•å¤„ç†å’Œå…¨ä½“çŸ¿å·¥éªŒè¯åè®°å…¥åŒºå—é“¾, åŒæ—¶å¯ä»¥é™„å¸¦å…·æœ‰ä¸€å®šçµæ´»æ€§çš„è„šæœ¬ä»£ç  (æ™ºèƒ½åˆçº¦)ä»¥å®ç°å¯ç¼–ç¨‹çš„è‡ªåŠ¨åŒ–è´§å¸æµé€šã€‚</p></li></ul><ol start="2"><li><p>æ¯”ç‰¹å¸å’ŒåŒºå—é“¾å…·æœ‰çš„äº”ä¸ªå…³é”®è¦ç´ </p><ul><li>å³å…¬å…±çš„åŒºå—é“¾è´¦æœ¬ã€åˆ†å¸ƒå¼çš„ç‚¹å¯¹ç‚¹ç½‘ç»œç³»ç»Ÿã€å»ä¸­å¿ƒåŒ–çš„å…±è¯†ç®—æ³•ã€é€‚åº¦çš„ç»æµæ¿€åŠ±æœºåˆ¶ä»¥åŠå¯ç¼–ç¨‹çš„è„šæœ¬ä»£ç </li></ul></li><li><p>æ•°å­—åŠ å¯†è´§å¸é¢ä¸´çš„ä¸¤ä¸ªé‡è¦é—®é¢˜</p><ul><li>åŒé‡æ”¯ä»˜é—®é¢˜å’Œæ‹œå åº­é—®é¢˜</li><li>åŒé‡æ”¯ä»˜é—®é¢˜ï¼šåŒé‡æ”¯ä»˜é—®é¢˜åˆç§°ä¸º â€œåŒèŠ±â€, å³åˆ©ç”¨è´§å¸çš„æ•°å­—ç‰¹æ€§ä¸¤æ¬¡æˆ–å¤šæ¬¡ä½¿ç”¨â€œåŒä¸€ç¬”é’±â€ å®Œæˆæ”¯ä»˜. ä¼ ç»Ÿé‡‘èå’Œè´§å¸ä½“ç³»ä¸­, ç°é‡‘å› æ˜¯ç‰©ç†å®ä½“, èƒ½å¤Ÿè‡ªç„¶åœ°é¿å…åŒé‡æ”¯ä»˜;å…¶ä»–æ•°å­—å½¢å¼çš„è´§å¸åˆ™éœ€è¦å¯ä¿¡çš„ç¬¬ä¸‰æ–¹ä¸­å¿ƒæœºæ„(å¦‚é“¶è¡Œ) æ¥ä¿è¯ã€‚ åŒºå—é“¾æŠ€æœ¯çš„è´¡çŒ®æ˜¯åœ¨æ²¡æœ‰ç¬¬ä¸‰æ–¹æœºæ„çš„æƒ…å†µä¸‹, é€šè¿‡åˆ†å¸ƒå¼èŠ‚ç‚¹çš„éªŒè¯å’Œå…±è¯†æœºåˆ¶è§£å†³äº†å»ä¸­å¿ƒåŒ–ç³»ç»Ÿçš„åŒé‡æ”¯ä»˜é—®é¢˜, åœ¨ä¿¡æ¯ä¼ è¾“çš„è¿‡ç¨‹åŒæ—¶å®Œæˆäº†ä»·å€¼è½¬ç§»ã€‚</li><li>æ‹œå åº­é—®é¢˜ï¼šæ‹œå åº­å°†å†›é—®é¢˜æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿäº¤äº’è¿‡ç¨‹æ™®éé¢ä¸´çš„éš¾é¢˜, å³åœ¨ç¼ºå°‘å¯ä¿¡ä»»çš„ä¸­å¤®èŠ‚ç‚¹çš„æƒ…å†µä¸‹, åˆ†å¸ƒå¼èŠ‚ç‚¹å¦‚ä½•è¾¾æˆå…±è¯†å’Œå»ºç«‹äº’ä¿¡ã€‚åŒºå—é“¾é€šè¿‡æ•°å­—åŠ å¯†æŠ€æœ¯å’Œåˆ†å¸ƒå¼å…±è¯†ç®—æ³•, å®ç°äº†åœ¨æ— éœ€ä¿¡ä»»å•ä¸ªèŠ‚ç‚¹çš„æƒ…å†µä¸‹æ„å»ºä¸€ä¸ªå»ä¸­å¿ƒåŒ–çš„å¯ä¿¡ä»»ç³»ç»Ÿ. ä¸ä¼ ç»Ÿä¸­å¿ƒæœºæ„(å¦‚ä¸­å¤®é“¶è¡Œ) çš„ä¿¡ç”¨èƒŒä¹¦æœºåˆ¶ä¸åŒçš„æ˜¯, æ¯”ç‰¹å¸åŒºå—é“¾å½¢æˆçš„æ˜¯è½¯ä»¶å®šä¹‰çš„ä¿¡ç”¨, è¿™æ ‡å¿—ç€ä¸­å¿ƒåŒ–çš„å›½å®¶ä¿¡ç”¨å‘å»ä¸­å¿ƒåŒ–çš„ç®—æ³•ä¿¡ç”¨çš„æ ¹æœ¬æ€§å˜é©.</li></ul></li><li><p>æ¯”ç‰¹å¸çš„æµé€šè¿‡ç¨‹</p></li></ol><ul><li>æ¯”ç‰¹å¸å‡­å€Ÿå…¶å…ˆå‘ä¼˜åŠ¿, ç›®å‰å·²ç»å½¢æˆä½“ç³»å®Œå¤‡çš„æ¶µç›–å‘è¡Œã€æµé€šå’Œé‡‘èè¡ç”Ÿå¸‚åœºçš„ç”Ÿæ€åœˆä¸äº§ä¸šé“¾ (å¦‚å›¾ 1 æ‰€ç¤º), è¿™ä¹Ÿæ˜¯å…¶é•¿æœŸå æ®ç»å¤§å¤šæ•°æ•°å­—åŠ å¯†è´§å¸å¸‚åœºä»½é¢çš„ä¸»è¦åŸå› . æ¯”ç‰¹å¸çš„å¼€æºç‰¹æ€§å¸å¼•äº†å¤§é‡å¼€å‘è€…æŒç»­æ€§åœ°è´¡çŒ®å…¶åˆ›æ–°æŠ€æœ¯ã€æ–¹æ³•å’Œæœºåˆ¶; æ¯”ç‰¹å¸å„ç½‘ç»œèŠ‚ç‚¹ (çŸ¿å·¥) æä¾›ç®—åŠ›ä»¥ä¿è¯æ¯”ç‰¹å¸çš„ç¨³å®šå…±è¯†å’Œå®‰å…¨æ€§, å…¶ç®—åŠ›å¤§å¤šæ¥è‡ªäºè®¾å¤‡å•†é”€å”®çš„ä¸“é—¨ç”¨äº PoW å…±è¯†ç®—æ³•çš„ä¸“ä¸šè®¾å¤‡(çŸ¿æœº). æ¯”ç‰¹å¸ç½‘ç»œä¸ºæ¯ä¸ªæ–°å‘ç°çš„åŒºå—å‘è¡Œä¸€å®šæ•°é‡çš„æ¯”ç‰¹å¸ä»¥å¥–åŠ±çŸ¿å·¥, éƒ¨åˆ†çŸ¿å·¥å¯èƒ½ä¼šç›¸äº’åˆä½œå»ºç«‹æ”¶ç›Šå…±äº«çš„çŸ¿æ± , ä»¥ä¾¿æ±‡é›†ç®—åŠ›æ¥æé«˜è·å¾—æ¯”ç‰¹å¸çš„æ¦‚ç‡. æ¯”ç‰¹å¸ç»å‘è¡Œè¿›å…¥æµé€šç¯èŠ‚å, æŒå¸äººå¯ä»¥é€šè¿‡ç‰¹å®šçš„è½¯ä»¶å¹³å° (å¦‚æ¯”ç‰¹å¸é’±åŒ…) å‘å•†å®¶æ”¯ä»˜æ¯”ç‰¹å¸æ¥è´­ä¹°å•†å“æˆ–æœåŠ¡, è¿™ä½“ç°äº†æ¯”ç‰¹å¸çš„è´§å¸å±æ€§; åŒæ—¶ç”±äºæ¯”ç‰¹å¸ä»·æ ¼çš„æ¶¨è·Œæœºåˆ¶ä½¿å…¶å®Œå…¨å…·å¤‡é‡‘èè¡ç”Ÿå“çš„æ‰€æœ‰å±æ€§, å› æ­¤å‡ºç°äº†æ¯”ç‰¹å¸äº¤æ˜“å¹³å°ä»¥æ–¹ä¾¿æŒå¸äººæŠ•èµ„æˆ–è€…æŠ•æœºæ¯”ç‰¹å¸. åœ¨æµé€šç¯èŠ‚å’Œé‡‘èå¸‚åœºä¸­, æ¯ä¸€ç¬”æ¯”ç‰¹å¸äº¤æ˜“éƒ½ä¼šç”±æ¯”ç‰¹å¸ç½‘ç»œçš„å…¨ä½“çŸ¿å·¥éªŒè¯å¹¶è®°å…¥åŒºå—é“¾ã€‚</li></ul><p><img src="https://img-blog.csdn.net/2018091215470988?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><h2 id="åŒºå—é“¾çš„åŸºç¡€æ¨¡å‹å’Œå…³é”®æŠ€æœ¯"><a href="#åŒºå—é“¾çš„åŸºç¡€æ¨¡å‹å’Œå…³é”®æŠ€æœ¯" class="headerlink" title="åŒºå—é“¾çš„åŸºç¡€æ¨¡å‹å’Œå…³é”®æŠ€æœ¯"></a>åŒºå—é“¾çš„åŸºç¡€æ¨¡å‹å’Œå…³é”®æŠ€æœ¯</h2><p>1.åŒºå—é“¾åŸºç¡€æ¶æ„æ¨¡å‹ï¼š</p><ul><li>åŒºå—é“¾æŠ€æœ¯çš„åŸºç¡€æ¶æ„æ¨¡å‹å¦‚å›¾ 2 æ‰€ç¤º. ä¸€èˆ¬è¯´æ¥, åŒºå—é“¾ç³»ç»Ÿç”±æ•°æ®å±‚ã€ç½‘ç»œå±‚ã€å…±è¯†å±‚ã€æ¿€åŠ±å±‚ã€åˆçº¦å±‚å’Œåº”ç”¨å±‚ç»„æˆ. å…¶ä¸­, æ•°æ®å±‚å°è£…äº†åº•å±‚æ•°æ®åŒºå—ä»¥åŠç›¸å…³çš„æ•°æ®åŠ å¯†å’Œæ—¶é—´æˆ³ç­‰æŠ€æœ¯; ç½‘ç»œå±‚åˆ™åŒ…æ‹¬åˆ†å¸ƒå¼ç»„ç½‘æœºåˆ¶ã€æ•°æ®ä¼ æ’­æœºåˆ¶å’Œæ•°æ®éªŒè¯æœºåˆ¶ç­‰; å…±è¯†å±‚ä¸»è¦å°è£…ç½‘ç»œèŠ‚ç‚¹çš„å„ç±»å…±è¯†ç®—æ³•; æ¿€åŠ±å±‚å°†ç»æµå› ç´ é›†æˆåˆ°åŒºå—é“¾æŠ€æœ¯ä½“ç³»ä¸­æ¥, ä¸»è¦åŒ…æ‹¬ç»æµæ¿€åŠ±çš„å‘è¡Œæœºåˆ¶å’Œåˆ†é…æœºåˆ¶ç­‰; åˆçº¦å±‚ä¸»è¦å°è£…å„ç±»è„šæœ¬ã€ç®—æ³•å’Œæ™ºèƒ½åˆçº¦, æ˜¯åŒºå—é“¾å¯ç¼–ç¨‹ç‰¹æ€§çš„åŸºç¡€; åº”ç”¨å±‚åˆ™å°è£…äº†åŒºå—é“¾çš„å„ç§åº”ç”¨åœºæ™¯å’Œæ¡ˆä¾‹. è¯¥æ¨¡å‹ä¸­, åŸºäºæ—¶é—´æˆ³çš„é“¾å¼åŒºå—ç»“æ„ã€åˆ†å¸ƒå¼èŠ‚ç‚¹çš„å…±è¯†æœºåˆ¶ã€åŸºäºå…±è¯†ç®—åŠ›çš„ç»æµæ¿€åŠ±å’Œçµæ´»å¯ç¼–ç¨‹çš„æ™ºèƒ½åˆçº¦æ˜¯åŒºå—é“¾æŠ€æœ¯æœ€å…·ä»£è¡¨æ€§çš„åˆ›æ–°ç‚¹ã€‚</li></ul><p><img src="https://img-blog.csdn.net/20180912155416859?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p><img src="https://img-blog.csdn.net/20180912160025981?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p>2.æ•°æ®å±‚ï¼š</p><ul><li><p>æ•°æ®åŒºå—ï¼šå¦‚å›¾ 3 æ‰€ç¤º, æ¯ä¸ªæ•°æ®åŒºå—ä¸€èˆ¬åŒ…å«åŒºå—å¤´ (Header) å’ŒåŒºå—ä½“ (Body) ä¸¤éƒ¨åˆ†. åŒºå—å¤´å°è£…äº†å½“å‰ç‰ˆæœ¬å· (Version)ã€å‰ä¸€åŒºå—åœ°å€(Prev-block)ã€å½“å‰åŒºå—çš„ç›®æ ‡å“ˆå¸Œå€¼(Bits)ã€å½“å‰åŒºå—PoWå…±è¯†è¿‡ç¨‹çš„è§£éšæœºæ•° (Nonce)ã€Merkleæ ¹(Merkle-root)ä»¥åŠæ—¶é—´æˆ³(Timestamp) ç­‰ä¿¡æ¯. æ¯”ç‰¹å¸ç½‘ç»œå¯ä»¥åŠ¨æ€è°ƒæ•´ PoW å…±è¯†è¿‡ç¨‹çš„éš¾åº¦å€¼, æœ€å…ˆæ‰¾åˆ°æ­£ç¡®çš„è§£éšæœºæ•° Nonce å¹¶ç»è¿‡å…¨ä½“çŸ¿å·¥éªŒè¯çš„çŸ¿å·¥å°†ä¼šè·å¾—å½“å‰åŒºå—çš„è®°è´¦æƒ. åŒºå—ä½“åˆ™åŒ…æ‹¬å½“å‰åŒºå—çš„äº¤æ˜“æ•°é‡ä»¥åŠç»è¿‡éªŒè¯çš„ã€åŒºå—åˆ›å»ºè¿‡ç¨‹ä¸­ç”Ÿæˆçš„æ‰€æœ‰äº¤æ˜“è®°å½•. è¿™äº›è®°å½•é€šè¿‡ Merkle æ ‘çš„å“ˆå¸Œè¿‡ç¨‹ç”Ÿæˆå”¯ä¸€çš„ Merkle æ ¹å¹¶è®°å…¥åŒºå—å¤´ã€‚</p></li><li><p>é“¾å¼ç»“æ„ï¼šå–å¾—è®°è´¦æƒçš„çŸ¿å·¥å°†å½“å‰åŒºå—é“¾æ¥åˆ°å‰ä¸€åŒºå—, å½¢æˆæœ€æ–°çš„åŒºå—ä¸»é“¾. å„ä¸ªåŒºå—ä¾æ¬¡ç¯ç¯ç›¸æ¥, å½¢æˆä»åˆ›ä¸–åŒºå—åˆ°å½“å‰åŒºå—çš„ä¸€æ¡æœ€é•¿ä¸»é“¾, ä»è€Œè®°å½•äº†åŒºå—é“¾æ•°æ®çš„å®Œæ•´å†å², èƒ½å¤Ÿæä¾›åŒºå—é“¾æ•°æ®çš„æº¯æºå’Œå®šä½åŠŸèƒ½, ä»»æ„æ•°æ®éƒ½å¯ä»¥é€šè¿‡æ­¤é“¾å¼ç»“æ„é¡ºè—¤æ‘¸ç“œã€è¿½æœ¬æº¯æº. éœ€è¦è¯´æ˜çš„æ˜¯, å¦‚æœçŸ­æ—¶é—´å†…æœ‰ä¸¤ä¸ªçŸ¿å·¥åŒæ—¶ â€œæŒ–å‡ºâ€ ä¸¤ä¸ªæ–°çš„åŒºå—åŠ ä»¥é“¾æ¥çš„è¯, åŒºå—ä¸»é“¾å¯èƒ½ä¼šå‡ºç°æš‚æ—¶çš„ â€œåˆ†å‰â€ç°è±¡, å…¶è§£å†³æ–¹æ³•æ˜¯çº¦å®šçŸ¿å·¥æ€»æ˜¯é€‰æ‹©å»¶é•¿ç´¯è®¡å·¥ä½œé‡è¯æ˜æœ€å¤§çš„åŒºå—é“¾. å› æ­¤, å½“ä¸»é“¾åˆ†å‰å, åç»­åŒºå—çš„çŸ¿å·¥å°†é€šè¿‡è®¡ç®—å’Œæ¯”è¾ƒ, å°†å…¶åŒºå—é“¾æ¥åˆ°å½“å‰ç´¯è®¡å·¥ä½œé‡è¯æ˜æœ€å¤§åŒ–çš„å¤‡é€‰é“¾ä¸Š, å½¢æˆæ›´é•¿çš„æ–°ä¸»é“¾, ä»è€Œè§£å†³åˆ†å‰é—®é¢˜ã€‚</p></li><li><p>æ—¶é—´æˆ³ï¼šåŒºå—é“¾æŠ€æœ¯è¦æ±‚è·å¾—è®°è´¦æƒçš„èŠ‚ç‚¹å¿…é¡»åœ¨å½“å‰æ•°æ®åŒºå—å¤´ä¸­åŠ ç›–æ—¶é—´æˆ³, è¡¨æ˜åŒºå—æ•°æ®çš„å†™å…¥æ—¶é—´. å› æ­¤, ä¸»é“¾ä¸Šå„åŒºå—æ˜¯æŒ‰ç…§æ—¶é—´é¡ºåºä¾æ¬¡æ’åˆ—çš„. æ—¶é—´æˆ³æŠ€æœ¯æœ¬èº«å¹¶ä¸å¤æ‚, ä½†å…¶åœ¨åŒºå—é“¾æŠ€æœ¯ä¸­çš„åº”ç”¨æ˜¯å…·æœ‰é‡è¦æ„ä¹‰çš„åˆ›æ–°. æ—¶é—´æˆ³å¯ä»¥ä½œä¸ºåŒºå—æ•°æ®çš„å­˜åœ¨æ€§è¯æ˜ (Proof of existence),æœ‰åŠ©äºå½¢æˆä¸å¯ç¯¡æ”¹å’Œä¸å¯ä¼ªé€ çš„åŒºå—é“¾æ•°æ®åº“,ä»è€Œä¸ºåŒºå—é“¾åº”ç”¨äºå…¬è¯ã€çŸ¥è¯†äº§æƒæ³¨å†Œç­‰æ—¶é—´æ•æ„Ÿçš„é¢†åŸŸå¥ å®šäº†åŸºç¡€. æ›´ä¸ºé‡è¦çš„æ˜¯, æ—¶é—´æˆ³ä¸ºæœªæ¥åŸºäºåŒºå—é“¾çš„äº’è”ç½‘å’Œå¤§æ•°æ®å¢åŠ äº†æ—¶é—´ç»´åº¦, ä½¿å¾—é€šè¿‡åŒºå—æ•°æ®å’Œæ—¶é—´æˆ³æ¥é‡ç°å†å²æˆä¸ºå¯èƒ½ã€‚</p></li><li><p>å“ˆå¸Œå‡½æ•°ï¼šåŒºå—é“¾é€šå¸¸å¹¶ä¸ç›´æ¥ä¿å­˜åŸå§‹æ•°æ®æˆ–äº¤æ˜“è®°å½•, è€Œæ˜¯ä¿å­˜å…¶å“ˆå¸Œå‡½æ•°å€¼, å³å°†åŸå§‹æ•°æ®ç¼–ç ä¸ºç‰¹å®šé•¿åº¦çš„ç”±æ•°å­—å’Œå­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²åè®°å…¥åŒºå—é“¾. å“ˆå¸Œå‡½æ•° (ä¹Ÿç§°æ•£åˆ—å‡½æ•°) å…·æœ‰è¯¸å¤šä¼˜è‰¯ç‰¹ç‚¹, å› è€Œç‰¹åˆ«é€‚åˆç”¨äºå­˜å‚¨åŒºå—é“¾æ•°æ®. ä¾‹å¦‚, é€šè¿‡å“ˆå¸Œè¾“å‡ºå‡ ä¹ä¸èƒ½åæ¨è¾“å…¥å€¼ (å•å‘æ€§), ä¸åŒé•¿åº¦è¾“å…¥çš„å“ˆå¸Œè¿‡ç¨‹æ¶ˆè€—å¤§çº¦ç›¸åŒçš„æ—¶é—´ (å®šæ—¶æ€§) ä¸”äº§ç”Ÿå›ºå®šé•¿åº¦çš„è¾“å‡º (å®šé•¿æ€§), å³ä½¿è¾“å…¥ä»…ç›¸å·®ä¸€ä¸ªå­—èŠ‚ä¹Ÿä¼šäº§ç”Ÿæ˜¾è‘—ä¸åŒçš„è¾“å‡ºå€¼ (éšæœºæ€§) ç­‰. æ¯”ç‰¹å¸åŒºå—é“¾é€šå¸¸é‡‡ç”¨åŒ SHA256 å“ˆå¸Œå‡½æ•°, å³å°†ä»»æ„é•¿åº¦çš„åŸå§‹æ•°æ®ç»è¿‡ä¸¤æ¬¡ SHA256 å“ˆå¸Œè¿ç®—åè½¬æ¢ä¸ºé•¿åº¦ä¸º 256 ä½ (32 å­—èŠ‚) çš„äºŒè¿›åˆ¶æ•°å­—æ¥ç»Ÿä¸€å­˜å‚¨å’Œè¯†åˆ«. é™¤ä¸Šè¿°ç‰¹ç‚¹å¤–, SHA256 ç®—æ³•è¿˜å…·æœ‰å·¨å¤§çš„æ•£åˆ—ç©ºé—´ (2256) å’ŒæŠ—ç¢°æ’ (é¿å…ä¸åŒè¾“å…¥å€¼äº§ç”Ÿç›¸åŒå“ˆå¸Œå€¼) ç­‰ç‰¹æ€§, å¯æ»¡è¶³æ¯”ç‰¹å¸çš„ä»»ä½•ç›¸å…³æ ‡è®°éœ€è¦è€Œä¸ä¼šå‡ºç°å†²çªã€‚</p></li><li><p>Merkleæ ‘ï¼šMerkle æ ‘æ˜¯åŒºå—é“¾çš„é‡è¦æ•°æ®ç»“æ„, å…¶ä½œç”¨æ˜¯å¿«é€Ÿå½’çº³å’Œæ ¡éªŒåŒºå—æ•°æ®çš„å­˜åœ¨æ€§å’Œå®Œæ•´æ€§. Merkle æ ‘é€šå¸¸åŒ…å«åŒºå—ä½“çš„åº•å±‚ (äº¤æ˜“) æ•°æ®åº“, åŒºå—å¤´çš„æ ¹å“ˆå¸Œå€¼ (å³Merkle æ ¹) ä»¥åŠæ‰€æœ‰æ²¿åº•å±‚åŒºå—æ•°æ®åˆ°æ ¹å“ˆå¸Œçš„åˆ†æ”¯. Merkle æ ‘è¿ç®—è¿‡ç¨‹ä¸€èˆ¬æ˜¯å°†åŒºå—ä½“çš„æ•°æ®è¿›è¡Œåˆ†ç»„å“ˆå¸Œ, å¹¶å°†ç”Ÿæˆçš„æ–°å“ˆå¸Œå€¼æ’å…¥åˆ° Merkle æ ‘ä¸­, å¦‚æ­¤é€’å½’ç›´åˆ°åªå‰©æœ€åä¸€ä¸ªæ ¹å“ˆå¸Œå€¼å¹¶è®°ä¸ºåŒºå—å¤´çš„ Merkle æ ¹. æœ€å¸¸è§çš„ Merkle æ ‘æ˜¯æ¯”ç‰¹å¸é‡‡ç”¨çš„äºŒå‰ Merkle æ ‘, å…¶æ¯ä¸ªå“ˆå¸ŒèŠ‚ç‚¹æ€»æ˜¯åŒ…å«ä¸¤ä¸ªç›¸é‚»çš„æ•°æ®å—æˆ–å…¶å“ˆå¸Œå€¼, å…¶ä»–å˜ç§åˆ™åŒ…æ‹¬ä»¥å¤ªåŠçš„ Merkle patricia tree ç­‰. Merkle æ ‘æœ‰è¯¸å¤šä¼˜ç‚¹: é¦–å…ˆæ˜¯æå¤§åœ°æé«˜äº†åŒºå—é“¾çš„è¿è¡Œæ•ˆç‡å’Œå¯æ‰©å±•æ€§, ä½¿å¾—åŒºå—å¤´åªéœ€åŒ…å«æ ¹å“ˆå¸Œå€¼è€Œä¸å¿…å°è£…æ‰€æœ‰åº•å±‚æ•°æ®, è¿™ä½¿å¾—å“ˆå¸Œè¿ç®—å¯ä»¥é«˜æ•ˆåœ°è¿è¡Œåœ¨æ™ºèƒ½æ‰‹æœºç”šè‡³ç‰©è”ç½‘è®¾å¤‡ä¸Š; å…¶æ¬¡æ˜¯ Merkle æ ‘å¯æ”¯æŒ â€œç®€åŒ–æ”¯ä»˜éªŒè¯â€ åè®®, å³åœ¨ä¸è¿è¡Œå®Œæ•´åŒºå—é“¾ç½‘ç»œèŠ‚ç‚¹çš„æƒ…å†µä¸‹, ä¹Ÿèƒ½å¤Ÿå¯¹ (äº¤æ˜“) æ•°æ®è¿›è¡Œæ£€éªŒ.ä¾‹å¦‚, ä¸ºéªŒè¯å›¾ 3 ä¸­äº¤æ˜“ 6, ä¸€ä¸ªæ²¡æœ‰ä¸‹è½½å®Œæ•´åŒºå—é“¾æ•°æ®çš„å®¢æˆ·ç«¯å¯ä»¥é€šè¿‡å‘å…¶ä»–èŠ‚ç‚¹ç´¢è¦åŒ…æ‹¬ä»äº¤æ˜“ 6 å“ˆå¸Œå€¼æ²¿ Merkle æ ‘ä¸Šæº¯è‡³åŒºå—å¤´æ ¹å“ˆå¸Œå¤„çš„å“ˆå¸Œåºåˆ— (å³å“ˆå¸ŒèŠ‚ç‚¹ 6, 5, 56, 78, 5 678, 1 234) æ¥å¿«é€Ÿç¡®è®¤äº¤æ˜“çš„å­˜åœ¨æ€§å’Œæ­£ç¡®æ€§. ä¸€èˆ¬è¯´æ¥, åœ¨ Nä¸ªäº¤æ˜“ç»„æˆçš„åŒºå—ä½“ä¸­ç¡®è®¤ä»»ä¸€äº¤æ˜“çš„ç®—æ³•å¤æ‚åº¦ä»…ä¸º log2N. è¿™å°†æå¤§åœ°é™ä½åŒºå—é“¾è¿è¡Œæ‰€éœ€çš„å¸¦å®½å’ŒéªŒè¯æ—¶é—´, å¹¶ä½¿å¾—ä»…ä¿å­˜éƒ¨åˆ†ç›¸å…³åŒºå—é“¾æ•°æ®çš„è½»é‡çº§å®¢æˆ·ç«¯æˆä¸ºå¯èƒ½ã€‚</p></li><li><p>éå¯¹ç§°åŠ å¯†ï¼šéå¯¹ç§°åŠ å¯†æ˜¯ä¸ºæ»¡è¶³å®‰å…¨æ€§éœ€æ±‚å’Œæ‰€æœ‰æƒéªŒè¯éœ€æ±‚è€Œé›†æˆåˆ°åŒºå—é“¾ä¸­çš„åŠ å¯†æŠ€æœ¯,å¸¸è§ç®—æ³•åŒ…æ‹¬ RSAã€Elgamalã€Rabinã€D-Hã€ECC(å³æ¤­åœ†æ›²çº¿åŠ å¯†ç®—æ³•) ç­‰. éå¯¹ç§°åŠ å¯†é€šå¸¸åœ¨åŠ å¯†å’Œè§£å¯†è¿‡ç¨‹ä¸­ä½¿ç”¨ä¸¤ä¸ªéå¯¹ç§°çš„å¯†ç , åˆ†åˆ«ç§°ä¸ºå…¬é’¥å’Œç§é’¥. éå¯¹ç§°å¯†é’¥å¯¹å…·æœ‰ä¸¤ä¸ªç‰¹ç‚¹, é¦–å…ˆæ˜¯ç”¨å…¶ä¸­ä¸€ä¸ªå¯†é’¥ (å…¬é’¥æˆ–ç§é’¥) åŠ å¯†ä¿¡æ¯å, åªæœ‰å¦ä¸€ä¸ªå¯¹åº”çš„å¯†é’¥æ‰èƒ½è§£å¼€; å…¶æ¬¡æ˜¯å…¬é’¥å¯å‘å…¶ä»–äººå…¬å¼€ã€ç§é’¥åˆ™ä¿å¯†, å…¶ä»–äººæ— æ³•é€šè¿‡è¯¥å…¬é’¥æ¨ç®—å‡ºç›¸åº”çš„ç§é’¥. éå¯¹ç§°åŠ å¯†æŠ€æœ¯åœ¨åŒºå—é“¾çš„åº”ç”¨åœºæ™¯ä¸»è¦åŒ…æ‹¬ä¿¡æ¯åŠ å¯†ã€æ•°å­—ç­¾åå’Œç™»å½•è®¤è¯ç­‰, å…¶ä¸­ä¿¡æ¯åŠ å¯†åœºæ™¯ä¸»è¦æ˜¯ç”±ä¿¡æ¯å‘é€è€… (è®°ä¸º A) ä½¿ç”¨æ¥å—è€… (è®°ä¸º B) çš„å…¬é’¥å¯¹ä¿¡æ¯åŠ å¯†åå†å‘é€ç»™ B, B åˆ©ç”¨è‡ªå·±çš„ç§é’¥å¯¹ä¿¡æ¯è§£å¯†. æ¯”ç‰¹å¸äº¤æ˜“çš„åŠ å¯†å³å±äºæ­¤åœºæ™¯; æ•°å­—ç­¾ååœºæ™¯åˆ™æ˜¯ç”±å‘é€è€… A é‡‡ç”¨è‡ªå·±çš„ç§é’¥åŠ å¯†ä¿¡æ¯åå‘é€ç»™ B, B ä½¿ç”¨ A çš„å…¬é’¥å¯¹ä¿¡æ¯è§£å¯†ã€ä»è€Œå¯ç¡®ä¿ä¿¡æ¯æ˜¯ç”± A å‘é€çš„; ç™»å½•è®¤è¯åœºæ™¯åˆ™æ˜¯ç”±å®¢æˆ·ç«¯ä½¿ç”¨ç§é’¥åŠ å¯†ç™»å½•ä¿¡æ¯åå‘é€ç»™æœåŠ¡å™¨, åè€…æ¥æ”¶åé‡‡ç”¨è¯¥å®¢æˆ·ç«¯çš„å…¬é’¥è§£å¯†å¹¶è®¤è¯ç™»å½•ä¿¡æ¯ã€‚</p></li></ul><p>3.ç½‘ç»œå±‚ï¼š</p><ul><li><p>ç»„ç½‘æ–¹å¼ï¼šåŒºå—é“¾ç³»ç»Ÿçš„èŠ‚ç‚¹ä¸€èˆ¬å…·æœ‰åˆ†å¸ƒå¼ã€è‡ªæ²»æ€§ã€å¼€æ”¾å¯è‡ªç”±è¿›å‡ºç­‰ç‰¹æ€§, å› è€Œä¸€èˆ¬é‡‡ç”¨å¯¹ç­‰å¼ç½‘ç»œ (Peer-to-peer network, P2P ç½‘ç»œ) æ¥ç»„ç»‡æ•£å¸ƒå…¨çƒçš„å‚ä¸æ•°æ®éªŒè¯å’Œè®°è´¦çš„èŠ‚ç‚¹. P2P ç½‘ç»œä¸­çš„æ¯ä¸ªèŠ‚ç‚¹å‡åœ°ä½å¯¹ç­‰ä¸”ä»¥æ‰å¹³å¼æ‹“æ‰‘ç»“æ„ç›¸äº’è¿é€šå’Œäº¤äº’, ä¸å­˜åœ¨ä»»ä½•ä¸­å¿ƒåŒ–çš„ç‰¹æ®ŠèŠ‚ç‚¹å’Œå±‚çº§ç»“æ„, æ¯ä¸ªèŠ‚ç‚¹å‡ä¼šæ‰¿æ‹…ç½‘ç»œè·¯ç”±ã€éªŒè¯åŒºå—æ•°æ®ã€ä¼ æ’­åŒºå—æ•°æ®ã€å‘ç°æ–°èŠ‚ç‚¹ç­‰åŠŸèƒ½. æŒ‰ç…§èŠ‚ç‚¹å­˜å‚¨æ•°æ®é‡çš„ä¸åŒ, å¯ä»¥åˆ†ä¸ºå…¨èŠ‚ç‚¹å’Œè½»é‡çº§èŠ‚ç‚¹. å‰è€…ä¿å­˜æœ‰ä»åˆ›ä¸–åŒºå—åˆ°å½“å‰æœ€æ–°åŒºå—ä¸ºæ­¢çš„å®Œæ•´åŒºå—é“¾æ•°æ®, å¹¶é€šè¿‡å®æ—¶å‚ä¸åŒºå—æ•°æ®çš„æ ¡éªŒå’Œè®°è´¦æ¥åŠ¨æ€æ›´æ–°ä¸»é“¾. å…¨èŠ‚ç‚¹çš„ä¼˜åŠ¿åœ¨äºä¸ä¾èµ–ä»»ä½•å…¶ä»–èŠ‚ç‚¹è€Œèƒ½å¤Ÿç‹¬ç«‹åœ°å®ç°ä»»æ„åŒºå—æ•°æ®çš„æ ¡éªŒã€æŸ¥è¯¢å’Œæ›´æ–°, åŠ£åŠ¿åˆ™æ˜¯ç»´æŠ¤å…¨èŠ‚ç‚¹çš„ç©ºé—´æˆæœ¬è¾ƒé«˜ã€‚è½»é‡çº§èŠ‚ç‚¹åˆ™ä»…ä¿å­˜ä¸€éƒ¨åˆ†åŒºå—é“¾æ•°æ®ï¼Œå¹¶é€šè¿‡ç®€æ˜“æ”¯ä»˜éªŒè¯æ–¹å¼å‘å…¶ç›¸é‚»èŠ‚ç‚¹è¯·æ±‚æ‰€éœ€çš„æ•°æ®æ¥å®Œæˆæ•°æ®æ ¡éªŒã€‚</p></li><li><p>æ•°æ®ä¼ æ’­åè®®ï¼šä»»ä¸€åŒºå—æ•°æ®ç”Ÿæˆå, å°†ç”±ç”Ÿæˆè¯¥æ•°æ®çš„èŠ‚ç‚¹å¹¿æ’­åˆ°å…¨ç½‘å…¶ä»–æ‰€æœ‰çš„èŠ‚ç‚¹æ¥åŠ ä»¥éªŒè¯. ç°æœ‰çš„åŒºå—é“¾ç³»ç»Ÿä¸€èˆ¬æ ¹æ®å®é™…åº”ç”¨éœ€æ±‚è®¾è®¡æ¯”ç‰¹å¸ä¼ æ’­åè®®çš„å˜ç§, ä¾‹å¦‚ä»¥å¤ªåŠåŒºå—é“¾é›†æˆäº†æ‰€è°“çš„ â€œå¹½çµåè®®â€ ä»¥è§£å†³å› åŒºå—æ•°æ®ç¡®è®¤é€Ÿåº¦å¿«è€Œå¯¼è‡´çš„é«˜åŒºå—ä½œåºŸç‡å’Œéšä¹‹è€Œæ¥çš„å®‰å…¨æ€§é£é™©. æ ¹æ®ä¸­æœ¬èªçš„è®¾è®¡, æ¯”ç‰¹å¸ç³»ç»Ÿçš„äº¤æ˜“æ•°æ®ä¼ æ’­åè®®åŒ…æ‹¬å¦‚ä¸‹æ­¥éª¤è€Œå¯¼è‡´çš„é«˜åŒºå—ä½œåºŸç‡å’Œéšä¹‹è€Œæ¥çš„å®‰å…¨æ€§é£é™©. æ ¹æ®ä¸­æœ¬èªçš„è®¾è®¡, æ¯”ç‰¹å¸ç³»ç»Ÿçš„äº¤æ˜“æ•°æ®ä¼ æ’­åè®®åŒ…æ‹¬å¦‚ä¸‹æ­¥éª¤: </p><ul><li>1) æ¯”ç‰¹å¸äº¤æ˜“èŠ‚ç‚¹å°†æ–°ç”Ÿæˆçš„äº¤æ˜“æ•°æ®å‘å…¨ç½‘æ‰€æœ‰èŠ‚ç‚¹è¿›è¡Œå¹¿æ’­;</li><li>2) æ¯ä¸ªèŠ‚ç‚¹éƒ½å°†æ”¶é›†åˆ°çš„äº¤æ˜“æ•°æ®å­˜å‚¨åˆ°ä¸€ä¸ªåŒºå—ä¸­;</li><li>3) æ¯ä¸ªèŠ‚ç‚¹åŸºäºè‡ªèº«ç®—åŠ›åœ¨åŒºå—ä¸­æ‰¾åˆ°ä¸€ä¸ªå…·æœ‰è¶³å¤Ÿéš¾åº¦çš„å·¥ä½œé‡è¯æ˜;</li><li>4) å½“èŠ‚ç‚¹æ‰¾åˆ°åŒºå—çš„å·¥ä½œé‡è¯æ˜å, å°±å‘å…¨ç½‘æ‰€æœ‰èŠ‚ç‚¹å¹¿æ’­æ­¤åŒºå—;</li><li>5) ä»…å½“åŒ…å«åœ¨åŒºå—ä¸­çš„æ‰€æœ‰äº¤æ˜“éƒ½æ˜¯æœ‰æ•ˆçš„ä¸”ä¹‹å‰æœªå­˜åœ¨è¿‡çš„, å…¶ä»–èŠ‚ç‚¹æ‰è®¤åŒè¯¥åŒºå—çš„æœ‰æ•ˆæ€§;</li><li>6) å…¶ä»–èŠ‚ç‚¹æ¥å—è¯¥æ•°æ®åŒºå—, å¹¶åœ¨è¯¥åŒºå—çš„æœ«å°¾åˆ¶é€ æ–°çš„åŒºå—ä»¥å»¶é•¿è¯¥é“¾æ¡, è€Œå°†è¢«æ¥å—åŒºå—çš„éšæœºå“ˆå¸Œå€¼è§†ä¸ºå…ˆäºæ–°åŒºå—çš„éšæœºå“ˆå¸Œå€¼ã€‚</li></ul></li><li><p>æ•°æ®éªŒè¯æœºåˆ¶ï¼šP2P ç½‘ç»œä¸­çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½æ—¶åˆ»ç›‘å¬æ¯”ç‰¹å¸ç½‘ç»œä¸­å¹¿æ’­çš„æ•°æ®ä¸æ–°åŒºå—. èŠ‚ç‚¹æ¥æ”¶åˆ°é‚»è¿‘èŠ‚ç‚¹å‘æ¥çš„æ•°æ®å, å°†é¦–å…ˆéªŒè¯è¯¥æ•°æ®çš„æœ‰æ•ˆæ€§. å¦‚æœæ•°æ®æœ‰æ•ˆ, åˆ™æŒ‰ç…§æ¥æ”¶é¡ºåºä¸ºæ–°æ•°æ®å»ºç«‹å­˜å‚¨æ± ä»¥æš‚å­˜å°šæœªè®°å…¥åŒºå—çš„æœ‰æ•ˆæ•°æ®, åŒæ—¶ç»§ç»­å‘é‚»è¿‘èŠ‚ç‚¹è½¬å‘; å¦‚æœæ•°æ®æ— æ•ˆ, åˆ™ç«‹å³åºŸå¼ƒè¯¥æ•°æ®, ä»è€Œä¿è¯æ— æ•ˆæ•°æ®ä¸ä¼šåœ¨åŒºå—é“¾ç½‘ç»œç»§ç»­ä¼ æ’­. ä»¥æ¯”ç‰¹å¸ä¸ºä¾‹, æ¯”ç‰¹å¸çš„çŸ¿å·¥èŠ‚ç‚¹ä¼šæ”¶é›†å’ŒéªŒè¯P2P ç½‘ç»œä¸­å¹¿æ’­çš„å°šæœªç¡®è®¤çš„äº¤æ˜“æ•°æ®, å¹¶å¯¹ç…§é¢„å®šä¹‰çš„æ ‡å‡†æ¸…å•, ä»æ•°æ®ç»“æ„ã€è¯­æ³•è§„èŒƒæ€§ã€è¾“å…¥è¾“å‡ºå’Œæ•°å­—ç­¾åç­‰å„æ–¹é¢æ ¡éªŒäº¤æ˜“æ•°æ®çš„æœ‰æ•ˆæ€§, å¹¶å°†æœ‰æ•ˆäº¤æ˜“æ•°æ®æ•´åˆåˆ°å½“å‰åŒºå—ä¸­; åŒç†, å½“æŸçŸ¿å·¥â€œæŒ–â€ åˆ°æ–°åŒºå—å, å…¶ä»–çŸ¿å·¥èŠ‚ç‚¹ä¹Ÿä¼šæŒ‰ç…§é¢„å®šä¹‰æ ‡å‡†æ¥æ ¡éªŒè¯¥åŒºå—æ˜¯å¦åŒ…å«è¶³å¤Ÿå·¥ä½œé‡è¯æ˜, æ—¶é—´æˆ³æ˜¯å¦æœ‰æ•ˆç­‰; å¦‚ç¡®è®¤æœ‰æ•ˆ, å…¶ä»–çŸ¿å·¥èŠ‚ç‚¹ä¼šå°†è¯¥åŒºå—é“¾æ¥åˆ°ä¸»åŒºå—é“¾ä¸Š, å¹¶å¼€å§‹ç«äº‰ä¸‹ä¸€ä¸ªæ–°åŒºå—.</p></li></ul><p>4.å…±è¯†å±‚</p><ul><li>åŒºå—é“¾æŠ€æœ¯çš„æ ¸å¿ƒä¼˜åŠ¿ä¹‹ä¸€å°±æ˜¯èƒ½å¤Ÿåœ¨å†³ç­–æƒé«˜åº¦åˆ†æ•£çš„å»ä¸­å¿ƒåŒ–ç³»ç»Ÿä¸­ä½¿å¾—å„èŠ‚ç‚¹é«˜æ•ˆåœ°é’ˆå¯¹åŒºå—æ•°æ®çš„æœ‰æ•ˆæ€§è¾¾æˆå…±è¯†ã€‚</li></ul><p><strong>ä¸‹é¢å°†ä»‹ç»ä¸€ä¸‹PoWã€PoSå’ŒDPOSä¸‰ç§å…±è¯†æœºåˆ¶</strong></p><ul><li><p><strong>PoWå…±è¯†ï¼š</strong>å…¶æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡å¼•å…¥åˆ†å¸ƒå¼èŠ‚ç‚¹çš„ç®—åŠ›ç«äº‰æ¥ä¿è¯æ•°æ®ä¸€è‡´æ€§å’Œå…±è¯†çš„å®‰å…¨æ€§. æ¯”ç‰¹å¸ç³»ç»Ÿä¸­, å„èŠ‚ç‚¹ (å³çŸ¿å·¥) åŸºäºå„è‡ªçš„è®¡ç®—æœºç®—åŠ›ç›¸äº’ç«äº‰æ¥å…±åŒè§£å†³ä¸€ä¸ªæ±‚è§£å¤æ‚ä½†éªŒè¯å®¹æ˜“çš„ SHA256 æ•°å­¦éš¾é¢˜ (å³æŒ–çŸ¿), æœ€å¿«è§£å†³è¯¥éš¾é¢˜çš„èŠ‚ç‚¹å°†è·å¾—åŒºå—è®°è´¦æƒå’Œç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆçš„æ¯”ç‰¹å¸å¥–åŠ±. è¯¥æ•°å­¦éš¾é¢˜å¯è¡¨è¿°ä¸º: æ ¹æ®å½“å‰éš¾åº¦å€¼, é€šè¿‡æœç´¢æ±‚è§£ä¸€ä¸ªåˆé€‚çš„éšæœºæ•° (Nonce) ä½¿å¾—åŒºå—å„å…ƒæ•°æ®çš„åŒ SHA256 å“ˆå¸Œå€¼å°äºæˆ–ç­‰äºç›®æ ‡å“ˆ å¸Œå€¼. æ¯”ç‰¹å¸ç³»ç»Ÿé€šè¿‡çµæ´»è°ƒæ•´éšæœºæ•°æœç´¢çš„éš¾åº¦å€¼æ¥æ§åˆ¶åŒºå—çš„å¹³å‡ç”Ÿæˆæ—¶é—´ä¸º10åˆ†é’Ÿå·¦å³. ä¸€èˆ¬è¯´æ¥, PoWå…±è¯†çš„éšæœºæ•°æœç´¢è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><ul><li>æ­¥éª¤ 1. æœé›†å½“å‰æ—¶é—´æ®µçš„å…¨ç½‘æœªç¡®è®¤äº¤æ˜“, å¹¶å¢åŠ ä¸€ä¸ªç”¨äºå‘è¡Œæ–°æ¯”ç‰¹å¸å¥–åŠ±çš„ Coinbase äº¤æ˜“,å½¢æˆå½“å‰åŒºå—ä½“çš„äº¤æ˜“é›†åˆ; </li><li>æ­¥éª¤ 2. è®¡ç®—åŒºå—ä½“äº¤æ˜“é›†åˆçš„ Merkle æ ¹è®° å…¥åŒºå—å¤´, å¹¶å¡«å†™åŒºå—å¤´çš„å…¶ä»–å…ƒæ•°æ®, å…¶ä¸­éšæœºæ•° Nonce ç½®é›¶; </li><li>æ­¥éª¤ 3. éšæœºæ•° Nonce åŠ  1; è®¡ç®—å½“å‰åŒºå—å¤´çš„åŒ SHA256 å“ˆå¸Œå€¼, å¦‚æœå°äºæˆ–ç­‰äºç›®æ ‡å“ˆå¸Œå€¼, åˆ™æˆåŠŸæœç´¢åˆ°åˆé€‚çš„éšæœºæ•°å¹¶è·å¾—è¯¥åŒºå—çš„è®°è´¦æƒ; å¦åˆ™ç»§ç»­æ­¥éª¤3ç›´åˆ°ä»»ä¸€èŠ‚ç‚¹æœç´¢åˆ°åˆé€‚çš„éšæœºæ•°ä¸ºæ­¢; </li><li>æ­¥éª¤ 4. å¦‚æœä¸€å®šæ—¶é—´å†…æœªæˆåŠŸ, åˆ™æ›´æ–°æ—¶é—´æˆ³å’Œæœªç¡®è®¤äº¤æ˜“é›†åˆã€é‡æ–°è®¡ç®— Merkle æ ¹åç»§ç»­æœç´¢.</li></ul></li><li><p>ç¬¦åˆè¦æ±‚çš„åŒºå—å¤´å“ˆå¸Œå€¼é€šå¸¸ç”±å¤šä¸ªå‰å¯¼é›¶æ„æˆ, ç›®æ ‡å“ˆå¸Œå€¼è¶Šå°, åŒºå—å¤´å“ˆå¸Œå€¼çš„å‰å¯¼é›¶è¶Šå¤š, æˆåŠŸæ‰¾åˆ°åˆé€‚çš„éšæœºæ•°å¹¶â€œæŒ–â€å‡ºæ–°åŒºå—çš„éš¾åº¦è¶Šå¤§. æ®åŒºå—é“¾å®æ—¶ç›‘æµ‹ç½‘ç«™Blockchain.infoæ˜¾ç¤º, æˆªæ­¢åˆ°2016å¹´2æœˆ, ç¬¦åˆè¦æ±‚çš„åŒºå—å¤´å“ˆå¸Œå€¼ä¸€èˆ¬æœ‰17ä¸ªå‰å¯¼é›¶, ä¾‹å¦‚ç¬¬398346å·åŒºå—å“ˆå¸Œå€¼ä¸ºâ€œ0000000000000000077f754f22f21629a7975cfÂ·Â·Â·â€. æŒ‰ç…§æ¦‚ç‡è®¡ç®—, æ¯ 16 æ¬¡éšæœºæ•°æœç´¢å°†ä¼šæœ‰æ‰¾åˆ°ä¸€ ä¸ªå«æœ‰ä¸€ä¸ªå‰å¯¼é›¶çš„åŒºå—å“ˆå¸Œå€¼, å› è€Œæ¯”ç‰¹å¸ç›®å‰ 17 ä½å‰å¯¼é›¶å“ˆå¸Œå€¼è¦æ±‚ 1617 æ¬¡éšæœºæ•°æœç´¢æ‰èƒ½æ‰¾ åˆ°ä¸€ä¸ªåˆé€‚çš„éšæœºæ•°å¹¶ç”Ÿæˆä¸€ä¸ªæ–°çš„åŒºå—. ç”±æ­¤å¯ è§, æ¯”ç‰¹å¸åŒºå—é“¾ç³»ç»Ÿçš„å®‰å…¨æ€§å’Œä¸å¯ç¯¡æ”¹æ€§æ˜¯ç”± PoW å…±è¯†æœºåˆ¶çš„å¼ºå¤§ç®—åŠ›æ‰€ä¿è¯çš„, ä»»ä½•å¯¹äºåŒºå—æ•°æ®çš„æ”»å‡»æˆ–ç¯¡æ”¹éƒ½å¿…é¡»é‡æ–°è®¡ç®—è¯¥åŒºå—ä»¥åŠå…¶åæ‰€æœ‰åŒºå—çš„SHA256éš¾é¢˜, å¹¶ä¸”è®¡ç®—é€Ÿåº¦å¿…é¡»ä½¿å¾—ä¼ªé€ é“¾é•¿åº¦è¶…è¿‡ä¸»é“¾, è¿™ç§æ”»å‡»éš¾åº¦å¯¼è‡´çš„æˆæœ¬å°†è¿œè¶…å…¶æ”¶ç›Šã€‚</p></li><li><p><strong>PoSå…±è¯†æœºåˆ¶:</strong> PoS å…±è¯†æ˜¯ä¸ºè§£å†³PoWå…±è¯†æœºåˆ¶çš„èµ„æºæµªè´¹å’Œå®‰å…¨æ€§ç¼ºé™·è€Œæå‡ºçš„æ›¿ä»£æ–¹æ¡ˆ. PoS å…±è¯†æœ¬è´¨ä¸Šæ˜¯é‡‡ç”¨æƒç›Šè¯æ˜æ¥ä»£æ›¿PoWä¸­çš„åŸºäºå“ˆå¸Œç®—åŠ›çš„å·¥ä½œé‡è¯æ˜, æ˜¯ç”±ç³»ç»Ÿä¸­å…·æœ‰æœ€é«˜æƒç›Šè€Œéæœ€é«˜ç®—åŠ›çš„èŠ‚ç‚¹è·å¾—åŒºå—è®°è´¦æƒ. æƒç›Šä½“ç°ä¸ºèŠ‚ç‚¹å¯¹ç‰¹å®šæ•°é‡è´§å¸çš„æ‰€æœ‰æƒ, ç§°ä¸ºå¸é¾„æˆ–å¸å¤©æ•° (Coin days). å¸é¾„æ˜¯ç‰¹å®šæ•°é‡çš„å¸ä¸å…¶æœ€åä¸€æ¬¡äº¤æ˜“çš„æ—¶é—´é•¿åº¦çš„ä¹˜ç§¯, æ¯æ¬¡äº¤æ˜“éƒ½å°†ä¼šæ¶ˆè€—æ‰ç‰¹å®šæ•°é‡çš„å¸é¾„. ä¾‹å¦‚, æŸäººåœ¨ä¸€ç¬”äº¤æ˜“ä¸­æ”¶åˆ°10ä¸ªå¸åå¹¶æŒæœ‰10å¤©, åˆ™è·å¾—100å¸é¾„; è€Œåå…¶èŠ±æ‰5ä¸ªå¸å, åˆ™æ¶ˆè€—æ‰ 50 å¸é¾„. æ˜¾ç„¶, é‡‡ç”¨PoSå…±è¯†æœºåˆ¶çš„ç³»ç»Ÿåœ¨ç‰¹å®šæ—¶é—´ç‚¹ä¸Šçš„å¸é¾„æ€»æ•°æ˜¯æœ‰é™çš„, é•¿æœŸæŒå¸è€…æ›´å€¾å‘äºæ‹¥æœ‰æ›´å¤šå¸é¾„, å› æ­¤å¸é¾„å¯è§†ä¸ºå…¶åœ¨PoSç³»ç»Ÿä¸­çš„æƒç›Š. æ­¤å¤–, PoWå…±è¯†è¿‡ç¨‹ä¸­å„èŠ‚ç‚¹æŒ–çŸ¿éš¾åº¦ç›¸åŒ, è€Œ PoS å…±è¯†è¿‡ç¨‹ä¸­çš„éš¾åº¦ä¸äº¤æ˜“è¾“å…¥çš„å¸é¾„æˆåæ¯”, æ¶ˆè€—å¸é¾„è¶Šå¤šåˆ™æŒ–çŸ¿éš¾åº¦è¶Šä½. èŠ‚ç‚¹åˆ¤æ–­ä¸»é“¾çš„æ ‡å‡†ä¹Ÿç”± PoW å…±è¯†çš„æœ€é«˜ç´¯è®¡éš¾åº¦è½¬å˜ä¸ºæœ€é«˜æ¶ˆè€—å¸é¾„, æ¯ä¸ªåŒºå—çš„äº¤æ˜“éƒ½ä¼šå°†å…¶æ¶ˆè€—çš„å¸é¾„æäº¤ç»™è¯¥åŒºå—, ç´¯è®¡æ¶ˆè€—å¸é¾„æœ€é«˜çš„åŒºå—å°†è¢«é“¾æ¥åˆ°ä¸»é“¾. ç”±æ­¤å¯è§, PoS å…±è¯†è¿‡ç¨‹ä»…ä¾é å†…éƒ¨å¸é¾„å’Œæƒç›Šè€Œä¸éœ€è¦æ¶ˆè€—å¤–éƒ¨ç®—åŠ›å’Œèµ„æº, ä»æ ¹æœ¬ä¸Šè§£å†³äº†PoWå…±è¯†ç®—åŠ›æµªè´¹çš„é—®é¢˜, å¹¶ä¸”èƒ½å¤Ÿåœ¨ä¸€å®šç¨‹åº¦ä¸Šç¼©çŸ­è¾¾æˆå…±è¯†çš„æ—¶é—´, å› è€Œæ¯”ç‰¹å¸ä¹‹åçš„è®¸å¤šç«äº‰å¸å‡é‡‡ç”¨PoSå…±è¯†æœºåˆ¶ã€‚</p></li><li><p><strong>DPoS å…±è¯†æœºåˆ¶:</strong>  DPoS å…±è¯†æœºåˆ¶çš„åŸºæœ¬æ€è·¯ç±»ä¼¼äºâ€œè‘£äº‹ä¼šå†³ç­–â€, å³ç³»ç»Ÿä¸­æ¯ä¸ªè‚¡ä¸œèŠ‚ç‚¹å¯ä»¥å°†å…¶æŒæœ‰çš„è‚¡ä»½æƒç›Šä½œä¸ºé€‰ç¥¨æˆäºˆä¸€ä¸ªä»£è¡¨, è·å¾—ç¥¨æ•°æœ€å¤šä¸”æ„¿æ„æˆä¸ºä»£è¡¨çš„å‰101ä¸ªèŠ‚ç‚¹å°†è¿›å…¥â€œè‘£äº‹ä¼šâ€, æŒ‰ç…§æ—¢å®šçš„æ—¶é—´è¡¨è½®æµå¯¹äº¤æ˜“è¿›è¡Œæ‰“åŒ…ç»“ç®—å¹¶ä¸”ç­¾ç½² (å³ç”Ÿäº§) ä¸€ä¸ªæ–°åŒºå—. æ¯ä¸ªåŒºå—è¢«ç­¾ç½²ä¹‹å‰, å¿…é¡»å…ˆéªŒè¯å‰ä¸€ä¸ªåŒºå—å·²ç»è¢«å—ä¿¡ä»»çš„ä»£è¡¨èŠ‚ç‚¹æ‰€ç­¾ç½². â€œè‘£äº‹ä¼šâ€ çš„æˆæƒä»£è¡¨èŠ‚ç‚¹å¯ä»¥ä»æ¯ç¬”äº¤æ˜“çš„æ‰‹ç»­è´¹ä¸­è·å¾—æ”¶å…¥, åŒæ—¶è¦æˆä¸ºæˆæƒä»£è¡¨èŠ‚ç‚¹å¿…é¡»ç¼´çº³ä¸€å®šé‡çš„ä¿è¯é‡‘, å…¶é‡‘é¢ç›¸å½“äºç”Ÿäº§ä¸€ä¸ªåŒºå—æ”¶å…¥çš„100å€. æˆæƒä»£è¡¨èŠ‚ç‚¹å¿…é¡»å¯¹å…¶ä»–è‚¡ä¸œèŠ‚ç‚¹è´Ÿè´£, å¦‚æœå…¶é”™è¿‡ç­¾ç½²ç›¸å¯¹åº”çš„åŒºå—, åˆ™è‚¡ä¸œå°†ä¼šæ”¶å›é€‰ç¥¨ä»è€Œå°†è¯¥èŠ‚ç‚¹ â€œæŠ•å‡ºâ€ è‘£äº‹ä¼š. å› æ­¤, æˆæƒä»£è¡¨èŠ‚ç‚¹é€šå¸¸å¿…é¡»ä¿è¯ 99% ä»¥ä¸Šçš„åœ¨çº¿æ—¶é—´ä»¥å®ç°ç›ˆåˆ©ç›®æ ‡. æ˜¾ç„¶, ä¸ PoW å…±è¯†æœºåˆ¶å¿…é¡»ä¿¡ä»»æœ€é«˜ç®—åŠ›èŠ‚ç‚¹å’Œ PoS å…±è¯†æœºåˆ¶å¿…é¡»ä¿¡ä»»æœ€é«˜æƒç›ŠèŠ‚ç‚¹ä¸åŒçš„æ˜¯, DPoS å…±è¯†æœºåˆ¶ä¸­æ¯ä¸ªèŠ‚ç‚¹éƒ½èƒ½å¤Ÿè‡ªä¸»å†³å®šå…¶ä¿¡ä»»çš„æˆæƒèŠ‚ç‚¹ä¸”ç”±è¿™äº›èŠ‚ç‚¹è½®æµè®°è´¦ç”Ÿæˆæ–°åŒºå—, å› è€Œå¤§å¹…å‡å°‘äº†å‚ä¸éªŒè¯å’Œè®°è´¦çš„èŠ‚ç‚¹æ•°é‡, å¯ä»¥å®ç°å¿«é€Ÿå…±è¯†éªŒè¯ã€‚</p></li></ul><p>5.æ¿€åŠ±å±‚ï¼š</p><ul><li>åŒºå—é“¾å…±è¯†è¿‡ç¨‹é€šè¿‡æ±‡èšå¤§è§„æ¨¡å…±è¯†èŠ‚ç‚¹çš„ç®—åŠ›èµ„æºæ¥å®ç°å…±äº«åŒºå—é“¾è´¦æœ¬çš„æ•°æ®éªŒè¯å’Œè®°è´¦å·¥ä½œ, å› è€Œå…¶æœ¬è´¨ä¸Šæ˜¯ä¸€ç§å…±è¯†èŠ‚ç‚¹é—´çš„ä»»åŠ¡ä¼—åŒ…è¿‡ç¨‹. å»ä¸­å¿ƒåŒ–ç³»ç»Ÿä¸­çš„å…±è¯†èŠ‚ç‚¹æœ¬èº«æ˜¯è‡ªåˆ©çš„, æœ€å¤§åŒ–è‡ªèº«æ”¶ç›Šæ˜¯å…¶å‚ä¸æ•°æ®éªŒè¯å’Œè®°è´¦çš„æ ¹æœ¬ç›®æ ‡. å› æ­¤, å¿…é¡»è®¾è®¡æ¿€åŠ±ç›¸å®¹çš„åˆç†ä¼—åŒ…æœºåˆ¶, ä½¿å¾—å…±è¯†èŠ‚ç‚¹æœ€å¤§åŒ–è‡ªèº«æ”¶ç›Šçš„ä¸ªä½“ç†æ€§è¡Œä¸ºä¸ä¿éšœå»ä¸­å¿ƒåŒ–åŒºå—é“¾ç³»ç»Ÿçš„å®‰å…¨å’Œæœ‰æ•ˆæ€§çš„æ•´ä½“ç›®æ ‡ç›¸å»åˆ. åŒºå—é“¾ç³»ç»Ÿé€šè¿‡è®¾è®¡é€‚åº¦çš„ç»æµæ¿€åŠ±æœºåˆ¶å¹¶ä¸å…±è¯†è¿‡ç¨‹ç›¸é›†æˆ, ä»è€Œæ±‡èšå¤§è§„æ¨¡çš„èŠ‚ç‚¹å‚ä¸å¹¶å½¢æˆäº†å¯¹åŒºå—é“¾å†å²çš„ç¨³å®šå…±è¯†. </li><li>ä»¥æ¯”ç‰¹å¸ä¸ºä¾‹, æ¯”ç‰¹å¸PoW å…±è¯†ä¸­çš„ç»æµæ¿€åŠ±ç”±æ–°å‘è¡Œæ¯”ç‰¹å¸å¥–åŠ±å’Œäº¤æ˜“æµé€šè¿‡ç¨‹ä¸­çš„æ‰‹ç»­è´¹ä¸¤éƒ¨åˆ†ç»„æˆ, å¥–åŠ±ç»™PoWå…±è¯†è¿‡ç¨‹ä¸­æˆåŠŸæœç´¢åˆ°è¯¥åŒºå—çš„éšæœºæ•°å¹¶è®°å½•è¯¥åŒºå—çš„èŠ‚ç‚¹. å› æ­¤, åªæœ‰å½“å„èŠ‚ç‚¹é€šè¿‡åˆä½œå…±åŒæ„å»ºå…±äº«å’Œå¯ä¿¡çš„åŒºå—é“¾å†å²è®°å½•ã€å¹¶ç»´æŠ¤æ¯”ç‰¹å¸ç³»ç»Ÿçš„æœ‰æ•ˆæ€§, å…¶è·å¾—çš„æ¯”ç‰¹å¸å¥–åŠ±å’Œäº¤æ˜“æ‰‹ç»­è´¹æ‰ä¼šæœ‰ä»·å€¼. æ¯”ç‰¹å¸å·²ç»å½¢æˆæˆç†Ÿçš„æŒ–çŸ¿ç”Ÿæ€åœˆ, å¤§é‡é…å¤‡ä¸“ä¸šçŸ¿æœºè®¾å¤‡çš„çŸ¿å·¥ç§¯æå‚ä¸åŸºäºæŒ–çŸ¿çš„PoWå…±è¯†è¿‡ç¨‹, å…¶æ ¹æœ¬ç›®çš„å°±æ˜¯é€šè¿‡è·å–æ¯”ç‰¹å¸å¥–åŠ±å¹¶è½¬æ¢ä¸ºç›¸åº”æ³•å¸æ¥å®ç°ç›ˆåˆ©. </li><li><strong>å‘è¡Œæœºåˆ¶:</strong> æ¯”ç‰¹å¸ç³»ç»Ÿä¸­æ¯ä¸ªåŒºå—å‘è¡Œæ¯”ç‰¹å¸çš„æ•°é‡æ˜¯éšç€æ—¶é—´é˜¶æ¢¯æ€§é€’å‡çš„. åˆ›ä¸–åŒºå—èµ·çš„æ¯ä¸ªåŒºå—å°†å‘è¡Œ 50 ä¸ªæ¯”ç‰¹å¸å¥–åŠ±ç»™è¯¥åŒºå—çš„è®°è´¦è€…, æ­¤åæ¯éš”çº¦4å¹´ (21 ä¸‡ä¸ªåŒºå—) æ¯åŒºå—å‘è¡Œæ¯”ç‰¹å¸çš„æ•°é‡é™ä½ä¸€åŠ, ä¾æ­¤ç±»æ¨, ä¸€ç›´åˆ°æ¯”ç‰¹å¸çš„æ•°é‡ç¨³å®šåœ¨ä¸Šé™ 2100 ä¸‡ä¸ºæ­¢ã€‚æ¯”ç‰¹å¸äº¤æ˜“è¿‡ç¨‹ä¸­ä¼šäº§ç”Ÿæ‰‹ç»­è´¹, ç›®å‰é»˜è®¤æ‰‹ç»­è´¹æ˜¯ä¸‡åˆ†ä¹‹ä¸€ä¸ªæ¯”ç‰¹å¸, è¿™éƒ¨åˆ†è´¹ç”¨ä¹Ÿä¼šè®°å…¥åŒºå—å¹¶å¥–åŠ±ç»™è®°è´¦è€…. è¿™ä¸¤éƒ¨åˆ†è´¹ç”¨å°†ä¼šå°è£…åœ¨æ¯ä¸ªåŒºå—çš„ç¬¬ä¸€ä¸ªäº¤æ˜“ (ç§°ä¸º Coinbase äº¤æ˜“) ä¸­. è™½ç„¶ç°åœ¨æ¯ä¸ªåŒºå—çš„æ€»æ‰‹ç»­è´¹ç›¸å¯¹äºæ–°å‘è¡Œæ¯”ç‰¹å¸æ¥è¯´è§„æ¨¡å¾ˆå° (é€šå¸¸ä¸ä¼šè¶…è¿‡ 1 ä¸ªæ¯”ç‰¹å¸), ä½†éšç€æœªæ¥æ¯”ç‰¹å¸å‘è¡Œæ•°é‡çš„é€æ­¥å‡å°‘ç”šè‡³åœæ­¢å‘è¡Œ, æ‰‹ç»­è´¹å°†é€æ¸æˆä¸ºé©±åŠ¨èŠ‚ç‚¹å…±è¯†å’Œè®°è´¦çš„ä¸»è¦åŠ¨åŠ›. åŒæ—¶, æ‰‹ç»­è´¹è¿˜å¯ä»¥é˜²æ­¢å¤§é‡å¾®é¢äº¤æ˜“å¯¹æ¯”ç‰¹å¸ç½‘ç»œå‘èµ·çš„ â€œç²‰å°˜â€ æ”»å‡», èµ·åˆ°ä¿éšœå®‰ å…¨çš„ä½œç”¨. </li><li><strong>åˆ†é…æœºåˆ¶:</strong> æ¯”ç‰¹å¸ç³»ç»Ÿä¸­, å¤§é‡çš„å°ç®—åŠ›èŠ‚ç‚¹é€šå¸¸ä¼šé€‰æ‹©åŠ å…¥çŸ¿æ± , é€šè¿‡ç›¸äº’åˆä½œæ±‡é›†ç®—åŠ›æ¥æé«˜ â€œæŒ–â€ åˆ°æ–°åŒºå—çš„æ¦‚ç‡, å¹¶å…±äº«è¯¥åŒºå—çš„æ¯”ç‰¹å¸å’Œæ‰‹ç»­è´¹å¥–åŠ±. æ®Bitcoinmining.comç»Ÿè®¡, ç›®å‰ å·²ç»å­˜åœ¨13ç§ä¸åŒçš„åˆ†é…æœºåˆ¶. ä¸»æµçŸ¿æ± é€šå¸¸é‡‡ç”¨PPLNS(Pay per last N shares)ã€PPS(Pay per share)å’ŒPROP(PROPortionately)ç­‰æœºåˆ¶. çŸ¿æ± å°†å„èŠ‚ç‚¹è´¡çŒ®çš„ç®—åŠ›æŒ‰æ¯”ä¾‹åˆ’åˆ†æˆä¸åŒçš„è‚¡ä»½ (Share), å…¶ä¸­ PPLNS æœºåˆ¶æ˜¯æŒ‡å‘ç°åŒºå—å, å„åˆ ä½œèŠ‚ç‚¹æ ¹æ®å…¶åœ¨æœ€å N ä¸ªè‚¡ä»½å†…è´¡çŒ®çš„å®é™…è‚¡ä»½ æ¯”ä¾‹æ¥åˆ†é…åŒºå—ä¸­çš„æ¯”ç‰¹å¸; PPS åˆ™ç›´æ¥æ ¹æ®è‚¡ä»½ æ¯”ä¾‹ä¸ºå„èŠ‚ç‚¹ä¼°ç®—å’Œæ”¯ä»˜ä¸€ä¸ªå›ºå®šçš„ç†è®ºæ”¶ç›Š, é‡‡ç”¨æ­¤æ–¹å¼çš„çŸ¿æ± å°†ä¼šé€‚åº¦æ”¶å–æ‰‹ç»­è´¹æ¥å¼¥è¡¥å…¶ä¸ºå„èŠ‚ç‚¹æ‰¿æ‹…çš„æ”¶ç›Šä¸ç¡®å®šæ€§é£é™©; PROP æœºåˆ¶åˆ™æ ¹æ®èŠ‚ç‚¹è´¡çŒ®çš„è‚¡ä»½æŒ‰æ¯”ä¾‹åœ°åˆ†é…æ¯”ç‰¹å¸. <em>çŸ¿æ± çš„å‡ºç°æ˜¯å¯¹æ¯”ç‰¹å¸å’ŒåŒºå—é“¾å»ä¸­å¿ƒåŒ–è¶‹åŠ¿çš„æ½œåœ¨å¨èƒ, å¦‚ä½•è®¾è®¡åˆç†çš„åˆ†é…æœºåˆ¶å¼•å¯¼å„èŠ‚ç‚¹åˆç†åœ°åˆä½œã€é¿å…å‡ºç°å› ç®—åŠ›è¿‡åº¦é›†ä¸­è€Œå¯¼è‡´çš„å®‰å…¨æ€§é—®é¢˜æ˜¯äºŸå¾…è§£å†³çš„ç ”ç©¶é—®é¢˜.</em> </li></ul><p>6.åˆçº¦å±‚ï¼š</p><ul><li>åˆçº¦å±‚å°è£…åŒºå—é“¾ç³»ç»Ÿçš„å„ç±»è„šæœ¬ä»£ç ã€ç®—æ³• ä»¥åŠç”±æ­¤ç”Ÿæˆçš„æ›´ä¸ºå¤æ‚çš„æ™ºèƒ½åˆçº¦. å¦‚æœè¯´æ•°æ®ã€ ç½‘ç»œå’Œå…±è¯†ä¸‰ä¸ªå±‚æ¬¡ä½œä¸ºåŒºå—é“¾åº•å±‚ â€œè™šæ‹Ÿæœºâ€ åˆ†åˆ«æ‰¿æ‹…æ•°æ®è¡¨ç¤ºã€æ•°æ®ä¼ æ’­å’Œæ•°æ®éªŒè¯åŠŸèƒ½çš„è¯, åˆçº¦å±‚åˆ™æ˜¯å»ºç«‹åœ¨åŒºå—é“¾è™šæ‹Ÿæœºä¹‹ä¸Šçš„å•†ä¸šé€»è¾‘å’Œç®—æ³•, æ˜¯å®ç°åŒºå—é“¾ç³»ç»Ÿçµæ´»ç¼–ç¨‹å’Œæ“ä½œæ•°æ®çš„åŸºç¡€. åŒ…æ‹¬æ¯”ç‰¹å¸åœ¨å†…çš„æ•°å­—åŠ å¯†è´§å¸å¤§å¤šé‡‡ç”¨éå›¾çµå®Œå¤‡çš„ç®€å•è„šæœ¬ä»£ç æ¥ç¼–ç¨‹æ§åˆ¶äº¤æ˜“è¿‡ç¨‹, è¿™ä¹Ÿæ˜¯æ™ºèƒ½åˆçº¦çš„é›å½¢; éšç€æŠ€æœ¯çš„å‘å±•, ç›®å‰å·²ç»å‡ºç°ä»¥å¤ªåŠç­‰å›¾çµå®Œå¤‡çš„å¯å®ç°æ›´ä¸ºå¤æ‚å’Œçµæ´»çš„æ™ºèƒ½åˆçº¦çš„è„šæœ¬è¯­è¨€, ä½¿å¾—åŒºå—é“¾èƒ½å¤Ÿæ”¯æŒå®è§‚é‡‘èå’Œç¤¾ä¼šç³»ç»Ÿçš„è¯¸å¤šåº”ç”¨. </li><li>æ¯”ç‰¹å¸é‡‡ç”¨ä¸€ç§ç®€å•çš„ã€åŸºäºå †æ ˆçš„ã€ä»å·¦å‘å³å¤„ç†çš„è„šæœ¬è¯­è¨€, è€Œä¸€ä¸ªè„šæœ¬æœ¬è´¨ä¸Šæ˜¯é™„ç€åœ¨æ¯”ç‰¹å¸äº¤æ˜“ä¸Šçš„ä¸€ç»„æŒ‡ä»¤çš„åˆ—è¡¨. æ¯”ç‰¹å¸äº¤æ˜“ä¾èµ–äºä¸¤ç±»è„šæœ¬æ¥åŠ ä»¥éªŒè¯, å³é”å®šè„šæœ¬å’Œè§£é”è„šæœ¬, äºŒè€…çš„ä¸åŒç»„åˆå¯åœ¨æ¯”ç‰¹å¸äº¤æ˜“ä¸­è¡ç”Ÿå‡ºæ— é™æ•°é‡çš„æ§åˆ¶æ¡ä»¶. å…¶ä¸­, é”å®šè„šæœ¬æ˜¯é™„ç€åœ¨äº¤æ˜“è¾“å‡ºå€¼ä¸Šçš„ â€œéšœç¢â€, è§„å®šä»¥åèŠ±è´¹è¿™ç¬”äº¤æ˜“è¾“å‡ºçš„æ¡ä»¶; è§£é”è„šæœ¬åˆ™æ˜¯æ»¡è¶³è¢«é”å®šè„šæœ¬åœ¨ä¸€ä¸ªè¾“å‡ºä¸Šè®¾å®šçš„èŠ±è´¹æ¡ä»¶çš„è„šæœ¬, åŒæ—¶å®ƒå°†å…è®¸è¾“å‡ºè¢«æ¶ˆè´¹.ä¸¾ä¾‹æ¥è¯´, å¤§å¤šæ•°æ¯”ç‰¹å¸äº¤æ˜“å‡æ˜¯é‡‡ç”¨æ¥å—è€…çš„å…¬é’¥åŠ å¯†å’Œç§é’¥è§£å¯†, å› è€Œå…¶å¯¹åº”çš„ P2PKH (Pay to public key hash) æ ‡å‡†äº¤æ˜“è„šæœ¬ä¸­çš„é”å®šè„šæœ¬å³æ˜¯ä½¿ç”¨æ¥å—è€…çš„å…¬é’¥å®ç°é˜»æ­¢è¾“å‡ºåŠŸèƒ½, è€Œä½¿ç”¨ç§é’¥å¯¹åº”çš„æ•°å­—ç­¾åæ¥åŠ ä»¥è§£é”. </li><li>æ¯”ç‰¹å¸è„šæœ¬ç³»ç»Ÿå¯ä»¥å®ç°çµæ´»çš„äº¤æ˜“æ§åˆ¶. ä¾‹å¦‚, é€šè¿‡è§„å®šæŸä¸ªæ—¶é—´æ®µ (å¦‚ä¸€å‘¨) ä½œä¸ºè§£é”æ¡ä»¶, å¯ä»¥å®ç°å»¶æ—¶æ”¯ä»˜; é€šè¿‡è§„å®šæ¥å—è€…å’Œæ‹…ä¿äººå¿…é¡»å…±åŒç§é’¥ç­¾åæ‰èƒ½æ”¯é…ä¸€ç¬”æ¯”ç‰¹å¸, å¯ä»¥å®ç°æ‹…ä¿äº¤æ˜“; é€šè¿‡è®¾è®¡ä¸€ç§å¯æ ¹æ®å¤–éƒ¨ä¿¡æ¯æºæ ¸æŸ¥æŸæ¦‚ç‡äº‹ä»¶æ˜¯å¦å‘ç”Ÿçš„è§„åˆ™å¹¶ä½œä¸ºè§£é”è„šæœ¬é™„ç€åœ¨ä¸€å®šæ•°é‡çš„æ¯”ç‰¹å¸äº¤æ˜“ä¸Š, å³å¯å®ç°åšå½©å’Œé¢„æµ‹å¸‚åœºç­‰ç±»å‹çš„åº”ç”¨; é€šè¿‡è®¾å®š N ä¸ªç§é’¥é›†åˆä¸­è‡³å°‘æä¾› M ä¸ªç§é’¥æ‰å¯è§£é”, å¯å®ç° M âˆ’N å‹å¤šé‡ç­¾å, å³ N ä¸ªæ½œåœ¨æ¥å—è€…ä¸­è‡³å°‘æœ‰ M ä¸ªåŒæ„ç­¾åæ‰å¯å®ç°æ”¯ä»˜. å¤šé‡ç­¾åå¯å¹¿æ³›åº”ç”¨äºå…¬å¸å†³ç­–ã€è´¢åŠ¡ç›‘ç£ã€ä¸­ä»‹æ‹…ä¿ç”šè‡³é—äº§åˆ†é…ç­‰åœºæ™¯.</li><li>æ¯”ç‰¹å¸è„šæœ¬æ˜¯æ™ºèƒ½åˆçº¦çš„é›å½¢, å‚¬ç”Ÿäº†äººç±»å†å²ä¸Šç¬¬ä¸€ç§å¯ç¼–ç¨‹çš„å…¨çƒæ€§è´§å¸. ç„¶è€Œ, æ¯”ç‰¹å¸è„šæœ¬ç³»ç»Ÿæ˜¯éå›¾çµå®Œå¤‡çš„, å…¶ä¸­ä¸å­˜åœ¨å¤æ‚å¾ªç¯å’Œæµæ§åˆ¶, è¿™åœ¨æŸå¤±ä¸€å®šçµæ´»æ€§çš„åŒæ—¶èƒ½å¤Ÿæå¤§åœ°é™ä½å¤æ‚æ€§å’Œä¸ç¡®å®šæ€§, å¹¶èƒ½å¤Ÿé¿å…å› æ— é™å¾ªç¯ç­‰é€»è¾‘ç‚¸å¼¹è€Œé€ æˆæ‹’ç»æœåŠ¡ç­‰ç±»å‹çš„å®‰å…¨æ€§æ”»å‡». ä¸ºæé«˜è„šæœ¬ç³»ç»Ÿçš„çµæ´»æ€§å’Œå¯æ‰©å±•æ€§, ç ”ç©¶è€…å·²ç»å°è¯•åœ¨æ¯”ç‰¹å¸åè®®ä¹‹ä¸Šå åŠ æ–°çš„åè®®, ä»¥æ»¡è¶³åœ¨åŒºå—é“¾ä¸Šæ„å»ºæ›´ä¸ºå¤æ‚çš„æ™ºèƒ½åˆçº¦çš„éœ€æ±‚. ä»¥å¤ªåŠå·²ç»ç ”å‘å‡ºä¸€å¥—å›¾çµå®Œå¤‡çš„è„šæœ¬è¯­è¨€, ç”¨æˆ·å¯åŸºäºä»¥å¤ªåŠæ„å»ºä»»æ„å¤æ‚å’Œç²¾ç¡®å®šä¹‰çš„æ™ºèƒ½åˆçº¦ä¸å»ä¸­å¿ƒåŒ–åº”ç”¨, ä»è€Œä¸ºåŸºäºåŒºå—é“¾æ„å»ºå¯ç¼–ç¨‹çš„é‡‘èä¸ç¤¾ä¼šç³»ç»Ÿå¥  å®šäº†åŸºç¡€.</li></ul><h2 id="åŒºå—é“¾çš„åº”ç”¨åœºæ™¯"><a href="#åŒºå—é“¾çš„åº”ç”¨åœºæ™¯" class="headerlink" title="åŒºå—é“¾çš„åº”ç”¨åœºæ™¯"></a>åŒºå—é“¾çš„åº”ç”¨åœºæ™¯</h2><p><strong>åŒºå—é“¾ä¸»è¦åº”ç”¨äºæ•°å­—è´§å¸ã€æ•°æ®å­˜å‚¨ã€æ•°æ®é‰´è¯ã€é‡‘èäº¤æ˜“ã€èµ„äº§ç®¡ç†å’Œé€‰ä¸¾æŠ•ç¥¨å…±å…­ä¸ªåœºæ™¯</strong></p><ul><li><strong>æ•°æ®å­˜å‚¨ï¼š</strong>åŒºå—é“¾çš„é«˜å†—ä½™å­˜å‚¨ (æ¯ä¸ªèŠ‚ç‚¹å­˜å‚¨ä¸€ä»½æ•°æ®)ã€å»ä¸­å¿ƒåŒ–ã€é«˜å®‰å…¨æ€§å’Œéšç§ä¿æŠ¤ç­‰ç‰¹ç‚¹ä½¿å…¶ç‰¹åˆ«é€‚åˆå­˜å‚¨å’Œä¿æŠ¤é‡è¦éšç§æ•°æ®, ä»¥é¿å…å› ä¸­å¿ƒåŒ–æœºæ„é­å—æ”»å‡»æˆ–æƒé™ç®¡ç†ä¸å½“è€Œé€ æˆçš„å¤§è§„æ¨¡æ•°æ®ä¸¢å¤±æˆ–æ³„éœ². ä¸æ¯”ç‰¹å¸äº¤æ˜“æ•°æ®ç±»ä¼¼åœ°, ä»»æ„æ•°æ®å‡å¯é€šè¿‡å“ˆå¸Œè¿ç®—ç”Ÿæˆç›¸åº”çš„Merkleæ ‘å¹¶æ‰“åŒ…è®°å…¥åŒºå—é“¾, é€šè¿‡ç³»ç»Ÿå†…å…±è¯†èŠ‚ç‚¹çš„ç®—åŠ›å’Œéå¯¹ç§°åŠ å¯†æŠ€æœ¯æ¥ä¿è¯å®‰å…¨æ€§. åŒºå—é“¾çš„å¤šé‡ç­¾åæŠ€æœ¯å¯ä»¥çµæ´»é…ç½®æ•°æ®è®¿é—®çš„æƒé™, ä¾‹å¦‚å¿…é¡»è·å¾—æŒ‡å®š 5 ä¸ªäººä¸­ 3 ä¸ªäººçš„ç§é’¥æˆæƒæ‰å¯è·å¾—è®¿é—®æƒé™. ç›®å‰, åˆ©ç”¨åŒºå—é“¾æ¥å­˜å‚¨ä¸ªäººå¥åº·æ•°æ® (å¦‚ç”µå­ç—…å†ã€åŸºå› æ•°æ®ç­‰) æ˜¯æå…·å‰æ™¯çš„åº”ç”¨é¢†åŸŸ, æ­¤å¤–å­˜å‚¨å„ç±»é‡è¦ ç”µå­æ–‡ä»¶ (è§†é¢‘ã€å›¾ç‰‡ã€æ–‡æœ¬ç­‰) ä¹ƒè‡³äººç±»æ€æƒ³å’Œæ„è¯†ç­‰ä¹Ÿæœ‰ä¸€å®šåº”ç”¨ç©ºé—´. </li><li><strong>æ•°æ®é‰´å®šï¼š</strong>åŒºå—é“¾æ•°æ®å¸¦æœ‰æ—¶é—´æˆ³ã€ç”±å…±è¯†èŠ‚ ç‚¹å…±åŒéªŒè¯å’Œè®°å½•ã€ä¸å¯ç¯¡æ”¹å’Œä¼ªé€ , è¿™äº›ç‰¹ç‚¹ä½¿å¾—åŒºå—é“¾å¯å¹¿æ³›åº”ç”¨äºå„ç±»æ•°æ®å…¬è¯å’Œå®¡è®¡åœºæ™¯. ä¾‹å¦‚, åŒºå—é“¾å¯ä»¥æ°¸ä¹…åœ°å®‰å…¨å­˜å‚¨ç”±æ”¿åºœæœºæ„æ ¸å‘çš„å„ç±»è®¸å¯è¯ã€ç™»è®°è¡¨ã€æ‰§ç…§ã€è¯æ˜ã€è®¤è¯å’Œè®°å½•ç­‰, å¹¶å¯åœ¨ä»»æ„æ—¶é—´ç‚¹æ–¹ä¾¿åœ°è¯æ˜æŸé¡¹æ•°æ®çš„å­˜åœ¨æ€§å’Œä¸€å®šç¨‹åº¦ä¸Šçš„çœŸå®æ€§. åŒ…æ‹¬å¾·å‹¤åœ¨å†…çš„å¤šå®¶ä¸“ä¸šå®¡è®¡å…¬å¸å·²ç»éƒ¨ç½²åŒºå—é“¾æŠ€æœ¯æ¥å¸®åŠ©å…¶å®¡è®¡å¸ˆå®ç°ä½æˆæœ¬å’Œé«˜æ•ˆåœ°å®æ—¶å®¡è®¡; Factom å…¬å¸åˆ™åŸºäºåŒºå—é“¾è®¾è®¡äº†ä¸€å¥—å‡†ç¡®çš„ã€å¯æ ¸æŸ¥çš„å’Œä¸å¯æ›´æ”¹çš„å®¡è®¡å…¬ è¯æµç¨‹ä¸æ–¹æ³•. </li><li><strong>é‡‘èäº¤æ˜“ï¼š</strong>åŒºå—é“¾æŠ€æœ¯ä¸é‡‘èå¸‚åœºåº”ç”¨æœ‰éå¸¸ é«˜çš„å¥‘åˆåº¦. åŒºå—é“¾å¯ä»¥åœ¨å»ä¸­å¿ƒåŒ–ç³»ç»Ÿä¸­è‡ªå‘åœ°äº§ç”Ÿä¿¡ç”¨, èƒ½å¤Ÿå»ºç«‹æ— ä¸­å¿ƒæœºæ„ä¿¡ç”¨èƒŒä¹¦çš„é‡‘èå¸‚åœº, ä»è€Œåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå®ç°äº† â€œé‡‘èè„±åª’â€, è¿™å¯¹ç¬¬ä¸‰æ–¹æ”¯ä»˜ã€èµ„é‡‘æ‰˜ç®¡ç­‰å­˜åœ¨ä¸­ä»‹æœºæ„çš„å•†ä¸šæ¨¡å¼æ¥è¯´æ˜¯é¢ è¦†æ€§çš„å˜é©; åœ¨äº’è”ç½‘é‡‘èé¢†åŸŸ, åŒºå—é“¾ç‰¹åˆ«é€‚åˆæˆ–è€…å·²ç»åº”ç”¨äºè‚¡æƒä¼—ç­¹ã€P2Pç½‘ç»œå€Ÿè´·å’Œäº’è”ç½‘ä¿é™©ç­‰å•†ä¸šæ¨¡å¼; è¯åˆ¸å’Œé“¶è¡Œä¸šåŠ¡ä¹Ÿæ˜¯åŒºå—é“¾çš„é‡è¦åº”ç”¨é¢†åŸŸ, ä¼ ç»Ÿè¯åˆ¸äº¤æ˜“éœ€è¦ç»è¿‡ä¸­å¤®ç»“ç®—æœºæ„ã€é“¶è¡Œã€è¯åˆ¸å…¬å¸å’Œäº¤æ˜“æ‰€ç­‰ä¸­å¿ƒæœºæ„çš„å¤šé‡åè°ƒ, è€Œåˆ©ç”¨åŒºå—é“¾è‡ªåŠ¨åŒ–æ™ºèƒ½åˆçº¦å’Œå¯ç¼–ç¨‹çš„ç‰¹ç‚¹, èƒ½å¤Ÿæå¤§åœ°é™ä½æˆæœ¬å’Œæé«˜æ•ˆç‡, é¿å…ç¹ççš„ä¸­å¿ƒåŒ–æ¸…ç®—äº¤å‰²è¿‡ç¨‹, å®ç°æ–¹ä¾¿å¿«æ·çš„é‡‘èäº§å“äº¤æ˜“; åŒæ—¶, åŒºå—é“¾å’Œæ¯”ç‰¹å¸çš„å³æ—¶åˆ°å¸çš„ç‰¹ç‚¹å¯ä½¿å¾—é“¶è¡Œå®ç°æ¯” SWIFT ä»£ç ä½“ç³»æ›´ä¸ºå¿«æ·ã€ç»æµå’Œå®‰å…¨çš„è·¨å¢ƒè½¬è´¦; è¿™ä¹Ÿæ˜¯ç›®å‰ R3CEV å’Œçº³æ–¯è¾¾å…‹ç­‰å„å¤§é“¶è¡Œã€è¯åˆ¸å•†å’Œé‡‘èæœºæ„ç›¸ç»§æŠ•å…¥åŒºå—é“¾æŠ€æœ¯ç ”å‘çš„é‡è¦åŸå› .</li><li><strong>èµ„äº§ç®¡ç†ï¼š</strong>åŒºå—é“¾åœ¨èµ„äº§ç®¡ç†é¢†åŸŸçš„åº”ç”¨å…·æœ‰ å¹¿æ³›å‰æ™¯, èƒ½å¤Ÿå®ç°æœ‰å½¢å’Œæ— å½¢èµ„äº§çš„ç¡®æƒã€æˆæƒå’Œå®æ—¶ç›‘æ§. å¯¹äºæ— å½¢èµ„äº§æ¥è¯´, åŸºäºæ—¶é—´æˆ³æŠ€æœ¯å’Œä¸å¯ç¯¡æ”¹ç­‰ç‰¹ç‚¹, å¯ä»¥å°†åŒºå—é“¾æŠ€æœ¯åº”ç”¨äºçŸ¥è¯†äº§æƒä¿æŠ¤ã€åŸŸåç®¡ç†ã€ç§¯åˆ†ç®¡ç†ç­‰é¢†åŸŸ; è€Œå¯¹æœ‰å½¢èµ„äº§æ¥è¯´, é€šè¿‡ç»“åˆç‰©è”ç½‘æŠ€æœ¯ä¸ºèµ„äº§è®¾è®¡å”¯ä¸€æ ‡è¯†å¹¶éƒ¨ç½²åˆ°åŒºå—é“¾ä¸Š, èƒ½å¤Ÿå½¢æˆ â€œæ•°å­—æ™ºèƒ½èµ„äº§â€, å®ç°åŸºäºåŒºå—é“¾çš„åˆ†å¸ƒå¼èµ„äº§æˆæƒå’Œæ§åˆ¶. ä¾‹å¦‚, é€šè¿‡å¯¹æˆ¿å±‹ã€è½¦è¾†ç­‰å®ç‰©èµ„äº§çš„åŒºå—é“¾å¯†é’¥æˆæƒ, å¯ä»¥åŸºäºç‰¹å®šæƒé™æ¥å‘æ”¾å’Œå›æ”¶èµ„äº§çš„ä½¿ç”¨æƒ, æœ‰åŠ©äº Airbnb ç­‰æˆ¿å±‹ç§Ÿèµæˆ–è½¦è¾†ç§Ÿèµç­‰å•†ä¸šæ¨¡å¼å®ç°è‡ªåŠ¨åŒ–çš„èµ„äº§äº¤æ¥; é€šè¿‡ç»“åˆç‰©è”ç½‘çš„èµ„äº§æ ‡è®°å’Œè¯†åˆ«æŠ€æœ¯, è¿˜å¯ä»¥åˆ©ç”¨åŒºå—é“¾å®ç°çµæ´»çš„ä¾›åº”é“¾ç®¡ç†å’Œäº§å“æº¯æºç­‰åŠŸèƒ½. </li><li><strong>é€‰ä¸¾æŠ•ç¥¨ï¼š</strong>æŠ•ç¥¨æ˜¯åŒºå—é“¾æŠ€æœ¯åœ¨æ”¿æ²»äº‹åŠ¡ä¸­çš„ä»£è¡¨æ€§åº”ç”¨. åŸºäºåŒºå—é“¾çš„åˆ†å¸ƒå¼å…±è¯†éªŒè¯ã€ä¸å¯ç¯¡æ”¹ç­‰ç‰¹ç‚¹, å¯ä»¥ä½æˆæœ¬é«˜æ•ˆåœ°å®ç°æ”¿æ²»é€‰ä¸¾ã€ä¼ä¸šè‚¡ä¸œæŠ•ç¥¨ç­‰åº”ç”¨; åŒæ—¶, åŒºå—é“¾ä¹Ÿæ”¯æŒç”¨æˆ·ä¸ªä½“å¯¹ç‰¹å®šè®®é¢˜çš„æŠ•ç¥¨. ä¾‹å¦‚, é€šè¿‡è®°å½•ç”¨æˆ·å¯¹ç‰¹å®šäº‹ä»¶æ˜¯å¦å‘ç”Ÿçš„æŠ•ç¥¨, å¯ä»¥å°†åŒºå—é“¾åº”ç”¨äºåšå½©å’Œé¢„æµ‹å¸‚åœºç­‰åœºæ™¯; é€šè¿‡è®°å½•ç”¨æˆ·å¯¹ç‰¹å®šäº§å“çš„æŠ•ç¥¨è¯„åˆ†ä¸å»ºè®®, å¯ä»¥å®ç°å¤§è§„æ¨¡ç”¨æˆ·ä¼—åŒ…è®¾è®¡äº§å“çš„ â€œç¤¾ä¼šåˆ¶é€ â€ æ¨¡å¼ç­‰.</li></ul><p>*<em>æ ¹æ®å®é™…åº”ç”¨åœºæ™¯å’Œéœ€æ±‚, åŒºå—é“¾æŠ€æœ¯å·²ç»æ¼”åŒ–å‡ºä¸‰ç§åº”ç”¨æ¨¡å¼, å³å…¬å…±é“¾(Public blockchain)ã€è”ç›Ÿé“¾(Consortiumblockchain) å’Œç§æœ‰é“¾(Private blockchain). *</em></p><ul><li>å…¬å…±é“¾æ˜¯å®Œå…¨å»ä¸­å¿ƒåŒ–çš„åŒºå—é“¾, åˆ†å¸ƒå¼ç³»ç»Ÿçš„ä»»ä½•èŠ‚ç‚¹å‡å¯å‚ä¸é“¾ä¸Šæ•°æ®çš„è¯»å†™ã€éªŒè¯å’Œå…±è¯†è¿‡ç¨‹, å¹¶æ ¹æ®å…¶ PoW æˆ– PoS è´¡çŒ®è·å¾—ç›¸åº”çš„ç»æµæ¿€åŠ±. æ¯”ç‰¹å¸æ˜¯å…¬å…±é“¾çš„å…¸å‹ä»£è¡¨. </li><li>è”ç›Ÿé“¾åˆ™æ˜¯éƒ¨åˆ†å»ä¸­å¿ƒåŒ– (æˆ–ç§°å¤šä¸­å¿ƒåŒ–) çš„åŒºå—é“¾, é€‚ç”¨äºå¤šä¸ªå®ä½“æ„æˆçš„ç»„ç»‡æˆ–è”ç›Ÿ, å…¶å…±è¯†è¿‡ç¨‹å—åˆ°é¢„å®šä¹‰çš„ä¸€ç»„èŠ‚ç‚¹æ§åˆ¶, ä¾‹å¦‚ç”ŸæˆåŒºå—éœ€è¦è·å¾—10ä¸ªé¢„é€‰çš„å…±è¯†èŠ‚ç‚¹ä¸­çš„5ä¸ªèŠ‚ç‚¹ç¡®è®¤; </li><li>ç§æœ‰é“¾åˆ™æ˜¯å®Œå…¨ä¸­å¿ƒåŒ–çš„åŒºå—é“¾, é€‚ç”¨äºç‰¹å®šæœºæ„çš„å†…éƒ¨æ•°æ®ç®¡ç†ä¸å®¡è®¡ç­‰, å…¶å†™å…¥æƒé™ç”±ä¸­å¿ƒæœºæ„æ§åˆ¶, è€Œè¯»å–æƒé™å¯è§†éœ€æ±‚æœ‰é€‰æ‹©æ€§åœ°å¯¹å¤–å¼€æ”¾. </li></ul><h2 id="åŒºå—é“¾çš„ç°å­˜é—®é¢˜"><a href="#åŒºå—é“¾çš„ç°å­˜é—®é¢˜" class="headerlink" title="åŒºå—é“¾çš„ç°å­˜é—®é¢˜"></a>åŒºå—é“¾çš„ç°å­˜é—®é¢˜</h2><ul><li><p>å®‰å…¨é—®é¢˜ï¼š</p><ul><li>, åŸºäº PoW å…±è¯†è¿‡ç¨‹çš„åŒºå—é“¾ä¸»è¦é¢ä¸´çš„æ˜¯ 51% æ”»å‡»é—®é¢˜, å³èŠ‚ç‚¹é€šè¿‡æŒæ¡å…¨ç½‘è¶…è¿‡ 51% çš„ç®—åŠ›å°±æœ‰èƒ½åŠ›æˆåŠŸç¯¡æ”¹å’Œä¼ªé€ åŒºå—é“¾æ•°æ®. ä»¥æ¯”ç‰¹å¸ä¸ºä¾‹, æ®ç»Ÿè®¡ä¸­å›½å¤§å‹çŸ¿æ± çš„ç®—åŠ›å·²å å…¨ç½‘æ€»ç®—åŠ›çš„ 60% ä»¥ä¸Š, ç†è®ºä¸Šè¿™äº›çŸ¿æ± å¯ä»¥é€šè¿‡åˆä½œå®æ–½ 51% æ”»å‡», ä»è€Œå®ç°æ¯”ç‰¹å¸çš„åŒé‡æ”¯ä»˜. è™½ç„¶å®é™…ç³»ç»Ÿä¸­ä¸ºæŒæ¡å…¨ç½‘ 51% ç®—åŠ›æ‰€éœ€çš„æˆæœ¬æŠ•å…¥è¿œè¶…æˆåŠŸå®æ–½æ”»å‡»åçš„æ”¶ç›Š, ä½† 51% æ”»å‡»çš„å®‰å…¨æ€§å¨èƒå§‹ç»ˆå­˜åœ¨. åŸºäº PoS å…±è¯†è¿‡ç¨‹åœ¨ä¸€å®šç¨‹åº¦ä¸Šè§£å†³äº† 51% æ”»å‡»é—®é¢˜, ä½†åŒæ—¶ä¹Ÿå¼•å…¥äº†åŒºå—åˆ†å‰æ—¶çš„ N@S (Nothing at stake) æ”»å‡»é—®é¢˜. </li><li>åŒºå—é“¾çš„éå¯¹ç§°åŠ å¯†æœºåˆ¶ä¹Ÿå°†éšç€æ•°å­¦ã€å¯†ç å­¦å’Œè®¡ç®—æŠ€æœ¯çš„å‘å±•è€Œå˜çš„è¶Šæ¥è¶Šè„†å¼±. æ®ä¼°è®¡, ä»¥ç›®å‰å¤©æ²³äºŒå·çš„ç®—åŠ›æ¥è¯´, äº§ç”Ÿæ¯”ç‰¹å¸ SHA256 å“ˆå¸Œç®—æ³•çš„ä¸€ä¸ªå“ˆå¸Œç¢°æ’å¤§çº¦éœ€è¦ 248 å¹´, ä½†éšç€é‡å­è®¡ç®—æœºç­‰æ–°è®¡ç®—æŠ€æœ¯çš„å‘å±•, æœªæ¥éå¯¹ç§°åŠ å¯†ç®—æ³•å…·æœ‰ä¸€å®šçš„ç ´è§£å¯èƒ½æ€§, è¿™ä¹Ÿæ˜¯åŒºå—é“¾æŠ€æœ¯é¢ä¸´çš„æ½œåœ¨å®‰å…¨å¨èƒ. </li><li>åŒºå—é“¾çš„éšç§ä¿æŠ¤ä¹Ÿå­˜åœ¨å®‰å…¨æ€§é£é™©. åŒºå—é“¾ç³»ç»Ÿå†…å„èŠ‚ç‚¹å¹¶éå®Œå…¨åŒ¿å, è€Œæ˜¯é€šè¿‡ç±»ä¼¼ç”µå­é‚®ä»¶åœ°å€çš„åœ°å€æ ‡è¯† (ä¾‹å¦‚æ¯”ç‰¹å¸å…¬é’¥åœ°å€) æ¥å®ç°æ•°æ®ä¼ è¾“. è™½ç„¶åœ°å€æ ‡è¯†å¹¶æœªç›´æ¥ä¸çœŸå®ä¸–ç•Œçš„äººç‰©èº«ä»½ç›¸å…³è”, ä½†åŒºå—é“¾æ•°æ®æ˜¯å®Œå…¨å…¬å¼€é€æ˜çš„, éšç€å„ç±»ååŒ¿åèº«ä»½ç”„åˆ«æŠ€æœ¯çš„å‘å±•, å®ç°éƒ¨åˆ†é‡ç‚¹ç›®æ ‡çš„å®šä½å’Œè¯†åˆ«ä»æ˜¯æœ‰å¯èƒ½çš„.</li></ul></li><li><p>æ•ˆç‡é—®é¢˜ï¼š</p><ul><li>åŒºå—è†¨èƒ€é—®é¢˜ï¼šåŒºå—é“¾è¦æ±‚ç³»ç»Ÿå†…æ¯ä¸ªèŠ‚ç‚¹ä¿å­˜ä¸€ä»½æ•°æ®å¤‡ä»½, è¿™å¯¹äºæ—¥ç›Šå¢é•¿çš„æµ·é‡æ•°æ®å­˜å‚¨æ¥è¯´æ˜¯æä¸ºå›°éš¾çš„. ä»¥æ¯”ç‰¹å¸ä¸ºä¾‹, å®Œå…¨åŒæ­¥è‡ªåˆ›ä¸–åŒºå—è‡³ä»Šçš„åŒºå—æ•°æ®éœ€è¦çº¦ 60GB å­˜å‚¨ç©ºé—´.</li><li>äº¤æ˜“æ•ˆç‡é—®é¢˜ï¼šæ¯”ç‰¹å¸åŒºå—é“¾ç›®å‰æ¯ç§’ä»…èƒ½å¤„ç† 7 ç¬”äº¤æ˜“, è¿™æå¤§åœ°é™åˆ¶äº†åŒºå—é“¾åœ¨å¤§å¤šæ•°é‡‘èç³»ç»Ÿé«˜é¢‘äº¤æ˜“åœºæ™¯ä¸­çš„åº”ç”¨ (ä¾‹å¦‚ VISA ä¿¡ç”¨å¡æ¯ç§’æœ€å¤šå¯å¤„ç† 10000 ç¬”äº¤æ˜“).</li><li>äº¤æ˜“ç¡®è®¤æ—¶é—´é—®é¢˜: æ¯”ç‰¹å¸åŒºå—ç”Ÿæˆæ—¶é—´ä¸º10åˆ†é’Ÿ, å› è€Œäº¤æ˜“ç¡®è®¤æ—¶é—´ä¸€èˆ¬ä¸º10åˆ†é’Ÿ, è¿™åœ¨ä¸€å®šç¨‹åº¦ä¸Šé™åˆ¶äº†æ¯”ç‰¹å¸åœ¨å°é¢äº¤æ˜“å’Œæ—¶é—´æ•æ„Ÿäº¤æ˜“ä¸­çš„åº”ç”¨. </li></ul></li><li><p>èµ„æºé—®é¢˜ï¼š</p><ul><li>PoW å…±è¯†è¿‡ç¨‹é«˜åº¦ä¾èµ–åŒºå—é“¾ç½‘ç»œèŠ‚ç‚¹è´¡çŒ®çš„ç®—åŠ›, è¿™äº›ç®—åŠ›ä¸»è¦ç”¨äºè§£å†³ SHA256 å“ˆå¸Œå’Œéšæœºæ•°æœç´¢, é™¤æ­¤ä¹‹å¤–å¹¶ä¸äº§ç”Ÿä»»ä½•å®é™…ç¤¾ä¼šä»·å€¼, å› è€Œä¸€èˆ¬æ„ä¹‰ä¸Šè®¤ä¸ºè¿™äº›ç®—åŠ›èµ„æºæ˜¯è¢« â€œæµªè´¹â€ æ‰äº†, åŒæ—¶è¢«æµªè´¹æ‰çš„è¿˜æœ‰å¤§é‡çš„ç”µåŠ›èµ„æº. éšç€æ¯”ç‰¹å¸çš„æ—¥ç›Šæ™®åŠå’Œä¸“ä¸šæŒ–çŸ¿è®¾å¤‡çš„å‡ºç°, æ¯”ç‰¹å¸ç”Ÿæ€åœˆå·²ç»åœ¨èµ„æœ¬å’Œè®¾å¤‡æ–¹é¢å‘ˆç°å‡ºæ˜æ˜¾çš„å†›å¤‡ç«èµ›æ€åŠ¿, é€æ¸æˆä¸ºé«˜è€—èƒ½çš„èµ„æœ¬å¯†é›†å‹è¡Œä¸š, è¿›ä¸€æ­¥å‡¸æ˜¾èµ„æºæ¶ˆè€—é—®é¢˜çš„é‡è¦æ€§.</li></ul></li><li><p>åšå¼ˆé—®é¢˜ï¼š</p><ul><li>åŒºå—é“¾ç½‘ç»œä½œä¸ºå»ä¸­å¿ƒåŒ–çš„åˆ†å¸ƒå¼ç³»ç»Ÿ, å…¶å„èŠ‚ç‚¹åœ¨äº¤äº’è¿‡ç¨‹ä¸­ä¸å¯é¿å…åœ°ä¼šå­˜åœ¨ç›¸äº’ç«äº‰ä¸åˆä½œçš„åšå¼ˆå…³ç³», è¿™åœ¨æ¯”ç‰¹å¸æŒ–çŸ¿è¿‡ç¨‹ä¸­å°¤ä¸ºæ˜æ˜¾. é€šå¸¸æ¥è¯´, æ¯”ç‰¹å¸çŸ¿æ± é—´å¯ä»¥é€šè¿‡ç›¸äº’åˆä½œä¿æŒå„è‡ªç¨³å®šçš„æ”¶ç›Š. ç„¶è€Œ, çŸ¿æ± å¯ä»¥é€šè¿‡ç§°ä¸ºåŒºå—æˆªç•™æ”»å‡» (Block withholding attacks) çš„æ–¹å¼ã€é€šè¿‡ä¼ªè£…ä¸ºå¯¹æ‰‹çŸ¿æ± çš„çŸ¿å·¥ã€äº«å—å¯¹æ‰‹çŸ¿æ± çš„æ”¶ç›Šä½†ä¸å®é™…è´¡çŒ®å®Œæ•´å·¥ä½œé‡è¯æ˜æ¥æ”»å‡»å…¶ä»–çŸ¿æ± , ä»è€Œé™ä½å¯¹æ‰‹çŸ¿æ± çš„æ”¶ç›Š. å¦‚æœçŸ¿æ± ç›¸äº’æ”»å‡», åˆ™åŒæ–¹è·å¾—çš„æ”¶ç›Šå‡å°‘äºä¸æ”»å‡»å¯¹æ–¹çš„æ”¶ç›Š. å½“çŸ¿æ± æ”¶ç›Šå‡½æ•°æ»¡è¶³ç‰¹å®šæ¡ä»¶æ—¶, è¿™ç§æ”»å‡»å’Œç«äº‰å°†ä¼šé€ æˆ â€œ<a href="https://zh.wikipedia.org/wiki/%E5%9B%9A%E5%BE%92%E5%9B%B0%E5%A2%83" target="_blank" rel="noopener">å›šå¾’å›°å¢ƒ</a>â€åšå¼ˆç»“å±€.  </li><li>æ­¤å¤–, æ­£å¦‚å‰æ–‡æåˆ°çš„, åŒºå—é“¾å…±è¯†è¿‡ç¨‹æœ¬è´¨ä¸Šæ˜¯<a href="https://zh.wikipedia.org/wiki/%E4%BC%97%E5%8C%85" target="_blank" rel="noopener">ä¼—åŒ…</a>è¿‡ç¨‹, å¦‚ä½•è®¾è®¡æ¿€åŠ±ç›¸å®¹çš„å…±è¯†æœºåˆ¶, ä½¿å¾—å»ä¸­å¿ƒåŒ–ç³»ç»Ÿä¸­çš„è‡ªåˆ©èŠ‚ç‚¹èƒ½å¤Ÿè‡ªå‘åœ°å®æ–½åŒºå—æ•°æ®çš„éªŒè¯å’Œè®°è´¦å·¥ä½œ, å¹¶æé«˜ç³»ç»Ÿå†…éç†æ€§è¡Œä¸ºçš„æˆæœ¬ä»¥æŠ‘åˆ¶å®‰å…¨æ€§æ”»å‡»å’Œå¨èƒ, æ˜¯åŒºå—é“¾æœ‰å¾…è§£å†³çš„é‡è¦ç§‘å­¦é—®é¢˜.</li></ul></li></ul><h2 id="åŸºäºåŒºå—é“¾çš„æ™ºèƒ½åˆçº¦"><a href="#åŸºäºåŒºå—é“¾çš„æ™ºèƒ½åˆçº¦" class="headerlink" title="åŸºäºåŒºå—é“¾çš„æ™ºèƒ½åˆçº¦"></a>åŸºäºåŒºå—é“¾çš„æ™ºèƒ½åˆçº¦</h2><ul><li><p>æ™ºèƒ½åˆçº¦æ˜¯åŒºå—é“¾çš„æ ¸å¿ƒæ„æˆè¦ç´  (åˆçº¦å±‚), æ˜¯ç”±äº‹ä»¶é©±åŠ¨çš„ã€å…·æœ‰çŠ¶æ€çš„ã€è¿è¡Œåœ¨å¯å¤åˆ¶çš„å…±äº«åŒºå—é“¾æ•°æ®è´¦æœ¬ä¸Šçš„è®¡ç®—æœºç¨‹åº, èƒ½å¤Ÿå®ç°ä¸»åŠ¨æˆ–è¢«åŠ¨çš„å¤„ç†æ•°æ®, æ¥å—ã€å‚¨å­˜å’Œå‘é€ä»·å€¼, ä»¥åŠæ§åˆ¶å’Œç®¡ç†å„ç±»é“¾ä¸Šæ™ºèƒ½èµ„äº§ç­‰åŠŸèƒ½.  </p></li><li><p>æ™ºèƒ½åˆçº¦ä½œä¸ºä¸€ç§åµŒå…¥å¼ç¨‹åºåŒ–åˆçº¦, å¯ä»¥å†…ç½®åœ¨ä»»ä½•åŒºå—é“¾æ•°æ®ã€äº¤æ˜“ã€ æœ‰å½¢æˆ–æ— å½¢èµ„äº§ä¸Š, å½¢æˆå¯ç¼–ç¨‹æ§åˆ¶çš„è½¯ä»¶å®šä¹‰çš„ç³»ç»Ÿã€å¸‚åœºå’Œèµ„äº§. æ™ºèƒ½åˆçº¦ä¸ä»…ä¸ºä¼ ç»Ÿé‡‘èèµ„äº§çš„å‘è¡Œã€äº¤æ˜“ã€åˆ›é€ å’Œç®¡ç†æä¾›äº†åˆ›æ–°æ€§çš„è§£å†³æ–¹æ¡ˆ, åŒæ—¶èƒ½å¤Ÿåœ¨ç¤¾ä¼šç³»ç»Ÿä¸­çš„èµ„äº§ç®¡ç†ã€åˆåŒç®¡ç†ã€ç›‘ç®¡æ‰§æ³•ç­‰äº‹åŠ¡ä¸­å‘æŒ¥é‡è¦ä½œç”¨.</p></li><li><p>æ™ºèƒ½åˆçº¦çš„è¿ä½œæœºç†å¦‚å›¾ 5 æ‰€ç¤º: é€šå¸¸æƒ…å†µä¸‹, æ™ºèƒ½åˆçº¦ç»å„æ–¹ç­¾ç½²å, ä»¥ç¨‹åºä»£ç çš„å½¢å¼é™„ç€åœ¨åŒºå—é“¾æ•°æ® (ä¾‹å¦‚ä¸€ç¬”æ¯”ç‰¹å¸äº¤æ˜“) ä¸Š, ç» P2P ç½‘ç»œä¼ æ’­å’ŒèŠ‚ç‚¹éªŒè¯åè®°å…¥åŒºå—é“¾çš„ç‰¹å®šåŒºå—ä¸­. æ™ºèƒ½åˆçº¦å°è£…äº†é¢„å®šä¹‰çš„è‹¥å¹²çŠ¶æ€åŠè½¬æ¢è§„åˆ™ã€è§¦å‘åˆçº¦æ‰§è¡Œçš„æƒ…æ™¯ (å¦‚åˆ°è¾¾ç‰¹å®šæ—¶é—´æˆ–å‘ç”Ÿç‰¹å®šäº‹ä»¶ç­‰)ã€ç‰¹å®šæƒ…æ™¯ä¸‹çš„åº”å¯¹è¡ŒåŠ¨ç­‰. åŒºå—é“¾å¯å®æ—¶ç›‘æ§æ™ºèƒ½åˆçº¦çš„çŠ¶æ€, å¹¶é€šè¿‡æ ¸æŸ¥å¤–éƒ¨æ•°æ®æºã€ç¡®è®¤æ»¡è¶³ç‰¹å®šè§¦å‘æ¡ä»¶åæ¿€æ´»å¹¶æ‰§è¡Œåˆçº¦.</p></li></ul><p><img src="https://img-blog.csdn.net/20180913160026238?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><ul><li><p><strong>æ™ºèƒ½åˆçº¦çš„åº”ç”¨ä¸¾ä¾‹</strong>ï¼š</p><ul><li>äº’è”ç½‘é‡‘èé¢†åŸŸçš„è‚¡æƒä¼—ç­¹æˆ– P2P ç½‘ç»œå€Ÿè´·ç­‰å•†ä¸šæ¨¡å¼å¯ä»¥é€šè¿‡åŒºå—é“¾å’Œæ™ºèƒ½åˆçº¦åŠ ä»¥å®ç°. ä¼ ç»Ÿæ–¹å¼æ˜¯é€šè¿‡è‚¡æƒä¼—ç­¹æˆ– P2P å€Ÿè´·çš„äº¤æ˜“æ‰€æˆ–ç½‘ç»œå¹³å°ä½œä¸ºä¸­å¿ƒæœºæ„å®Œæˆèµ„é‡‘å‹Ÿé›†ã€ç®¡ç†å’ŒæŠ•èµ„, å®é™…æ“ä½œè¿‡ç¨‹ä¸­å®¹æ˜“å‡ºç°å› ä¸­å¿ƒæœºæ„çš„ä¿¡ç”¨ç¼ºå¤±è€Œå¯¼è‡´çš„èµ„é‡‘é£é™©. åˆ©ç”¨æ™ºèƒ½åˆçº¦, è¿™äº›åŠŸèƒ½å‡å¯ä»¥å°è£…åœ¨å»ä¸­å¿ƒåŒ–å¯ä¿¡çš„åŒºå—é“¾ä¸Šè‡ªåŠ¨æ‰§è¡Œ. åŒºå—é“¾å¯è®°å½•æ¯ä¸€ç¬”èèµ„, å½“æˆåŠŸè¾¾åˆ°ç‰¹å®šèèµ„é¢åº¦æ—¶è®¡ç®—æ¯ä¸ªæŠ•èµ„äººçš„è‚¡æƒä»½é¢, æˆ–åœ¨ä¸€æ®µæ—¶é—´å†…æœªè¾¾åˆ°èèµ„é¢åº¦æ—¶è‡ªåŠ¨å°†èµ„é‡‘é€€è¿˜ç»™æŠ•èµ„äºº. </li><li>å†å¦‚, é€šè¿‡å°†æˆ¿å±‹å’Œè½¦è¾†ç­‰å®ä½“èµ„äº§è¿›è¡Œéå¯¹ç§°åŠ å¯†, å¹¶åµŒå…¥å«æœ‰ç‰¹å®šè®¿é—®æ§åˆ¶è§„åˆ™çš„æ™ºèƒ½åˆçº¦åéƒ¨ç½²åœ¨åŒºå—é“¾ä¸Š, ä½¿ç”¨è€…ç¬¦åˆç‰¹å®šçš„è®¿é—®æƒé™æˆ–æ‰§è¡Œç‰¹å®šæ“ä½œ (å¦‚ä»˜æ¬¾) åå°±å¯ä½¿ç”¨è¿™äº›èµ„äº§, è¿™èƒ½å¤Ÿæœ‰æ•ˆè§£å†³æˆ¿å±‹æˆ–è½¦è¾†ç§Ÿèµå•†ä¸šæ¨¡å¼ä¸­èµ„äº§äº¤æ¥å’Œä½¿ç”¨è®¸å¯æ–¹é¢çš„ç—›ç‚¹. </li></ul></li><li><p><strong>æ™ºèƒ½åˆçº¦ç‰¹ç‚¹åŠæ„ä¹‰</strong>ï¼š</p><ul><li>æ™ºèƒ½åˆçº¦å…·æœ‰è‡ªæ²»ã€è‡ªè¶³å’Œå»ä¸­å¿ƒåŒ–ç­‰ç‰¹å¾. è‡ª è¡¨ç¤ºåˆçº¦ä¸€æ—¦å¯åŠ¨å°±ä¼šè‡ªåŠ¨è¿è¡Œ, è€Œä¸éœ€è¦å…¶ä»–ç­¾ç½²æ–¹è¿›è¡Œä»»ä½•å¹²é¢„; è‡ªè¶³åˆ™æ„å‘³ç€åˆçº¦èƒ½å¤Ÿé€šè¿‡æä¾›æœåŠ¡æˆ–å‘è¡Œèµ„äº§æ¥è·å–èµ„é‡‘, å¹¶åœ¨éœ€è¦æ—¶ä½¿ç”¨è¿™äº›èµ„é‡‘; å»ä¸­å¿ƒåŒ–åˆ™æ„å‘³ç€æ™ºèƒ½åˆçº¦æ˜¯ç”±å»ä¸­å¿ƒåŒ–å­˜å‚¨å’ŒéªŒè¯çš„ç¨‹åºä»£ç è€Œéä¸­å¿ƒåŒ–å®ä½“æ¥ä¿éšœæ‰§è¡Œçš„åˆçº¦, èƒ½åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šä¿è¯åˆçº¦çš„å…¬å¹³å’Œå…¬æ­£æ€§. </li><li>æ™ºèƒ½åˆçº¦å¯¹äºåŒºå—é“¾æŠ€æœ¯æ¥è¯´å…·æœ‰é‡è¦çš„æ„ä¹‰. ä¸€æ–¹é¢, æ™ºèƒ½åˆçº¦æ˜¯åŒºå—é“¾çš„æ¿€æ´»å™¨, ä¸ºé™æ€çš„åº•å±‚åŒºå—é“¾æ•°æ®èµ‹äºˆäº†çµæ´»å¯ç¼–ç¨‹çš„æœºåˆ¶å’Œç®—æ³•, å¹¶ä¸ºæ„å»ºåŒºå—é“¾ 2.0 å’Œ 3.0 æ—¶ä»£çš„å¯ç¼–ç¨‹é‡‘èç³»ç»Ÿä¸ç¤¾ä¼šç³»ç»Ÿå¥ å®šäº†åŸºç¡€; å¦ä¸€æ–¹é¢, æ™ºèƒ½åˆçº¦çš„è‡ªåŠ¨åŒ–å’Œå¯ç¼–ç¨‹ç‰¹æ€§ä½¿å…¶å¯å°è£…åˆ†å¸ƒå¼åŒºå—é“¾ç³»ç»Ÿä¸­å„èŠ‚ç‚¹çš„å¤æ‚è¡Œä¸º, æˆä¸ºåŒºå—é“¾æ„æˆçš„è™šæ‹Ÿä¸–ç•Œä¸­çš„è½¯ä»¶ä»£ç†æœºå™¨äºº, è¿™æœ‰åŠ©äºä¿ƒè¿›åŒºå—é“¾æŠ€æœ¯åœ¨å„ç±»åˆ†å¸ƒå¼äººå·¥æ™ºèƒ½ç³»ç»Ÿä¸­çš„åº”ç”¨, ä½¿å¾—åŸºäºåŒºå—é“¾æŠ€ æœ¯æ„å»ºå„ç±»å»ä¸­å¿ƒåŒ–åº”ç”¨ (Decentralized application, Dapp)ã€å»ä¸­å¿ƒåŒ–è‡ªæ²»ç»„ç»‡(Decentralized autonomous organization, DAO)ã€å»ä¸­å¿ƒåŒ–è‡ªæ²»å…¬å¸ (Decentralized autonomous corporation, DAC) ç”šè‡³å»ä¸­å¿ƒåŒ–è‡ªæ²»ç¤¾ä¼š (Decentralized autonomous society, DAS) æˆä¸ºå¯èƒ½. </li><li>å°±ç°çŠ¶è€Œè¨€, åŒºå—é“¾å’Œæ™ºèƒ½åˆçº¦æŠ€æœ¯çš„ä¸»è¦å‘å±•è¶‹åŠ¿æ˜¯ç”±è‡ªåŠ¨åŒ–å‘æ™ºèƒ½åŒ–æ–¹å‘æ¼”åŒ–. ç°å­˜çš„å„ç±»æ™ºèƒ½åˆçº¦åŠå…¶åº”ç”¨çš„æœ¬è´¨é€»è¾‘å¤§å¤šä»æ˜¯æ ¹æ®é¢„å®šä¹‰åœºæ™¯çš„ â€œIF-THENâ€ ç±»å‹çš„æ¡ä»¶å“åº”è§„åˆ™, èƒ½å¤Ÿæ»¡è¶³ç›®å‰è‡ªåŠ¨åŒ–äº¤æ˜“å’Œæ•°æ®å¤„ç†çš„éœ€æ±‚. æœªæ¥çš„æ™ºèƒ½åˆçº¦åº”å…·å¤‡æ ¹æ®æœªçŸ¥åœºæ™¯çš„ â€œWHAT-IFâ€ æ¨æ¼”ã€è®¡ç®—å®éªŒå’Œä¸€å®šç¨‹åº¦ä¸Šçš„è‡ªä¸»å†³ç­–åŠŸèƒ½, ä»è€Œå®ç°ç”±ç›®å‰ â€œè‡ªåŠ¨åŒ–â€ åˆçº¦å‘çœŸæ­£çš„ â€œæ™ºèƒ½â€ åˆçº¦çš„é£è·ƒ.</li></ul></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;ul&gt;
&lt;li&gt;é˜…è¯»è‡ªåŒºå—é“¾æŠ€æœ¯å‘å±•ç°çŠ¶ä¸å±•æœ›ï¼ˆè¢å‹‡ ç‹é£è·ƒï¼‰çš„æŠ¥å‘Šå¹¶èŠ‚é€‰å…¶ä¸­å†…å®¹&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;åŒºå—é“¾ç®€ä»‹&quot;&gt;&lt;a href=&quot;#åŒºå—é“¾ç®€ä»‹&quot; class=&quot;headerlink&quot; title=&quot;åŒºå—é“¾ç®€ä»‹&quot;&gt;&lt;/a&gt;åŒºå—é“¾ç®€ä»‹&lt;/h2&gt;&lt;ol&gt;
&lt;l
      
    
    </summary>
    
      <category term="åŒºå—é“¾" scheme="http://yoursite.com/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
    
      <category term="åŒºå—é“¾" scheme="http://yoursite.com/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
  </entry>
  
  <entry>
    <title>å›¾åƒç¼©æ”¾çš„c++å®ç°</title>
    <link href="http://yoursite.com/2019/07/05/%E5%9B%BE%E5%83%8F%E7%BC%A9%E6%94%BE%E7%9A%84c++%E5%AE%9E%E7%8E%B0/"/>
    <id>http://yoursite.com/2019/07/05/å›¾åƒç¼©æ”¾çš„c++å®ç°/</id>
    <published>2019-07-05T09:08:41.000Z</published>
    <updated>2019-07-05T14:43:07.449Z</updated>
    
    <content type="html"><![CDATA[<ul><li>ç”¨äº†CImgåº“å’Œopencvå®ç°å›¾ç‰‡çš„ç¼©æ”¾<h3 id="é¢˜ç›®ï¼š"><a href="#é¢˜ç›®ï¼š" class="headerlink" title="é¢˜ç›®ï¼š"></a>é¢˜ç›®ï¼š</h3></li></ul><p><strong>Zooming and Shrinking Images by Pixel Replication</strong>   </p><ul><li>(a) Write a computer program capable of zooming and shrinking an image by pixel replication. Assume that the desired zoom/shrink factors are integers.  You may ignore aliasing effects.  You will need to  download Fig. 2.19(a).</li><li>(b) Download Fig. 2.19 (a) and use your program to shrink the image from 1024 x 1024 to 256 x 256 pixels. </li><li>(c) Use your program to zoom the image in (b) back to 1024 x 1024.  Explain the reasons for their differences.   </li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// image2.cpp : æ­¤æ–‡ä»¶åŒ…å« "main" å‡½æ•°ã€‚ç¨‹åºæ‰§è¡Œå°†åœ¨æ­¤å¤„å¼€å§‹å¹¶ç»“æŸã€‚</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"pch.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"CImg.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;Eigen3/Eigen/Dense&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;highgui/highgui.hpp&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> cimg_library;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> Eigen;</span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; near_change(CImg&lt;<span class="keyword">int</span>&gt; img, <span class="keyword">int</span> x, <span class="keyword">int</span> y);</span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; linear_change(CImg&lt;<span class="keyword">int</span>&gt; img, <span class="keyword">int</span> x, <span class="keyword">int</span> y);</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// - - - - project 3 - - - -</span></span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; SrcImg(<span class="string">"E:/Desktop/picture_process/Lenna/test.jpg"</span>);</span><br><span class="line">SrcImg.resize(<span class="number">256</span>, <span class="number">256</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">5</span>);</span><br><span class="line"><span class="comment">//SrcImg.resize(1024, 1024,1,1,5);</span></span><br><span class="line">SrcImg = near_change(SrcImg, <span class="number">512</span>, <span class="number">512</span>);</span><br><span class="line"><span class="comment">//SrcImg = linear_change(SrcImg, 512, 512);</span></span><br><span class="line">SrcImg.display();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; near_change(CImg&lt;<span class="keyword">int</span>&gt; img, <span class="keyword">int</span> x, <span class="keyword">int</span> y) &#123;</span><br><span class="line"><span class="keyword">double</span> scale_x = (<span class="keyword">double</span>) img.height()/x;</span><br><span class="line"><span class="keyword">double</span> scale_y = (<span class="keyword">double</span>) img.width()/y;</span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; pic(x,y,<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; x; ++i) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; y; j++) &#123;</span><br><span class="line"><span class="keyword">int</span> x0 = (<span class="keyword">int</span>) i * scale_x;</span><br><span class="line"><span class="keyword">int</span> y0 = (<span class="keyword">int</span>) j * scale_y;</span><br><span class="line">pic(i, j) = img(x0, y0);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> pic;</span><br><span class="line">&#125;</span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; linear_change(CImg&lt;<span class="keyword">int</span>&gt; img, <span class="keyword">int</span> x, <span class="keyword">int</span> y) &#123;</span><br><span class="line"><span class="keyword">double</span> scale_x = (<span class="keyword">double</span>)img.height() / x;</span><br><span class="line"><span class="keyword">double</span> scale_y = (<span class="keyword">double</span>)img.width() / y;</span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; pic(x, y, <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; x; i++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; y; j++) &#123;</span><br><span class="line"><span class="keyword">float</span> fx = (<span class="keyword">float</span>)((i + <span class="number">0.5</span>)*scale_x - <span class="number">0.5</span>);</span><br><span class="line"><span class="keyword">float</span> fy = (<span class="keyword">float</span>)((j + <span class="number">0.5</span>)*scale_y - <span class="number">0.5</span>);</span><br><span class="line"><span class="keyword">int</span> sx = cvFloor(fx);</span><br><span class="line"><span class="keyword">int</span> sy = cvFloor(fy);</span><br><span class="line">fx -= sx;</span><br><span class="line">fy -= sy;</span><br><span class="line">sx = min(sx, img.height());</span><br><span class="line">sx = max(<span class="number">0</span>, sx);</span><br><span class="line">sy = min(sy, img.width());</span><br><span class="line">sy = max(<span class="number">0</span>, sy);</span><br><span class="line"><span class="keyword">short</span> cbufx[<span class="number">2</span>];</span><br><span class="line"><span class="keyword">short</span> cbufy[<span class="number">2</span>];</span><br><span class="line">cbufx[<span class="number">0</span>] = cv::saturate_cast&lt;<span class="keyword">short</span>&gt;((<span class="number">1.f</span> - fx) * <span class="number">2048</span>);</span><br><span class="line"><span class="comment">/*if ((1.f - fx) * 2048 &lt; 0) &#123;</span></span><br><span class="line"><span class="comment">cbufx[0] = 0;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">else if ((1.f - fx) * 2048 &gt; 255) &#123;</span></span><br><span class="line"><span class="comment">cbufx[0] = 255;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">else &#123;</span></span><br><span class="line"><span class="comment">cbufx[0] = (1.f - fx) * 2048;</span></span><br><span class="line"><span class="comment">&#125;*/</span></span><br><span class="line">cbufx[<span class="number">1</span>] = <span class="number">2048</span> - cbufx[<span class="number">0</span>];</span><br><span class="line"><span class="comment">/*if ((1.f - fy) * 2048 &lt; 0) &#123;</span></span><br><span class="line"><span class="comment">cbufy[0] = 0;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">else if ((1.f - fy) * 2048 &gt; 255) &#123;</span></span><br><span class="line"><span class="comment">cbufy[0] = 255;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">else &#123;</span></span><br><span class="line"><span class="comment">cbufy[0] = (1.f - fy) * 2048;</span></span><br><span class="line"><span class="comment">&#125;*/</span></span><br><span class="line">cbufy[<span class="number">0</span>] = cv::saturate_cast&lt;<span class="keyword">short</span>&gt;((<span class="number">1.f</span> - fy) * <span class="number">2048</span>);</span><br><span class="line">cbufy[<span class="number">1</span>] = <span class="number">2048</span> - cbufy[<span class="number">0</span>];</span><br><span class="line">pic(i, j) = (img(sx, sy)*cbufx[<span class="number">0</span>]*cbufy[<span class="number">0</span>] + img(sx+<span class="number">1</span>,sy)*cbufx[<span class="number">1</span>]*cbufy[<span class="number">0</span>]+img(sx,sy+<span class="number">1</span>)*cbufx[<span class="number">0</span>]*cbufy[<span class="number">1</span>]+img(sx+<span class="number">1</span>,sy+<span class="number">1</span>)*cbufx[<span class="number">1</span>]*cbufy[<span class="number">1</span>]) &gt;&gt;<span class="number">22</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> pic;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;ul&gt;
&lt;li&gt;ç”¨äº†CImgåº“å’Œopencvå®ç°å›¾ç‰‡çš„ç¼©æ”¾&lt;h3 id=&quot;é¢˜ç›®ï¼š&quot;&gt;&lt;a href=&quot;#é¢˜ç›®ï¼š&quot; class=&quot;headerlink&quot; title=&quot;é¢˜ç›®ï¼š&quot;&gt;&lt;/a&gt;é¢˜ç›®ï¼š&lt;/h3&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Zooming and Shri
      
    
    </summary>
    
      <category term="æ•°å­—å›¾åƒå¤„ç†" scheme="http://yoursite.com/categories/%E6%95%B0%E5%AD%97%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/"/>
    
    
      <category term="c++" scheme="http://yoursite.com/tags/c/"/>
    
      <category term="æ•°å­—å›¾åƒå¤„ç†" scheme="http://yoursite.com/tags/%E6%95%B0%E5%AD%97%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>c++å®ç°å…«ç§ä¸åŒçš„ç°åº¦æ•ˆæœ</title>
    <link href="http://yoursite.com/2019/07/05/%E5%AE%9E%E7%8E%B0%E5%85%AB%E7%A7%8D%E4%B8%8D%E5%90%8C%E7%9A%84%E7%81%B0%E5%BA%A6%E6%95%88%E6%9E%9C/"/>
    <id>http://yoursite.com/2019/07/05/å®ç°å…«ç§ä¸åŒçš„ç°åº¦æ•ˆæœ/</id>
    <published>2019-07-05T09:08:15.000Z</published>
    <updated>2019-07-05T14:42:32.108Z</updated>
    
    <content type="html"><![CDATA[<ul><li>ä½¿ç”¨CImgåº“</li></ul><h3 id="é¢˜ç›®ï¼š"><a href="#é¢˜ç›®ï¼š" class="headerlink" title="é¢˜ç›®ï¼š"></a>é¢˜ç›®ï¼š</h3><p>Reducing the Number of Gray Levels in an Image  </p><ul><li>(a) Write a computer program capable of reducing the number of gray levels in a image from 256 to 2, in integer powers of 2.  The desired number of gray levels needs to be a variable input to your program. </li><li>(b) Download Fig. 2.21(a) and duplicate the results shown in Fig. 2.21 of the book. </li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// image2.cpp : æ­¤æ–‡ä»¶åŒ…å« "main" å‡½æ•°ã€‚ç¨‹åºæ‰§è¡Œå°†åœ¨æ­¤å¤„å¼€å§‹å¹¶ç»“æŸã€‚</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"pch.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"CImg.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;Eigen3/Eigen/Dense&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> cimg_library;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> Eigen;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++) &#123;</span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; SrcImg(<span class="string">"E:/Desktop/picture_process/Lenna/lena512.bmp"</span>);</span><br><span class="line">SrcImg.resize(SrcImg.width(), SrcImg.height(), <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line"><span class="comment">//SrcImg.display();</span></span><br><span class="line"><span class="built_in">string</span> picture = <span class="string">"picture"</span>;</span><br><span class="line"><span class="built_in">string</span> a = picture + to_string(i+<span class="number">1</span>);</span><br><span class="line"><span class="keyword">char</span>* m = (<span class="keyword">char</span>*)a.c_str();</span><br><span class="line"><span class="keyword">int</span> huidu = <span class="number">256</span>;</span><br><span class="line"><span class="keyword">switch</span> (i)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">huidu = <span class="number">256</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">huidu = <span class="number">128</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">huidu = <span class="number">64</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">huidu = <span class="number">32</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">huidu = <span class="number">16</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">huidu = <span class="number">8</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">huidu = <span class="number">4</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">huidu = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (huidu == <span class="number">256</span>) &#123;</span><br><span class="line">SrcImg.display(m);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">cimg_forXY(SrcImg, x, y) &#123;</span><br><span class="line"><span class="keyword">int</span> level = SrcImg(x, y) / (<span class="number">256</span> / huidu);</span><br><span class="line">SrcImg(x, y) = level*<span class="number">255</span>/(huidu<span class="number">-1</span>);</span><br><span class="line">&#125;</span><br><span class="line">SrcImg.display(m);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>è¿è¡Œç»“æœï¼š</strong><br><img src="https://img-blog.csdn.net/20180926194558895?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdn.net/20180926194700948?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><img src="https://img-blog.csdn.net/20180926194724614?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdn.net/20180926194749730?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdn.net/20180926194807907?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdn.net/20180926194824359?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdn.net/20180926194844868?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdn.net/20180926194905655?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;ul&gt;
&lt;li&gt;ä½¿ç”¨CImgåº“&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;é¢˜ç›®ï¼š&quot;&gt;&lt;a href=&quot;#é¢˜ç›®ï¼š&quot; class=&quot;headerlink&quot; title=&quot;é¢˜ç›®ï¼š&quot;&gt;&lt;/a&gt;é¢˜ç›®ï¼š&lt;/h3&gt;&lt;p&gt;Reducing the Number of Gray Levels in 
      
    
    </summary>
    
      <category term="æ•°å­—å›¾åƒå¤„ç†" scheme="http://yoursite.com/categories/%E6%95%B0%E5%AD%97%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/"/>
    
    
      <category term="c++" scheme="http://yoursite.com/tags/c/"/>
    
      <category term="æ•°å­—å›¾åƒå¤„ç†" scheme="http://yoursite.com/tags/%E6%95%B0%E5%AD%97%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>c++å®ç°åŠè‰²è°ƒç¨‹åº</title>
    <link href="http://yoursite.com/2019/07/05/%E5%AE%9E%E7%8E%B0%E5%8D%8A%E8%89%B2%E8%B0%83%E7%A8%8B%E5%BA%8F/"/>
    <id>http://yoursite.com/2019/07/05/å®ç°åŠè‰²è°ƒç¨‹åº/</id>
    <published>2019-07-05T09:06:36.000Z</published>
    <updated>2019-07-05T14:41:42.414Z</updated>
    
    <content type="html"><![CDATA[<ul><li>åˆ©ç”¨c++çš„CImgåº“å’Œç”¨äºçŸ©é˜µå¤„ç†çš„Eigenåº“æ¥å®ç°</li><li>ç¼–è¯‘å·¥å…·ï¼švisual stdio(å»ºè®®ä½¿ç”¨ï¼Œä¹‹å‰æˆ‘ä¹Ÿä½¿ç”¨sublimeæ¥é…ç½®c++çš„å„ç§åº“ï¼Œæ€»æ˜¯å„ç§bug)<h3 id="é¢˜ç›®ï¼š"><a href="#é¢˜ç›®ï¼š" class="headerlink" title="é¢˜ç›®ï¼š"></a>é¢˜ç›®ï¼š</h3></li></ul><p>Image Printing Program Based on Halftoning   The following figure shows ten shades of gray approximated by dot patterns.  Each gray level is represented by a 3 x 3 pattern of black and white dots.  A 3 x 3 area full of black dots is the approximation to gray-level black, or 0.  Similarly, a 3 x 3 area of white dots represents gray level 9, or white.  The other dot patterns are approximations to gray levels in between these two extremes.  A gray-level printing scheme based on dots patterns such as these is called â€œhalftoning.â€  Note that each pixel in an input image will correspond to 3 x 3 pixels on the printed image, so spatial resolution will be reduced to 33% of the original in both the vertical and horizontal direction.  Size scaling as required in (a) may further reduce resolution, depending on the size of the input image. </p><ul><li><p>(a) Write a halftoning computer program for printing gray-scale images based on the dot patterns just discussed.  Your program must be able to scale the size of an input image so that it does not exceed the area available in a sheet of size 8.5 x 11 inches (21.6 x 27.9 cm).  Your program must also scale the gray levels of the input image to span the full halftoning range.</p></li><li><p>(b) Write a program to generate a test pattern image consisting of a gray scale wedge of size 256 x 256, whose first column is all 0â€™s, the next column is all 1â€™s, and so on, with the last column being 255â€™s.  Print this image using your gray-scale printing program.</p></li><li><p>(c) Print book Figs. 2.22(a) through (c) using your gray-scale printing program.  Do your results agree with the conclusions arrived at in the text in pgs. 61-62 and Fig. 2.23?  Explain. You will need to download Figs. 2.22(a) through (c). </p><p><img src="https://img-blog.csdn.net/20180926153625918?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// image2.cpp : æ­¤æ–‡ä»¶åŒ…å« "main" å‡½æ•°ã€‚ç¨‹åºæ‰§è¡Œå°†åœ¨æ­¤å¤„å¼€å§‹å¹¶ç»“æŸã€‚</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"pch.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"CImg.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;Eigen3/Eigen/Dense&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> cimg_library;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> Eigen;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; SrcImg;</span><br><span class="line">SrcImg.load_bmp(<span class="string">"E:/Desktop/picture_process/Lenna/general_img.bmp"</span>);</span><br><span class="line"><span class="keyword">double</span> r = (<span class="keyword">double</span>)SrcImg.height() / <span class="number">272</span>;</span><br><span class="line"><span class="keyword">double</span> c = (<span class="keyword">double</span>)SrcImg.width() / <span class="number">352</span>;</span><br><span class="line"><span class="keyword">double</span> scale = max(r, c);</span><br><span class="line"><span class="keyword">if</span> (scale &gt; <span class="number">1</span>) &#123;</span><br><span class="line"><span class="keyword">double</span> s = (<span class="keyword">double</span>)<span class="number">1.0</span> / scale;</span><br><span class="line">SrcImg.resize(s*SrcImg.height(), s*SrcImg.width(),<span class="number">1</span>,<span class="number">1</span>,<span class="number">5</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">MatrixXd <span class="title">m</span><span class="params">(<span class="number">3</span>*SrcImg.height(), <span class="number">3</span>*SrcImg.width())</span></span>;</span><br><span class="line">MatrixXd dot_mat[<span class="number">10</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">dot_mat[i] = MatrixXd::Zero(<span class="number">3</span>, <span class="number">3</span>);</span><br><span class="line">&#125;</span><br><span class="line">dot_mat[<span class="number">1</span>] &lt;&lt; <span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>,</span><br><span class="line"><span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>,</span><br><span class="line"><span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>;</span><br><span class="line">dot_mat[<span class="number">2</span>] &lt;&lt; <span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>,</span><br><span class="line"><span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>,</span><br><span class="line"><span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>;</span><br><span class="line">dot_mat[<span class="number">3</span>] &lt;&lt; <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>,</span><br><span class="line"><span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>,</span><br><span class="line"><span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>;</span><br><span class="line">dot_mat[<span class="number">4</span>] &lt;&lt; <span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>,</span><br><span class="line"><span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>,</span><br><span class="line"><span class="number">255</span>, <span class="number">0</span>, <span class="number">255</span>;</span><br><span class="line">dot_mat[<span class="number">5</span>] &lt;&lt; <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>,</span><br><span class="line"><span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>,</span><br><span class="line"><span class="number">255</span>, <span class="number">0</span>, <span class="number">255</span>;</span><br><span class="line">dot_mat[<span class="number">6</span>] &lt;&lt; <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>,</span><br><span class="line"><span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>,</span><br><span class="line"><span class="number">255</span>, <span class="number">0</span>, <span class="number">255</span>;</span><br><span class="line">dot_mat[<span class="number">7</span>] &lt;&lt; <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>,</span><br><span class="line"><span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>,</span><br><span class="line"><span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>;</span><br><span class="line">dot_mat[<span class="number">8</span>] &lt;&lt; <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>,</span><br><span class="line"><span class="number">255</span>, <span class="number">0</span>, <span class="number">255</span>,</span><br><span class="line"><span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>;</span><br><span class="line">dot_mat[<span class="number">9</span>] &lt;&lt; <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>,</span><br><span class="line"><span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>,</span><br><span class="line"><span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>;</span><br><span class="line"></span><br><span class="line">cimg_forXY(SrcImg, x, y) &#123;</span><br><span class="line">SrcImg(x, y) = (<span class="keyword">int</span>)(SrcImg(x, y) / <span class="number">25.6</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//cout &lt;&lt; SrcImg(0, 0, 0) &lt;&lt; endl;</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; SrcImg.height(); i++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; SrcImg.width(); j++) &#123;</span><br><span class="line"><span class="keyword">int</span> level = SrcImg(i, j, <span class="number">0</span>);</span><br><span class="line">m.block&lt;<span class="number">3</span>,<span class="number">3</span>&gt;(i*<span class="number">3</span>,j*<span class="number">3</span>) &lt;&lt;  dot_mat[level];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">CImg&lt;<span class="keyword">int</span>&gt; tmp(m.rows(), m.cols(), <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">cimg_forXY(tmp, x, y) &#123;</span><br><span class="line">tmp(x, y) = m(x, y);</span><br><span class="line">&#125;</span><br><span class="line">tmp.display();</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>åŸå›¾</strong>ï¼š<br><img src="https://img-blog.csdn.net/20180926153844331?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><strong>å¤„ç†åçš„å›¾ç‰‡ï¼š</strong><br><img src="https://img-blog.csdn.net/2018092615394153?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;ul&gt;
&lt;li&gt;åˆ©ç”¨c++çš„CImgåº“å’Œç”¨äºçŸ©é˜µå¤„ç†çš„Eigenåº“æ¥å®ç°&lt;/li&gt;
&lt;li&gt;ç¼–è¯‘å·¥å…·ï¼švisual stdio(å»ºè®®ä½¿ç”¨ï¼Œä¹‹å‰æˆ‘ä¹Ÿä½¿ç”¨sublimeæ¥é…ç½®c++çš„å„ç§åº“ï¼Œæ€»æ˜¯å„ç§bug)&lt;h3 id=&quot;é¢˜ç›®ï¼š&quot;&gt;&lt;a href=&quot;#é¢˜ç›®ï¼š&quot; class=&quot;hea
      
    
    </summary>
    
      <category term="æ•°å­—å›¾åƒå¤„ç†" scheme="http://yoursite.com/categories/%E6%95%B0%E5%AD%97%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/"/>
    
    
      <category term="c++" scheme="http://yoursite.com/tags/c/"/>
    
      <category term="æ•°å­—å›¾åƒå¤„ç†" scheme="http://yoursite.com/tags/%E6%95%B0%E5%AD%97%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>å›¾çš„éå†</title>
    <link href="http://yoursite.com/2019/07/05/%E5%9B%BE%E7%9A%84%E9%81%8D%E5%8E%86/"/>
    <id>http://yoursite.com/2019/07/05/å›¾çš„éå†/</id>
    <published>2019-07-05T09:00:53.000Z</published>
    <updated>2019-07-05T14:40:52.796Z</updated>
    
    <content type="html"><![CDATA[<ul><li>å›¾çš„æ·±åº¦éå†å’Œå¹¿åº¦éå†</li><li>åŸºäºçš„æ•°æ®ç»“æ„æ˜¯å›¾çš„é‚»æ¥è¡¨ç»“æ„ï¼Œè¯¦ç»†å¯ä»¥çœ‹ä¸Šä¸€ç« èŠ‚ï¼ˆ<a href="https://blog.csdn.net/perry0528/article/details/82794564" target="_blank" rel="noopener">å›¾çš„å­˜å‚¨ç»“æ„</a>ï¼‰</li></ul><p><strong>æ·±åº¦éå†ï¼š</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">bool</span> visited[<span class="number">100</span>]; <span class="comment">//ç”¨äºè¡¨ç¤ºèŠ‚ç‚¹æ˜¯å¦è¢«è®¿é—®çš„æ ‡å¿—ä½</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DFS</span><span class="params">(Graph G, VertexType v)</span> </span>&#123;</span><br><span class="line">visited[v] = <span class="number">1</span>; </span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>,v);</span><br><span class="line">ArcNode *e = G.vertices[v].first;</span><br><span class="line"><span class="keyword">while</span> (e) &#123;</span><br><span class="line">VertexType w = e-&gt;adjvex;</span><br><span class="line"><span class="keyword">if</span>(!visited[w])</span><br><span class="line">DFS(G,w);</span><br><span class="line">e = e-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DFSTraverse</span><span class="params">(Graph G)</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= G.vexnum; i++) visited[i] = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= G.vexnum; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (!visited[i])</span><br><span class="line">DFS(G,i);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å›¾çš„å¹¿åº¦éå†ï¼š</strong></p><ul><li>å…¶ä¸­å¹¿åº¦éå†çš„å®ç°è°ƒç”¨äº†ä¹‹å‰å®ç°çš„ä¸€ä¸ªå¾ªç¯é˜Ÿåˆ—çš„æ¥å£</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">bool</span> visited1[<span class="number">100</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">BFSTraverse</span><span class="params">(Graph G)</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= G.vexnum; ++i) &#123;</span><br><span class="line">visited1[i] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">Queue Q;</span><br><span class="line">InitQueue(&amp;Q);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= G.vexnum; ++i) &#123;</span><br><span class="line"><span class="keyword">if</span>(!visited1[i]) &#123;</span><br><span class="line">EnQueue(&amp;Q,i);</span><br><span class="line">visited1[i] = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>,i);</span><br><span class="line"><span class="keyword">while</span>(!IsEmpty(Q)) &#123;</span><br><span class="line">VertexType u = Top(Q);</span><br><span class="line">DeQueue(&amp;Q);</span><br><span class="line">ArcNode *e = G.vertices[u].first;</span><br><span class="line"><span class="keyword">while</span> (e) &#123;</span><br><span class="line">VertexType w = e-&gt;adjvex;</span><br><span class="line"><span class="keyword">if</span>(!visited1[w]) &#123;</span><br><span class="line">visited1[w] = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>,w);</span><br><span class="line">EnQueue(&amp;Q, w);</span><br><span class="line">&#125;</span><br><span class="line">e = e-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">DestroyQueue(&amp;Q);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ä¸‹é¢æ˜¯åŒ…å«å›¾çš„åˆ›å»ºçš„ä¸€ä¸ªåŸºæœ¬å®ç°ï¼š</strong></p><ul><li><p>Adj_DFS.c</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdbool.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"queue.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Vertex_Num 100</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> VertexType;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å­˜å‚¨å¼§çš„ç»“ç‚¹</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">ArcNode</span> &#123;</span></span><br><span class="line"><span class="keyword">int</span> adjvex; <span class="comment">//è¯¥å¼§æ‰€æŒ‡å‘çš„é¡¶ç‚¹çš„ä½ç½®</span></span><br><span class="line"><span class="keyword">int</span> info; <span class="comment">//è¯¥å¼§çš„æƒå€¼</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ArcNode</span> *<span class="title">next</span>;</span> <span class="comment">//æŒ‡å‘ä¸‹ä¸€æ¡å¼§çš„æŒ‡é’ˆ</span></span><br><span class="line">&#125;ArcNode;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å­˜å‚¨é¡¶ç‚¹çš„ç»“ç‚¹</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">VNode</span> &#123;</span></span><br><span class="line">VertexType data;</span><br><span class="line">ArcNode *first;<span class="comment">//æŒ‡å‘ç¬¬ä¸€æ¡ä¾é™„è¯¥é¡¶ç‚¹çš„å¼§çš„æŒ‡é’ˆ</span></span><br><span class="line">&#125;VNode, AdjList[Vertex_Num];</span><br><span class="line"></span><br><span class="line"><span class="comment">//å›¾</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">AdjList vertices;</span><br><span class="line"><span class="keyword">int</span> vexnum, arcnum; <span class="comment">//å›¾çš„é¡¶ç‚¹æ•°å’Œå¼§æ•°</span></span><br><span class="line">&#125;Graph;</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> visited[<span class="number">100</span>];</span><br><span class="line"><span class="keyword">bool</span> visited1[<span class="number">100</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CreateGraph</span><span class="params">(Graph *G)</span> </span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥é¡¶ç‚¹æ•°ï¼Œè¾¹æ•°:\n"</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;G-&gt;vexnum, &amp;G-&gt;arcnum);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥é¡¶ç‚¹\n"</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= G-&gt;vexnum; i++) &#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;G-&gt;vertices[i].data);</span><br><span class="line">G-&gt;vertices[i].first = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"è¯·é€‰æ‹©ä½ è¦å»ºç«‹çš„å­˜å‚¨ç±»å‹ï¼Œ1è¡¨ç¤ºé‚»æ¥è¡¨ï¼Œ0è¡¨ç¤ºé€†é‚»æ¥è¡¨:\n"</span>);</span><br><span class="line"><span class="keyword">int</span> choice;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;choice);</span><br><span class="line"><span class="keyword">int</span> vex1, vex2, weight;</span><br><span class="line"><span class="keyword">if</span> (choice != <span class="number">1</span> &amp;&amp; choice != <span class="number">0</span>) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"è¾“å…¥æœ‰é”™ï¼Œè¯·é‡æ–°è¾“å…¥\n"</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;choice);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (choice == <span class="number">1</span>) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j =<span class="number">1</span>; j &lt;= G-&gt;arcnum; j++) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥è¾¹çš„ä¸¤ä¸ªé¡¶ç‚¹ä»¥åŠæƒå€¼:\n"</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;vex1, &amp;vex2, &amp;weight);</span><br><span class="line">ArcNode *edge = (ArcNode*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(ArcNode));</span><br><span class="line">edge-&gt;adjvex = vex2;</span><br><span class="line">edge-&gt;info = weight;</span><br><span class="line">ArcNode *e = G-&gt;vertices[vex1].first;</span><br><span class="line"><span class="keyword">if</span> (e == <span class="literal">NULL</span>) &#123;</span><br><span class="line">G-&gt;vertices[vex1].first = edge;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">while</span> (e-&gt;next != <span class="literal">NULL</span>) e = e-&gt;next;</span><br><span class="line">e-&gt;next = edge;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (choice == <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j =<span class="number">1</span>; j &lt;= G-&gt;arcnum; j++) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥è¾¹çš„ä¸¤ä¸ªé¡¶ç‚¹ä»¥åŠæƒå€¼:\n"</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;vex1, &amp;vex2, &amp;weight);</span><br><span class="line">ArcNode *edge = (ArcNode*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(ArcNode));</span><br><span class="line">edge-&gt;adjvex = vex1;</span><br><span class="line">edge-&gt;info = weight;</span><br><span class="line">edge-&gt;next = G-&gt;vertices[vex2].first;</span><br><span class="line">G-&gt;vertices[vex2].first = edge;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DFS</span><span class="params">(Graph G, VertexType v)</span> </span>&#123;</span><br><span class="line">visited[v] = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>,v);</span><br><span class="line">ArcNode *e = G.vertices[v].first;</span><br><span class="line"><span class="keyword">while</span> (e) &#123;</span><br><span class="line">VertexType w = e-&gt;adjvex;</span><br><span class="line"><span class="keyword">if</span>(!visited[w])</span><br><span class="line">DFS(G,w);</span><br><span class="line">e = e-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DFSTraverse</span><span class="params">(Graph G)</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= G.vexnum; i++) visited[i] = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= G.vexnum; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (!visited[i])</span><br><span class="line">DFS(G,i);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">BFSTraverse</span><span class="params">(Graph G)</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= G.vexnum; ++i) &#123;</span><br><span class="line">visited1[i] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">Queue Q;</span><br><span class="line">InitQueue(&amp;Q);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= G.vexnum; ++i) &#123;</span><br><span class="line"><span class="keyword">if</span>(!visited1[i]) &#123;</span><br><span class="line">EnQueue(&amp;Q,i);</span><br><span class="line">visited1[i] = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>,i);</span><br><span class="line"><span class="keyword">while</span>(!IsEmpty(Q)) &#123;</span><br><span class="line">VertexType u = Top(Q);</span><br><span class="line">DeQueue(&amp;Q);</span><br><span class="line">ArcNode *e = G.vertices[u].first;</span><br><span class="line"><span class="keyword">while</span> (e) &#123;</span><br><span class="line">VertexType w = e-&gt;adjvex;</span><br><span class="line"><span class="keyword">if</span>(!visited1[w]) &#123;</span><br><span class="line">visited1[w] = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>,w);</span><br><span class="line">EnQueue(&amp;Q, w);</span><br><span class="line">&#125;</span><br><span class="line">e = e-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">DestroyQueue(&amp;Q);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Graph G;</span><br><span class="line">    CreateGraph(&amp;G);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= G.vexnum; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"|%d|-&gt;"</span>, G.vertices[i].data);</span><br><span class="line">        ArcNode *e = G.vertices[i].first;</span><br><span class="line">        <span class="keyword">while</span>(e != <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d-&gt;"</span>, e-&gt;adjvex);</span><br><span class="line">            e = e-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"NULL\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"æ·±åº¦ä¼˜å…ˆéå†\n"</span>);</span><br><span class="line">    DFSTraverse(G);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"å¹¿åº¦ä¼˜å…ˆéå†\n"</span>);</span><br><span class="line">    BFSTraverse(G);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>queue.h</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> QUEUE_H_</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> QUEUE_H_</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdbool.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXQSIZE 6</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> OK 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ERROR 0</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> OVERFLOW -1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> Item;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">Item *base;</span><br><span class="line"><span class="keyword">int</span> front;</span><br><span class="line"><span class="keyword">int</span> rear;</span><br><span class="line">&#125;Queue;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*initialize the queue*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">InitQueue</span><span class="params">(Queue *q)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*return the length of the queue*/</span></span><br><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="keyword">int</span> <span class="title">QueueLength</span><span class="params">(Queue q)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*Destroy the queue*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DestroyQueue</span><span class="params">(Queue *q)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*determine if the queue is empty*/</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">IsEmpty</span><span class="params">(Queue q)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*determine if the queue is full*/</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">IsFull</span><span class="params">(Queue q)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*return the head elem of the queue*/</span></span><br><span class="line"><span class="function">Item <span class="title">Top</span><span class="params">(Queue q)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*return the back elem of the queue*/</span></span><br><span class="line"><span class="function">Item <span class="title">Back</span><span class="params">(Queue q)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*enqueue, insert the rear*/</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">EnQueue</span><span class="params">(Queue *q, Item e)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*dequeue, pop the front*/</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">DeQueue</span><span class="params">(Queue *q)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*print the queue*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PrintQueue</span><span class="params">(Queue q)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure></li><li><p>queue.c</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"queue.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">InitQueue</span><span class="params">(Queue *q)</span> </span>&#123;</span><br><span class="line">q-&gt;base = (Item*)<span class="built_in">malloc</span>(MAXQSIZE * <span class="keyword">sizeof</span>(Item));</span><br><span class="line"><span class="keyword">if</span> (q-&gt;base == <span class="literal">NULL</span>)</span><br><span class="line"><span class="built_in">exit</span>(OVERFLOW);</span><br><span class="line">q-&gt;front = <span class="number">0</span>;</span><br><span class="line">q-&gt;rear = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*return the length of the queue*/</span></span><br><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="keyword">int</span> <span class="title">QueueLength</span><span class="params">(Queue q)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> (q.rear - q.front + MAXQSIZE) % MAXQSIZE;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*Destroy the queue*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DestroyQueue</span><span class="params">(Queue *q)</span> </span>&#123;</span><br><span class="line">q-&gt;base = <span class="literal">NULL</span>;</span><br><span class="line">q-&gt;rear = <span class="number">0</span>;</span><br><span class="line">q-&gt;front = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">free</span>(q-&gt;base);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*determine if the queue is empty*/</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">IsEmpty</span><span class="params">(Queue q)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> q.rear == q.front;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">IsFull</span><span class="params">(Queue q)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> (q.rear + <span class="number">1</span>) % MAXQSIZE == q.front;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*return the head elem of the queue*/</span></span><br><span class="line"><span class="function">Item <span class="title">Top</span><span class="params">(Queue q)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> q.base[q.front];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*return the back elem of the queue*/</span></span><br><span class="line"><span class="function">Item <span class="title">Back</span><span class="params">(Queue q)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> q.base[(q.rear - <span class="number">1</span> + MAXQSIZE) % MAXQSIZE];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*enqueue, insert the rear*/</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">EnQueue</span><span class="params">(Queue *q, Item e)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (IsFull(*q))</span><br><span class="line"><span class="keyword">return</span> ERROR;</span><br><span class="line">q-&gt;base[q-&gt;rear] = e;</span><br><span class="line">q-&gt;rear = (q-&gt;rear + <span class="number">1</span>) % MAXQSIZE;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> OK;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*dequeue, pop the front*/</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">DeQueue</span><span class="params">(Queue *q)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span>(IsEmpty(*q))</span><br><span class="line"><span class="keyword">return</span> ERROR;</span><br><span class="line">q-&gt;front = (q-&gt;front + <span class="number">1</span>) % MAXQSIZE;</span><br><span class="line"><span class="keyword">return</span> OK;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*print the queue*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PrintQueue</span><span class="params">(Queue q)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> i, j;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>, j = q.front; i &lt; QueueLength(q); i++, j = (j + <span class="number">1</span>) % MAXQSIZE) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>,q.base[j]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ç”¨äºæ£€éªŒçš„æµ‹è¯•èŒƒä¾‹ï¼Œè¾“å…¥æ–‡æœ¬ã€in.txtã€‘ï¼š</p></li></ul><p><img src="https://img-blog.csdn.net/20180925211532398?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">8 </span><span class="number">18</span></span><br><span class="line"><span class="symbol">1 </span><span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="symbol">1 </span><span class="number">2</span> <span class="number">1</span></span><br><span class="line"><span class="symbol">1 </span><span class="number">3</span> <span class="number">1</span></span><br><span class="line"><span class="symbol">2 </span><span class="number">1</span> <span class="number">1</span></span><br><span class="line"><span class="symbol">2 </span><span class="number">4</span> <span class="number">1</span></span><br><span class="line"><span class="symbol">2 </span><span class="number">5</span> <span class="number">1</span></span><br><span class="line"><span class="symbol">3 </span><span class="number">1</span> <span class="number">1</span></span><br><span class="line"><span class="symbol">3 </span><span class="number">6</span> <span class="number">1</span></span><br><span class="line"><span class="symbol">3 </span><span class="number">7</span> <span class="number">1</span></span><br><span class="line"><span class="symbol">4 </span><span class="number">2</span> <span class="number">1</span></span><br><span class="line"><span class="symbol">4 </span><span class="number">8</span> <span class="number">1</span></span><br><span class="line"><span class="symbol">5 </span><span class="number">2</span> <span class="number">1</span></span><br><span class="line"><span class="symbol">5 </span><span class="number">8</span> <span class="number">1</span></span><br><span class="line"><span class="symbol">6 </span><span class="number">3</span> <span class="number">1</span></span><br><span class="line"><span class="symbol">6 </span><span class="number">7</span> <span class="number">1</span></span><br><span class="line"><span class="symbol">7 </span><span class="number">3</span> <span class="number">1</span></span><br><span class="line"><span class="symbol">7 </span><span class="number">6</span> <span class="number">1</span></span><br><span class="line"><span class="symbol">8 </span><span class="number">4</span> <span class="number">1</span></span><br><span class="line"><span class="symbol">8 </span><span class="number">5</span> <span class="number">1</span></span><br></pre></td></tr></table></figure><ul><li>è¿è¡Œç»“æœï¼š</li></ul><p><img src="https://img-blog.csdn.net/20180925211619828?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;ul&gt;
&lt;li&gt;å›¾çš„æ·±åº¦éå†å’Œå¹¿åº¦éå†&lt;/li&gt;
&lt;li&gt;åŸºäºçš„æ•°æ®ç»“æ„æ˜¯å›¾çš„é‚»æ¥è¡¨ç»“æ„ï¼Œè¯¦ç»†å¯ä»¥çœ‹ä¸Šä¸€ç« èŠ‚ï¼ˆ&lt;a href=&quot;https://blog.csdn.net/perry0528/article/details/82794564&quot; target=&quot;_blank&quot; r
      
    
    </summary>
    
      <category term="æ•°æ®ç»“æ„" scheme="http://yoursite.com/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
    
      <category term="c" scheme="http://yoursite.com/tags/c/"/>
    
      <category term="æ•°æ®ç»“æ„" scheme="http://yoursite.com/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>å›¾çš„å››ç§å­˜å‚¨ç»“æ„çš„å®ç°</title>
    <link href="http://yoursite.com/2019/07/05/%E5%9B%BE%E7%9A%84%E5%9B%9B%E7%A7%8D%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84%E7%9A%84%E5%AE%9E%E7%8E%B0/"/>
    <id>http://yoursite.com/2019/07/05/å›¾çš„å››ç§å­˜å‚¨ç»“æ„çš„å®ç°/</id>
    <published>2019-07-05T08:59:35.000Z</published>
    <updated>2019-07-05T14:40:08.912Z</updated>
    
    <content type="html"><![CDATA[<p><strong>1. æ•°ç»„è¡¨ç¤ºæ³•ï¼ˆé‚»æ¥çŸ©é˜µæ³•ï¼‰ï¼š</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;limits.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INFINITY INT_MAX</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Maxvex 100</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">graph</span> &#123;</span></span><br><span class="line"><span class="keyword">int</span> vexs[Maxvex+<span class="number">1</span>];  <span class="comment">//é¡¶ç‚¹</span></span><br><span class="line"><span class="keyword">int</span> AdjMatrix[Maxvex+<span class="number">1</span>][Maxvex+<span class="number">1</span>]; <span class="comment">//é‚»æ¥çŸ©é˜µ</span></span><br><span class="line"><span class="keyword">int</span> vexsnum, edgenum; <span class="comment">//é¡¶ç‚¹æ•°ï¼Œè¾¹æ•°</span></span><br><span class="line">&#125;Graph;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CreateGraph</span><span class="params">(Graph *G)</span> </span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥é¡¶ç‚¹æ•°ï¼Œè¾¹æ•°ï¼š"</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;G-&gt;vexsnum, &amp;G-&gt;edgenum);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= G-&gt;vexsnum; i++) &#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;G-&gt;vexs[i]);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= G-&gt;vexsnum; j++) &#123;</span><br><span class="line">G-&gt;AdjMatrix[i][j] = INFINITY;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> row, col, w;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= G-&gt;edgenum; i++) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"è¾“å…¥è¾¹åæ ‡i,j,æƒå€¼:"</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>,&amp;row, &amp;col, &amp;w);</span><br><span class="line">G-&gt;AdjMatrix[row][col] = w;</span><br><span class="line">G-&gt;AdjMatrix[col][row] = w;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">Graph G;</span><br><span class="line">CreateGraph(&amp;G);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>2.é‚»æ¥è¡¨</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Vertex_Num 100</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> VertexType;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å­˜å‚¨å¼§çš„ç»“ç‚¹</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">ArcNode</span> &#123;</span></span><br><span class="line"><span class="keyword">int</span> adjvex; <span class="comment">//è¯¥å¼§æ‰€æŒ‡å‘çš„é¡¶ç‚¹çš„ä½ç½®</span></span><br><span class="line"><span class="keyword">int</span> info; <span class="comment">//è¯¥å¼§çš„æƒå€¼</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ArcNode</span> *<span class="title">next</span>;</span> <span class="comment">//æŒ‡å‘ä¸‹ä¸€æ¡å¼§çš„æŒ‡é’ˆ</span></span><br><span class="line">&#125;ArcNode;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å­˜å‚¨é¡¶ç‚¹çš„ç»“ç‚¹</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">VNode</span> &#123;</span></span><br><span class="line">VertexType data;</span><br><span class="line">ArcNode *first;<span class="comment">//æŒ‡å‘ç¬¬ä¸€æ¡ä¾é™„è¯¥é¡¶ç‚¹çš„å¼§çš„æŒ‡é’ˆ</span></span><br><span class="line">&#125;VNode, AdjList[Vertex_Num];</span><br><span class="line"></span><br><span class="line"><span class="comment">//å›¾</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">AdjList vertices;</span><br><span class="line"><span class="keyword">int</span> vexnum, arcnum; <span class="comment">//å›¾çš„é¡¶ç‚¹æ•°å’Œå¼§æ•°</span></span><br><span class="line">&#125;Graph;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CreateGraph</span><span class="params">(Graph *G)</span> </span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥é¡¶ç‚¹æ•°ï¼Œè¾¹æ•°:\n"</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;G-&gt;vexnum, &amp;G-&gt;arcnum);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥é¡¶ç‚¹\n"</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= G-&gt;vexnum; i++) &#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;G-&gt;vertices[i].data);</span><br><span class="line">G-&gt;vertices[i].first = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"è¯·é€‰æ‹©ä½ è¦å»ºç«‹çš„å­˜å‚¨ç±»å‹ï¼Œ1è¡¨ç¤ºé‚»æ¥è¡¨ï¼Œ0è¡¨ç¤ºé€†é‚»æ¥è¡¨:\n"</span>);</span><br><span class="line"><span class="keyword">int</span> choice;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;choice);</span><br><span class="line"><span class="keyword">int</span> vex1, vex2, weight;</span><br><span class="line"><span class="keyword">if</span> (choice != <span class="number">1</span> &amp;&amp; choice != <span class="number">0</span>) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"è¾“å…¥æœ‰é”™ï¼Œè¯·é‡æ–°è¾“å…¥\n"</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;choice);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (choice == <span class="number">1</span>) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j =<span class="number">1</span>; j &lt;= G-&gt;arcnum; j++) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥è¾¹çš„ä¸¤ä¸ªé¡¶ç‚¹ä»¥åŠæƒå€¼:\n"</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;vex1, &amp;vex2, &amp;weight);</span><br><span class="line">ArcNode *edge = (ArcNode*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(ArcNode));</span><br><span class="line">edge-&gt;adjvex = vex2;</span><br><span class="line">edge-&gt;info = weight;</span><br><span class="line">edge-&gt;next = G-&gt;vertices[vex1].first;</span><br><span class="line">G-&gt;vertices[vex1].first = edge;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (choice == <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j =<span class="number">1</span>; j &lt;= G-&gt;arcnum; j++) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥è¾¹çš„ä¸¤ä¸ªé¡¶ç‚¹ä»¥åŠæƒå€¼:\n"</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;vex1, &amp;vex2, &amp;weight);</span><br><span class="line">ArcNode *edge = (ArcNode*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(ArcNode));</span><br><span class="line">edge-&gt;adjvex = vex1;</span><br><span class="line">edge-&gt;info = weight;</span><br><span class="line">edge-&gt;next = G-&gt;vertices[vex2].first;</span><br><span class="line">G-&gt;vertices[vex2].first = edge;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Graph G;</span><br><span class="line">    CreateGraph(&amp;G);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= G.vexnum; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"|%d|-&gt;"</span>, G.vertices[i].data);</span><br><span class="line">        ArcNode *e = G.vertices[i].first;</span><br><span class="line">        <span class="keyword">while</span>(e != <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d-&gt;"</span>, e-&gt;adjvex);</span><br><span class="line">            e = e-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"NULL\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š</p><ul><li>é‚»æ¥è¡¨ï¼š</li></ul><p><img src="https://img-blog.csdn.net/20180921205516312?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><ul><li>é€†é‚»æ¥è¡¨ï¼š<br><img src="https://img-blog.csdn.net/20180921205617481?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><strong>c++æŒ‰é¡ºåºå®ç°ï¼š</strong><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é‚»æ¥è¡¨å’Œé€†é‚»æ¥è¡¨çš„c++è¡¨ç¤º</span></span><br><span class="line"><span class="comment">//ä¸»è¦è¡¨ç°çš„ä¸ºæœ‰å‘å›¾</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;malloc.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Vertex_Num 20</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ArcNode</span> &#123;</span></span><br><span class="line"><span class="keyword">int</span> adjvex;</span><br><span class="line">ArcNode *nextarc;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">VNode</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">int</span> data;</span><br><span class="line">ArcNode *first;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> VNode AdjList[Vertex_Num];</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Graph</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">AdjList vertices;</span><br><span class="line"><span class="keyword">int</span> vexnum, arcnum; <span class="comment">//å›¾çš„é¡¶ç‚¹æ•°å’Œå¼§æ•°</span></span><br><span class="line"><span class="keyword">int</span> kind;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">findData</span><span class="params">(AdjList adj, <span class="keyword">int</span> num, <span class="keyword">int</span> v)</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; num; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (adj[i].data == v) &#123;</span><br><span class="line"><span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CreateGraph</span><span class="params">(Graph *G)</span> </span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"è¯·è¾“å…¥é¡¶ç‚¹æ•°å’Œå¼§æ•°: "</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; G-&gt;vexnum &gt;&gt; G-&gt;arcnum;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"è¯·è¾“å…¥é¡¶ç‚¹: "</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; G-&gt;vexnum; i++) &#123;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; G-&gt;vertices[i].data;</span><br><span class="line">G-&gt;vertices[i].first = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"è¯·è¾“å…¥ä½ è¦å­˜å‚¨çš„ç±»å‹: 0è¡¨ç¤ºé‚»æ¥è¡¨, 1è¡¨ç¤ºé€†é‚»æ¥è¡¨: "</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; G-&gt;kind;</span><br><span class="line"><span class="keyword">if</span> (G-&gt;kind == <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; G-&gt;arcnum; i++) &#123;</span><br><span class="line"><span class="keyword">int</span> v1, v2;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"è¯·è¾“å…¥è¦å­˜å‚¨çš„å¼§å°¾å’Œå¼§å¤´ï¼š"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; v1 &gt;&gt; v2;</span><br><span class="line"><span class="keyword">int</span> i0 = findData(G-&gt;vertices, G-&gt;vexnum, v1);</span><br><span class="line">ArcNode *arc0 = <span class="keyword">new</span> ArcNode;</span><br><span class="line">arc0-&gt;adjvex = v2;</span><br><span class="line">arc0-&gt;nextarc = <span class="literal">NULL</span>;</span><br><span class="line"><span class="keyword">if</span> (G-&gt;vertices[i0].first == <span class="literal">NULL</span>) &#123;</span><br><span class="line">G-&gt;vertices[i0].first = arc0;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">ArcNode *head = G-&gt;vertices[i0].first;</span><br><span class="line"><span class="keyword">while</span> (head-&gt;nextarc != <span class="literal">NULL</span>) &#123;</span><br><span class="line">head = head-&gt;nextarc;</span><br><span class="line">&#125;</span><br><span class="line">head-&gt;nextarc = arc0;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (G-&gt;kind == <span class="number">1</span>) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; G-&gt;arcnum; i++) &#123;</span><br><span class="line"><span class="keyword">int</span> v1, v2;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"è¯·è¾“å…¥è¦å­˜å‚¨çš„å¼§å°¾å’Œå¼§å¤´ï¼š"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; v2 &gt;&gt; v1;</span><br><span class="line"><span class="keyword">int</span> i0 = findData(G-&gt;vertices, G-&gt;vexnum, v1);</span><br><span class="line">ArcNode *arc0 = <span class="keyword">new</span> ArcNode;</span><br><span class="line">arc0-&gt;adjvex = v2;</span><br><span class="line">arc0-&gt;nextarc = <span class="literal">NULL</span>;</span><br><span class="line"><span class="keyword">if</span> (G-&gt;vertices[i0].first == <span class="literal">NULL</span>) &#123;</span><br><span class="line">G-&gt;vertices[i0].first = arc0;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">ArcNode *head = G-&gt;vertices[i0].first;</span><br><span class="line"><span class="keyword">while</span> (head-&gt;nextarc != <span class="literal">NULL</span>) &#123;</span><br><span class="line">head = head-&gt;nextarc;</span><br><span class="line">&#125;</span><br><span class="line">head-&gt;nextarc = arc0;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"è¾“å…¥é”™è¯¯ï¼"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PrintGraph</span><span class="params">(Graph G)</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; G.vexnum; i++) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"|"</span> &lt;&lt; G.vertices[i].data &lt;&lt; <span class="string">"|"</span> &lt;&lt; <span class="string">"-&gt;"</span>;</span><br><span class="line">ArcNode *head = G.vertices[i].first;</span><br><span class="line"><span class="keyword">while</span> (head != <span class="literal">NULL</span>) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; head-&gt;adjvex &lt;&lt; <span class="string">"-&gt;"</span>;</span><br><span class="line">head = head-&gt;nextarc;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"NULL"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">Graph g;</span><br><span class="line">CreateGraph(&amp;g);</span><br><span class="line">PrintGraph(g);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><img src="https://img-blog.csdnimg.cn/20190120031445425.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><img src="https://img-blog.csdnimg.cn/20190120031526945.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><strong>3. åå­—é“¾è¡¨ï¼š</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// - - - - - æœ‰å‘å›¾çš„åå­—é“¾è¡¨å­˜å‚¨ç»“æ„ - - - - -</span></span><br><span class="line"><span class="comment">//ç›¸å½“äºæŠŠæœ‰å‘å›¾çš„é‚»æ¥è¡¨å’Œé€†é‚»æ¥è¡¨ç»“åˆåˆ°ä¸€èµ·å¾—åˆ°çš„ä¸€ç§é“¾è¡¨</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> VERTEX_NUM 100</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> VertexType;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¼§ç»“ç‚¹</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">ArcBox</span> &#123;</span></span><br><span class="line"><span class="keyword">int</span> tailvex, headvex; <span class="comment">//å¼§å¤´å’Œå¼§å°¾çš„ä½ç½®</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ArcBox</span> *<span class="title">hlink</span>, *<span class="title">tlink</span>;</span> <span class="comment">//åˆ†åˆ«æŒ‡å‘ä¸‹ä¸€ä¸ªå¼§å¤´å’Œå¼§å°¾ç›¸åŒçš„é“¾åŸŸ</span></span><br><span class="line"><span class="keyword">int</span> info;  <span class="comment">//å¼§çš„æƒå€¼</span></span><br><span class="line">&#125;ArcBox;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é¡¶ç‚¹ç»“ç‚¹</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">VexNode</span> &#123;</span></span><br><span class="line">VertexType data;</span><br><span class="line">ArcBox *firstin, *firstout;</span><br><span class="line">&#125;VexNode;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å›¾</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">VexNode xlist[VERTEX_NUM]; <span class="comment">//è¡¨å¤´å‘é‡</span></span><br><span class="line"><span class="keyword">int</span> vexnum, arcnum; <span class="comment">//æœ‰å‘å›¾çš„å½“å‰é¡¶ç‚¹æ•°å’Œå¼§æ•°</span></span><br><span class="line">&#125;Graph;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CreateGraph</span><span class="params">(Graph *G)</span> </span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥é¡¶ç‚¹æ•°ï¼Œå¼§æ•°:\n"</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;G-&gt;vexnum, &amp;G-&gt;arcnum);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥é¡¶ç‚¹:\n"</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= G-&gt;vexnum; i++) &#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;G-&gt;xlist[i].data);</span><br><span class="line">G-&gt;xlist[i].firstin = <span class="literal">NULL</span>;</span><br><span class="line">G-&gt;xlist[i].firstout = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> vex1, vex2, weight;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= G-&gt;arcnum; i++) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥å¼§å°¾ï¼Œå¼§å¤´ï¼Œå¼§çš„æƒå€¼\n"</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>,&amp;vex1, &amp;vex2, &amp;weight);</span><br><span class="line">ArcBox *e = (ArcBox*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(ArcBox));</span><br><span class="line">e-&gt;tailvex = vex1;</span><br><span class="line">e-&gt;headvex = vex2;</span><br><span class="line">e-&gt;tlink = <span class="literal">NULL</span>;</span><br><span class="line">e-&gt;hlink = <span class="literal">NULL</span>;</span><br><span class="line">e-&gt;tlink = G-&gt;xlist[vex1].firstout;</span><br><span class="line">G-&gt;xlist[vex1].firstout = e;</span><br><span class="line">e-&gt;hlink = G-&gt;xlist[vex2].firstin;</span><br><span class="line">G-&gt;xlist[vex2].firstin = e;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>4. é‚»æ¥å¤šé‡è¡¨ï¼š</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// - - - - - å›¾çš„é‚»æ¥å¤šé‡è¡¨å­˜å‚¨è¡¨ç¤º - - - - -</span></span><br><span class="line"><span class="comment">// - - - - - - æ›´é€‚ç”¨äºæ— å‘å›¾ - - - - - -</span></span><br><span class="line"><span class="comment">// - - ç›¸æ¯”é‚»æ¥è¡¨æ›´æ–¹ä¾¿å¯¹æŸä¸€æ¡è¾¹è¿›è¡Œæ“ä½œ - -</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdbool.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> VERTEX_NUM 100</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> &#123;unvisited, visited&#125; VisitIf;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> VertexType;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">EBox</span> &#123;</span></span><br><span class="line">VisitIf mark; <span class="comment">//è®¿é—®æ ‡è®°</span></span><br><span class="line"><span class="keyword">int</span> ivex, jvex;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">EBox</span> *<span class="title">ilink</span>, *<span class="title">jlink</span>;</span> <span class="comment">//åˆ†åˆ«æŒ‡å‘ä¾é™„è¿™ä¸¤ä¸ªé¡¶ç‚¹çš„ä¸‹ä¸€æ¡è¾¹</span></span><br><span class="line"><span class="keyword">int</span> info; <span class="comment">//æƒå€¼</span></span><br><span class="line">&#125;EBox;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">VexBox</span> &#123;</span></span><br><span class="line">VertexType data;</span><br><span class="line">EBox *firstedge; <span class="comment">//æŒ‡å‘ç¬¬ä¸€æ¡ä¾é™„è¯¥é¡¶ç‚¹çš„è¾¹</span></span><br><span class="line">&#125;VexBox;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">VexBox adjmulist[VERTEX_NUM];</span><br><span class="line"><span class="keyword">int</span> vexnum, edgenum; <span class="comment">//å›¾çš„é¡¶ç‚¹æ•°å’Œå¼§æ•°</span></span><br><span class="line">&#125;Graph;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CreateGraph</span><span class="params">(Graph *G)</span> </span>&#123;</span><br><span class="line"><span class="comment">//G = (Graph*)malloc(sizeof(Graph)); </span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥ç‚¹æ•°ï¼Œå¼§æ•°\n"</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;G-&gt;vexnum, &amp;G-&gt;edgenum);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥é¡¶ç‚¹\n"</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= G-&gt;vexnum; i++) &#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;G-&gt;adjmulist[i].data);</span><br><span class="line">G-&gt;adjmulist[i].firstedge = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> v1, v2, weight;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">1</span>; k &lt;= G-&gt;edgenum; k++) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"è¯·è¾“å…¥ä¸¤ä¸ªé¡¶ç‚¹v1,v2ä»¥åŠå¼§çš„æƒå€¼\n"</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>,&amp;v1,&amp;v2,&amp;weight);</span><br><span class="line">EBox *edge = (EBox*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(EBox));</span><br><span class="line">edge-&gt;mark = unvisited;</span><br><span class="line">edge-&gt;ivex = v1;</span><br><span class="line">edge-&gt;jvex = v2;</span><br><span class="line">edge-&gt;info = weight;</span><br><span class="line">edge-&gt;ilink = <span class="literal">NULL</span>;</span><br><span class="line">edge-&gt;jlink = <span class="literal">NULL</span>;</span><br><span class="line">EBox *p = G-&gt;adjmulist[v1].firstedge;</span><br><span class="line"><span class="keyword">if</span> (!p) &#123;</span><br><span class="line">G-&gt;adjmulist[v1].firstedge = edge;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">while</span>((p-&gt;ilink != <span class="literal">NULL</span> &amp;&amp; p-&gt;ivex == v1) || (p-&gt;jlink != <span class="literal">NULL</span> &amp;&amp; p-&gt;jvex == v1)) &#123;</span><br><span class="line"><span class="keyword">if</span>(v1 == p-&gt;ivex) </span><br><span class="line">p = p-&gt;ilink; </span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line">p = p-&gt;jlink; </span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">if</span>(p-&gt;ivex == v1) p-&gt;ilink = edge; </span><br><span class="line"><span class="keyword">else</span> p-&gt;jlink = edge;  </span><br><span class="line">&#125;</span><br><span class="line">p = G-&gt;adjmulist[v2].firstedge;</span><br><span class="line"><span class="keyword">if</span> (!p) &#123;</span><br><span class="line">G-&gt;adjmulist[v2].firstedge = edge;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">while</span>((p-&gt;ilink != <span class="literal">NULL</span> &amp;&amp; p-&gt;ivex == v2) || (p-&gt;jlink != <span class="literal">NULL</span> &amp;&amp; p-&gt;jvex == v2)) &#123;</span><br><span class="line"><span class="keyword">if</span>(v2 == p-&gt;ivex) </span><br><span class="line">p = p-&gt;ilink; </span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">p = p-&gt;jlink; </span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">if</span>(p-&gt;ivex == v2) p-&gt;ilink = edge; </span><br><span class="line"><span class="keyword">else</span> p-&gt;jlink = edge; </span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PrintGraph</span><span class="params">(Graph G)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    EBox *p;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= G.vexnum; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        p = G.adjmulist[i].firstedge;</span><br><span class="line">        <span class="keyword">while</span>(p != <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(p-&gt;ivex == i)    <span class="comment">//åˆ¤æ–­ç›¸ç­‰æ‰èƒ½çŸ¥é“è¿æ¥ä¸Šçš„æ˜¯ivexè¿˜æ˜¯jvex;</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%d--%d\n"</span>, G.adjmulist[p-&gt;ivex].data, G.adjmulist[p-&gt;jvex].data);</span><br><span class="line">                p = p-&gt;ilink;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%d--%d\n"</span>, G.adjmulist[p-&gt;jvex].data, G.adjmulist[p-&gt;ivex].data);</span><br><span class="line">                p = p-&gt;jlink;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">Graph G;</span><br><span class="line">CreateGraph(&amp;G);</span><br><span class="line">PrintGraph(G);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>è¿è¡Œç»“æœï¼š</strong><br><img src="https://img-blog.csdn.net/20180921205942347?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><strong>c++å®ç°ï¼š</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ— å‘å›¾çš„é‚»æ¥å¤šé‡è¡¨</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_VERTEX_NUM 20</span></span><br><span class="line"><span class="keyword">enum</span> VisitIf &#123;unvisited, visited&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">EBox</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">VisitIf mark; <span class="comment">//è®¿é—®æ ‡è®°</span></span><br><span class="line"><span class="keyword">int</span> ivex, jvex; <span class="comment">//è¯¥è¾¹ä¾é™„çš„ä¸¤ä¸ªé¡¶ç‚¹ä½ç½®</span></span><br><span class="line">EBox *ilink, *jlink; <span class="comment">//åˆ†åˆ«æŒ‡å‘ä¾é™„è¿™ä¸¤ä¸ªé¡¶ç‚¹çš„ä¸‹ä¸€æ¡è¾¹</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">VexBox</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">T data;</span><br><span class="line">EBox *firstedge; <span class="comment">//æŒ‡å‘ç¬¬ä¸€æ¡ä¾é™„è¯¥é¡¶ç‚¹çš„è¾¹</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AMLGraph</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">VexBox&lt;T&gt; adjmulist[MAX_VERTEX_NUM];</span><br><span class="line"><span class="keyword">int</span> vexnum, edgenum; <span class="comment">//æ— å‘å›¾çš„å½“å‰é¡¶ç‚¹æ•°å’Œè¾¹æ•°</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">LocateVex</span><span class="params">(VexBox&lt;T&gt; adj[], <span class="keyword">int</span> num, T v)</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; num; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (adj[i].data == v) &#123;</span><br><span class="line"><span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CreateGraph</span><span class="params">(AMLGraph&lt;T&gt; *G)</span> </span>&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"è¯·è¾“å…¥é¡¶ç‚¹æ•°å’Œå¼§æ•°: "</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; G-&gt;vexnum &gt;&gt; G-&gt;edgenum;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"è¯·è¾“å…¥é¡¶ç‚¹: "</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; G-&gt;vexnum; i++) &#123;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; G-&gt;adjmulist[i].data;</span><br><span class="line">G-&gt;adjmulist[i].firstedge = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; G-&gt;edgenum; i++) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"è¯·è¾“å…¥è¾¹çš„ä¸¤ä¸ªé¡¶ç‚¹: "</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">T v1, v2;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; v1 &gt;&gt; v2;</span><br><span class="line"><span class="keyword">int</span> i1 = LocateVex(G-&gt;adjmulist, G-&gt;vexnum, v1);</span><br><span class="line"><span class="keyword">int</span> i2 = LocateVex(G-&gt;adjmulist, G-&gt;vexnum, v2);</span><br><span class="line"><span class="comment">//cout &lt;&lt; i1 &lt;&lt; "...." &lt;&lt; i2 &lt;&lt; endl;</span></span><br><span class="line">EBox *p = <span class="keyword">new</span> EBox;</span><br><span class="line">p-&gt;mark = unvisited;</span><br><span class="line">p-&gt;ivex = i1;</span><br><span class="line">p-&gt;jvex = i2;</span><br><span class="line">p-&gt;ilink = G-&gt;adjmulist[i1].firstedge;</span><br><span class="line">p-&gt;jlink = G-&gt;adjmulist[i2].firstedge;</span><br><span class="line">G-&gt;adjmulist[i1].firstedge = p;</span><br><span class="line">G-&gt;adjmulist[i2].firstedge = p;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PrintGraph</span><span class="params">(AMLGraph&lt;T&gt; G)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    EBox *p;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; G.vexnum; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        p = G.adjmulist[i].firstedge;</span><br><span class="line">        <span class="keyword">while</span>(p != <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(p-&gt;ivex == i)    <span class="comment">//åˆ¤æ–­ç›¸ç­‰æ‰èƒ½çŸ¥é“è¿æ¥ä¸Šçš„æ˜¯ivexè¿˜æ˜¯jvex;</span></span><br><span class="line">            &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt;  G.adjmulist[p-&gt;ivex].data &lt;&lt; <span class="string">"------"</span> &lt;&lt; G.adjmulist[p-&gt;jvex].data &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                <span class="comment">//printf("%d--%d\n", G.adjmulist[p-&gt;ivex].data, G.adjmulist[p-&gt;jvex].data);</span></span><br><span class="line">                p = p-&gt;ilink;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">               <span class="built_in">cout</span> &lt;&lt;  G.adjmulist[p-&gt;jvex].data &lt;&lt; <span class="string">"------"</span> &lt;&lt; G.adjmulist[p-&gt;ivex].data &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                p = p-&gt;jlink;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">AMLGraph&lt;<span class="built_in">string</span>&gt; g;</span><br><span class="line">CreateGraph(&amp;g);</span><br><span class="line">PrintGraph(g);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20190120163425983.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æ€»ç»“ä¸€ä¸‹ä»¥ä¸Šæ‰€æœ‰çš„è¡¨ç¤ºå½¢å¼ä¸­ï¼Œé‚»æ¥çŸ©é˜µæœ‰å‘æ— å‘å›¾éƒ½å¯ç”¨ï¼Œä½†å¸¸ç”¨äºè¡¨ç°æ— å‘å›¾ã€‚é‚»æ¥è¡¨ä¹Ÿæ˜¯æœ‰å‘æ— å‘éƒ½å¯ç”¨ï¼Œä½†å› ä¸ºè¡¨ç¤ºæ— å‘å›¾ä¼šä½¿è¾¹é‡å¤æ˜¾å¾—ç¹çï¼Œæ‰€ä»¥å¸¸ç”¨äºè¡¨ç¤ºæœ‰å‘å›¾ã€‚åå­—é“¾è¡¨æ˜¯å°†æœ‰å‘å›¾çš„é‚»æ¥è¡¨å’Œé€†é‚»æ¥è¡¨ç›¸ç»“åˆä½¿ç”¨ã€‚è€Œé‚»æ¥å¤šé‡è¡¨ç›¸å½“äºæ— å‘å›¾çš„åå­—é“¾è¡¨è¡¨ç¤ºæ³•ã€‚æ— å‘å›¾æˆ‘ä»¬å¸¸ç”¨é‚»æ¥çŸ©é˜µå’Œé‚»æ¥å¤šé‡è¡¨è¡¨ç¤ºï¼Œå°¤å…¶é‚»æ¥å¤šé‡è¡¨å¯é¿å…åŒè¾¹çš„é‡å¤è®¿é—®ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;strong&gt;1. æ•°ç»„è¡¨ç¤ºæ³•ï¼ˆé‚»æ¥çŸ©é˜µæ³•ï¼‰ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight c&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span
      
    
    </summary>
    
      <category term="æ•°æ®ç»“æ„" scheme="http://yoursite.com/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
    
      <category term="c" scheme="http://yoursite.com/tags/c/"/>
    
      <category term="æ•°æ®ç»“æ„" scheme="http://yoursite.com/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>å“ˆå¤«æ›¼æ ‘åŠå“ˆå¤«æ›¼ç¼–ç çš„å®ç°</title>
    <link href="http://yoursite.com/2019/07/05/%E5%93%88%E5%A4%AB%E6%9B%BC%E6%A0%91%E5%8F%8A%E5%93%88%E5%A4%AB%E6%9B%BC%E7%BC%96%E7%A0%81%E7%9A%84%E5%AE%9E%E7%8E%B0/"/>
    <id>http://yoursite.com/2019/07/05/å“ˆå¤«æ›¼æ ‘åŠå“ˆå¤«æ›¼ç¼–ç çš„å®ç°/</id>
    <published>2019-07-05T08:57:33.000Z</published>
    <updated>2019-07-05T14:38:16.309Z</updated>
    
    <content type="html"><![CDATA[<ul><li>ä»£ç å¸¦æœ‰æ³¨é‡Šï¼Œä¸è¯¦ç»†è§£é‡Šï¼Œæ£€æµ‹é‡‡ç”¨ä¸¥è”šæ•è€å¸ˆæ•°æ®ç»“æ„çš„ä¸€ä¸ªèŒƒä¾‹</li></ul><p><strong>HuffmanCode.h</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> _HUFFMANCODE_H_</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _HUFFMANCODE_H_</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdbool.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> weight;</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> parent, lchild, rchild;</span><br><span class="line"></span><br><span class="line">&#125;HTNode, *HuffmanTree;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">char</span> ** HuffmanCode;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">HuffmanCoding</span><span class="params">(HuffmanTree *HT, HuffmanCode *HC, <span class="keyword">int</span> *w, <span class="keyword">int</span> n)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure><p><strong>HuffmanCode.c</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"HuffmanCode.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;limits.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Select</span><span class="params">(HuffmanTree HT, <span class="keyword">int</span> n, <span class="keyword">int</span> *s1, <span class="keyword">int</span> *s2)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">HuffmanCoding</span><span class="params">(HuffmanTree *HT, HuffmanCode *HC, <span class="keyword">int</span> *w, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (n&lt;=<span class="number">1</span>)</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line"><span class="keyword">int</span> m = <span class="number">2</span> * n - <span class="number">1</span>;</span><br><span class="line">(*HT) = (HuffmanTree)<span class="built_in">malloc</span>((m+<span class="number">1</span>)*<span class="keyword">sizeof</span>(HTNode));</span><br><span class="line">HuffmanTree p = (*HT) + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">int</span> i, s1, s2;</span><br><span class="line"><span class="keyword">for</span> (p = (*HT) + <span class="number">1</span>, i = <span class="number">1</span>; i &lt;= n; ++i, ++p, ++w) &#123;</span><br><span class="line">(*p).weight = *w;</span><br><span class="line">(*p).parent = <span class="number">0</span>;</span><br><span class="line">(*p).lchild = <span class="number">0</span>;</span><br><span class="line">(*p).rchild = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (; i &lt;= m; ++i, ++p) &#123;</span><br><span class="line">(*p).weight = <span class="number">0</span>;</span><br><span class="line">(*p).parent = <span class="number">0</span>;</span><br><span class="line">(*p).lchild = <span class="number">0</span>;</span><br><span class="line">(*p).rchild = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (i = n + <span class="number">1</span>; i &lt;= m; ++i) &#123;</span><br><span class="line">Select((*HT), i<span class="number">-1</span>, &amp;s1, &amp;s2);</span><br><span class="line">(*HT)[s1].parent = i;</span><br><span class="line">(*HT)[s2].parent = i;</span><br><span class="line">(*HT)[i].lchild = s1;</span><br><span class="line">(*HT)[i].rchild = s2;</span><br><span class="line">(*HT)[i].weight = (*HT)[s1].weight + (*HT)[s2].weight;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// - - - ä»å¶å­åˆ°æ ¹é€†å‘æ±‚æ¯ä¸ªå­—ç¬¦çš„å“ˆå¤«æ›¼ç¼–ç  - - -</span></span><br><span class="line">(*HC) = (HuffmanCode)<span class="built_in">malloc</span>((n+<span class="number">1</span>)*<span class="keyword">sizeof</span>(<span class="keyword">char</span>*)); <span class="comment">//åˆ†é…nä¸ªå­—ç¬¦ç¼–ç çš„å¤´æŒ‡é’ˆå‘é‡</span></span><br><span class="line"><span class="keyword">char</span> *cd = (<span class="keyword">char</span>*)<span class="built_in">malloc</span>(n*<span class="keyword">sizeof</span>(<span class="keyword">char</span>)); <span class="comment">//åˆ†é…æ±‚ç¼–ç çš„å·¥ä½œç©ºé—´</span></span><br><span class="line"> cd[n<span class="number">-1</span>] = <span class="string">'\0'</span>;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</span><br><span class="line"><span class="keyword">int</span> start = n - <span class="number">1</span>;</span><br><span class="line"><span class="keyword">int</span> c, f;</span><br><span class="line"><span class="keyword">for</span> (c = i, f = (*HT)[i].parent; f != <span class="number">0</span>; c = f, f = (*HT)[f].parent)</span><br><span class="line"><span class="keyword">if</span> ((*HT)[f].lchild == c)</span><br><span class="line">cd[--start] = <span class="string">'0'</span>;</span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line">cd[--start] = <span class="string">'1'</span>;</span><br><span class="line">(*HC)[i] = (<span class="keyword">char</span>*)<span class="built_in">malloc</span>((n - start) * <span class="keyword">sizeof</span>(<span class="keyword">char</span>));</span><br><span class="line"><span class="comment">/*for (int j = 0; j &lt; start; j++) &#123;</span></span><br><span class="line"><span class="comment">cd++;</span></span><br><span class="line"><span class="comment">&#125;*/</span></span><br><span class="line"><span class="built_in">strcpy</span>((*HC)[i], &amp;cd[start]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">free</span>(cd);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Select</span><span class="params">(HuffmanTree HT, <span class="keyword">int</span> n, <span class="keyword">int</span> *s1, <span class="keyword">int</span> *s2)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> min = INT_MAX, semin = INT_MAX;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</span><br><span class="line"><span class="keyword">if</span> (HT[i].parent == <span class="number">0</span> &amp;&amp; HT[i].weight &lt; min) &#123;</span><br><span class="line">min = HT[i].weight;</span><br><span class="line">*s1 = i;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">HT[*s1].parent = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</span><br><span class="line"><span class="keyword">if</span> (HT[i].parent == <span class="number">0</span> &amp;&amp; HT[i].weight &lt; semin) &#123;</span><br><span class="line">semin = HT[i].weight;</span><br><span class="line">*s2 = i;</span><br><span class="line"><span class="comment">//HT[i].parent = 1;</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(*s1&gt;*s2) &#123;</span><br><span class="line">    <span class="keyword">int</span> j=*s1;</span><br><span class="line">    *s1=*s2;</span><br><span class="line">    *s2=j;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//printf("%d\n%d\n",*s1,*s2);</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>main.c</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"HuffmanCode.h"</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">HuffmanTree T;</span><br><span class="line">HuffmanCode C;</span><br><span class="line"><span class="keyword">int</span> w[<span class="number">8</span>] = &#123;<span class="number">5</span>,<span class="number">29</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">14</span>,<span class="number">23</span>,<span class="number">3</span>,<span class="number">11</span>&#125;;</span><br><span class="line">HuffmanCoding(&amp;T, &amp;C, w, <span class="number">8</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">8</span>; i++) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%s\n"</span>,C[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç¤ºä¾‹ï¼š</p><p><img src="https://img-blog.csdn.net/20180918112416405?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><img src="https://img-blog.csdn.net/20180918112442174?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><strong>è¿è¡Œç»“æœï¼š</strong></p><p><img src="https://img-blog.csdn.net/20180918112507414?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;ul&gt;
&lt;li&gt;ä»£ç å¸¦æœ‰æ³¨é‡Šï¼Œä¸è¯¦ç»†è§£é‡Šï¼Œæ£€æµ‹é‡‡ç”¨ä¸¥è”šæ•è€å¸ˆæ•°æ®ç»“æ„çš„ä¸€ä¸ªèŒƒä¾‹&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;HuffmanCode.h&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight c&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;
      
    
    </summary>
    
      <category term="æ•°æ®ç»“æ„" scheme="http://yoursite.com/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
    
      <category term="c" scheme="http://yoursite.com/tags/c/"/>
    
      <category term="æ•°æ®ç»“æ„" scheme="http://yoursite.com/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>CImgåº“çš„é…ç½®ä»¥åŠç®€å•ä½¿ç”¨</title>
    <link href="http://yoursite.com/2019/07/05/CImg%E5%BA%93%E7%9A%84%E9%85%8D%E7%BD%AE%E4%BB%A5%E5%8F%8A%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/"/>
    <id>http://yoursite.com/2019/07/05/CImgåº“çš„é…ç½®ä»¥åŠç®€å•ä½¿ç”¨/</id>
    <published>2019-07-05T08:56:02.000Z</published>
    <updated>2019-07-05T14:37:21.544Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-CImgçš„é…ç½®"><a href="#1-CImgçš„é…ç½®" class="headerlink" title="1. CImgçš„é…ç½®"></a>1. CImgçš„é…ç½®</h2><ul><li>ä¸‹è½½CImgçš„åŒ…åˆ°æŒ‡å®šçš„æ–‡ä»¶å¤¹ä¸‹ï¼Œè§£å‹</li><li>ç„¶ååªéœ€è¦åœ¨ç¼–å†™çš„cppæˆ–hppæ–‡ä»¶ä¸­åŠ å…¥</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"XX/CImg.h"</span> <span class="comment">// XX/æ˜¯æŒ‡CImgæ‰€åœ¨çš„è·¯å¾„</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> cimg_library;</span><br></pre></td></tr></table></figure><ul><li>ç¼–è¯‘å‘½ä»¤ï¼ˆ<strong>ç¯å¢ƒä¸ºwindowsä¸‹çš„MinGW</strong>ï¼‰</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">g++ -o HelloWorld.exe HelloWorld.cpp -O2 -lgdi32</span><br></pre></td></tr></table></figure><h2 id="2-ç®€å•ä½¿ç”¨"><a href="#2-ç®€å•ä½¿ç”¨" class="headerlink" title="2.ç®€å•ä½¿ç”¨"></a>2.ç®€å•ä½¿ç”¨</h2><h3 id="1-è¯»å…¥1-bmp-æ–‡ä»¶"><a href="#1-è¯»å…¥1-bmp-æ–‡ä»¶" class="headerlink" title="1. è¯»å…¥1.bmp æ–‡ä»¶"></a>1. è¯»å…¥1.bmp æ–‡ä»¶</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CImg&lt;<span class="keyword">unsigned</span> <span class="keyword">char</span>&gt; SrcImg;</span><br><span class="line">SrcImg.load_bmp(<span class="string">"1.bmp"</span>);</span><br></pre></td></tr></table></figure><h3 id="2-ç”¨CImg-display-æ˜¾ç¤º"><a href="#2-ç”¨CImg-display-æ˜¾ç¤º" class="headerlink" title="2. ç”¨CImg.display() æ˜¾ç¤º"></a>2. ç”¨CImg.display() æ˜¾ç¤º</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test_display</span><span class="params">(CImg&lt;<span class="keyword">unsigned</span> <span class="keyword">char</span>&gt; SrcImg)</span> </span>&#123;</span><br><span class="line">SrcImg.display(<span class="string">"work1"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdn.net/20180911172504476?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><h3 id="3-æŠŠ1-bmpæ–‡ä»¶çš„ç™½è‰²åŒºåŸŸå˜æˆçº¢è‰²ï¼Œé»‘è‰²åŒºåŸŸå˜æˆç»¿è‰²"><a href="#3-æŠŠ1-bmpæ–‡ä»¶çš„ç™½è‰²åŒºåŸŸå˜æˆçº¢è‰²ï¼Œé»‘è‰²åŒºåŸŸå˜æˆç»¿è‰²" class="headerlink" title="3. æŠŠ1.bmpæ–‡ä»¶çš„ç™½è‰²åŒºåŸŸå˜æˆçº¢è‰²ï¼Œé»‘è‰²åŒºåŸŸå˜æˆç»¿è‰²"></a>3. æŠŠ1.bmpæ–‡ä»¶çš„ç™½è‰²åŒºåŸŸå˜æˆçº¢è‰²ï¼Œé»‘è‰²åŒºåŸŸå˜æˆç»¿è‰²</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test_change</span><span class="params">(CImg&lt;<span class="keyword">unsigned</span> <span class="keyword">char</span>&gt; SrcImg)</span> </span>&#123;</span><br><span class="line">CImg&lt;<span class="keyword">unsigned</span> <span class="keyword">char</span>&gt; Img = SrcImg;</span><br><span class="line">cimg_forXY(Img, x, y) &#123;</span><br><span class="line"><span class="keyword">if</span> (Img(x,y,<span class="number">0</span>) == <span class="number">255</span> &amp;&amp; Img(x,y,<span class="number">1</span>) == <span class="number">255</span> &amp;&amp; Img(x,y,<span class="number">2</span>) == <span class="number">255</span>) &#123;</span><br><span class="line">Img(x,y,<span class="number">0</span>) = <span class="number">255</span>;</span><br><span class="line">Img(x,y,<span class="number">1</span>) = <span class="number">0</span>;</span><br><span class="line">Img(x,y,<span class="number">2</span>) = <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line">cimg_forXY(Img, x, y) &#123;</span><br><span class="line"><span class="keyword">if</span> (Img(x,y,<span class="number">0</span>) == <span class="number">0</span> &amp;&amp; Img(x,y,<span class="number">1</span>) == <span class="number">0</span> &amp;&amp; Img(x,y,<span class="number">2</span>) == <span class="number">0</span>) &#123;</span><br><span class="line">Img(x,y,<span class="number">0</span>) = <span class="number">0</span>;</span><br><span class="line">Img(x,y,<span class="number">1</span>) = <span class="number">255</span>;</span><br><span class="line">Img(x,y,<span class="number">2</span>) = <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line">Img.display(<span class="string">"work2"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdn.net/20180911172720226?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><h3 id="4-åœ¨å›¾ä¸Šç»˜åˆ¶ä¸€ä¸ªåœ†å½¢åŒºåŸŸï¼Œåœ†å¿ƒåæ ‡-50-50-ï¼ŒåŠå¾„ä¸º30ï¼Œå¡«å……é¢œè‰²ä¸ºè“è‰²"><a href="#4-åœ¨å›¾ä¸Šç»˜åˆ¶ä¸€ä¸ªåœ†å½¢åŒºåŸŸï¼Œåœ†å¿ƒåæ ‡-50-50-ï¼ŒåŠå¾„ä¸º30ï¼Œå¡«å……é¢œè‰²ä¸ºè“è‰²" class="headerlink" title="4. åœ¨å›¾ä¸Šç»˜åˆ¶ä¸€ä¸ªåœ†å½¢åŒºåŸŸï¼Œåœ†å¿ƒåæ ‡(50,50)ï¼ŒåŠå¾„ä¸º30ï¼Œå¡«å……é¢œè‰²ä¸ºè“è‰²"></a>4. åœ¨å›¾ä¸Šç»˜åˆ¶ä¸€ä¸ªåœ†å½¢åŒºåŸŸï¼Œåœ†å¿ƒåæ ‡(50,50)ï¼ŒåŠå¾„ä¸º30ï¼Œå¡«å……é¢œè‰²ä¸ºè“è‰²</h3><ul><li><strong>æœªä½¿ç”¨CImgçš„æ¥å£å‡½æ•°</strong><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawCircle_blue1</span><span class="params">(CImg &lt;<span class="keyword">unsigned</span> <span class="keyword">char</span>&gt; TempImg)</span> </span>&#123;</span><br><span class="line">CImg&lt;<span class="keyword">unsigned</span> <span class="keyword">char</span>&gt; SrcImg = TempImg;</span><br><span class="line">cimg_forXY(SrcImg, x, y) &#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">pow</span>(<span class="built_in">pow</span>(x<span class="number">-50</span>,<span class="number">2</span>)+<span class="built_in">pow</span>(y<span class="number">-50</span>,<span class="number">2</span>),<span class="number">0.5</span>) &lt; <span class="number">30</span>) &#123;</span><br><span class="line">SrcImg(x,y,<span class="number">0</span>) = <span class="number">0</span>;</span><br><span class="line">SrcImg(x,y,<span class="number">1</span>) = <span class="number">0</span>;</span><br><span class="line">SrcImg(x,y,<span class="number">2</span>) = <span class="number">255</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">SrcImg.display(<span class="string">"work3.1"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><img src="https://img-blog.csdn.net/20180911172703683?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><ul><li><strong>ä½¿ç”¨æ¥å£å‡½æ•°draw_circle()</strong><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawCircle_blue2</span><span class="params">(CImg &lt;<span class="keyword">unsigned</span> <span class="keyword">char</span>&gt; TempImg)</span> </span>&#123;</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">char</span> blue[] = &#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">255</span>&#125;;</span><br><span class="line">TempImg.draw_circle(<span class="number">50</span>, <span class="number">50</span>, <span class="number">30</span>, blue);</span><br><span class="line">TempImg.display(<span class="string">"work3.2"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><img src="https://img-blog.csdn.net/20180911173035507?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><h5 id="PS-è¿™ä¸ªæ„Ÿè§‰è‡ªå·±å®ç°çš„ç®—æ³•å’Œæ¥å£å‡½æ•°å®ç°çš„æ•ˆæœå·®ä¸å¤š"><a href="#PS-è¿™ä¸ªæ„Ÿè§‰è‡ªå·±å®ç°çš„ç®—æ³•å’Œæ¥å£å‡½æ•°å®ç°çš„æ•ˆæœå·®ä¸å¤š" class="headerlink" title="PS: è¿™ä¸ªæ„Ÿè§‰è‡ªå·±å®ç°çš„ç®—æ³•å’Œæ¥å£å‡½æ•°å®ç°çš„æ•ˆæœå·®ä¸å¤š"></a><em>PS: è¿™ä¸ªæ„Ÿè§‰è‡ªå·±å®ç°çš„ç®—æ³•å’Œæ¥å£å‡½æ•°å®ç°çš„æ•ˆæœå·®ä¸å¤š</em></h5><h3 id="5-åœ¨å›¾ä¸Šç»˜åˆ¶ä¸€ä¸ªåœ†å½¢åŒºåŸŸï¼Œåœ†å¿ƒåæ ‡-50-50-ï¼ŒåŠå¾„ä¸º3ï¼Œå¡«å……é¢œè‰²ä¸ºé»„è‰²"><a href="#5-åœ¨å›¾ä¸Šç»˜åˆ¶ä¸€ä¸ªåœ†å½¢åŒºåŸŸï¼Œåœ†å¿ƒåæ ‡-50-50-ï¼ŒåŠå¾„ä¸º3ï¼Œå¡«å……é¢œè‰²ä¸ºé»„è‰²" class="headerlink" title="5. åœ¨å›¾ä¸Šç»˜åˆ¶ä¸€ä¸ªåœ†å½¢åŒºåŸŸï¼Œåœ†å¿ƒåæ ‡(50,50)ï¼ŒåŠå¾„ä¸º3ï¼Œå¡«å……é¢œè‰²ä¸ºé»„è‰²"></a>5. åœ¨å›¾ä¸Šç»˜åˆ¶ä¸€ä¸ªåœ†å½¢åŒºåŸŸï¼Œåœ†å¿ƒåæ ‡(50,50)ï¼ŒåŠå¾„ä¸º3ï¼Œå¡«å……é¢œè‰²ä¸ºé»„è‰²</h3><ul><li><strong>æœªä½¿ç”¨CImgçš„æ¥å£å‡½æ•°</strong><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawCircle_yellow1</span><span class="params">(CImg &lt;<span class="keyword">unsigned</span> <span class="keyword">char</span>&gt; TempImg)</span> </span>&#123;</span><br><span class="line">CImg&lt;<span class="keyword">unsigned</span> <span class="keyword">char</span>&gt; SrcImg = TempImg;</span><br><span class="line">cimg_forXY(SrcImg, x, y) &#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">pow</span>(<span class="built_in">pow</span>(x<span class="number">-50</span>,<span class="number">2</span>)+<span class="built_in">pow</span>(y<span class="number">-50</span>,<span class="number">2</span>),<span class="number">0.5</span>) &lt; <span class="number">3</span>) &#123;</span><br><span class="line">SrcImg(x,y,<span class="number">0</span>) = <span class="number">200</span>;</span><br><span class="line">SrcImg(x,y,<span class="number">1</span>) = <span class="number">155</span>;</span><br><span class="line">SrcImg(x,y,<span class="number">2</span>) = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">SrcImg.display(<span class="string">"work4.1"</span>);</span><br><span class="line">&#125;</span><br><span class="line">![è¿™é‡Œå†™å›¾ç‰‡æè¿°](https:<span class="comment">//img-blog.csdn.net/20180911172544111?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)</span></span><br></pre></td></tr></table></figure></li></ul><p><img src="https://img-blog.csdn.net/20180911172642532?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><ul><li><strong>ä½¿ç”¨æ¥å£å‡½æ•°draw_circle()</strong></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawCircle_yellow2</span><span class="params">(CImg &lt;<span class="keyword">unsigned</span> <span class="keyword">char</span>&gt; TempImg)</span> </span>&#123;</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">char</span> yellow[] = &#123;<span class="number">200</span>, <span class="number">155</span>, <span class="number">0</span>&#125;;</span><br><span class="line">TempImg.draw_circle(<span class="number">50</span>, <span class="number">50</span>, <span class="number">3</span>, yellow);</span><br><span class="line">TempImg.display(<span class="string">"work4.2"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdn.net/20180911173109345?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><h5 id="PS-è¿™ä¸ªè™½ç„¶æ¥å£å‡½æ•°çš„æ•ˆæœä¹Ÿå¹¶ä¸æ˜¯ç‰¹åˆ«å¥½ï¼Œä½†æ˜¯æ˜æ˜¾æ¯”æˆ‘çš„è¦å¥½å¾ˆå¤šï¼Œä½†æ˜¯å› ä¸ºéå†å›¾ç‰‡çš„åƒç´ ç‚¹æ˜¯å¯¹å›¾ç‰‡è¿›è¡Œé‡‡æ ·æ‰€ä»¥ç‚¹åæ ‡ä¸ºæ•´æ•°å€¼ï¼Œåœ†çš„åŠå¾„è¶Šå°æ„å‘³ç€æˆ‘ä»¬å–çš„åƒç´ ç‚¹èŒƒå›´è¶Šå°‘ï¼Œç‚¹è¶Šå°‘ï¼Œæ‰€ä»¥å›¾ç‰‡çš„æ•ˆæœä¼šè¾ƒå·®ï¼Œç”šè‡³æ¥è¿‘æ­£æ–¹å½¢ï¼Œå¯èƒ½æ¥å£çš„å‡½æ•°æœ‰æ›´å¥½çš„å®ç°æ–¹æ³•ï¼Œå°è¯•å»ç¿»äº†ç¿»æºç æ²¡å¤ªçœ‹æ‡‚"><a href="#PS-è¿™ä¸ªè™½ç„¶æ¥å£å‡½æ•°çš„æ•ˆæœä¹Ÿå¹¶ä¸æ˜¯ç‰¹åˆ«å¥½ï¼Œä½†æ˜¯æ˜æ˜¾æ¯”æˆ‘çš„è¦å¥½å¾ˆå¤šï¼Œä½†æ˜¯å› ä¸ºéå†å›¾ç‰‡çš„åƒç´ ç‚¹æ˜¯å¯¹å›¾ç‰‡è¿›è¡Œé‡‡æ ·æ‰€ä»¥ç‚¹åæ ‡ä¸ºæ•´æ•°å€¼ï¼Œåœ†çš„åŠå¾„è¶Šå°æ„å‘³ç€æˆ‘ä»¬å–çš„åƒç´ ç‚¹èŒƒå›´è¶Šå°‘ï¼Œç‚¹è¶Šå°‘ï¼Œæ‰€ä»¥å›¾ç‰‡çš„æ•ˆæœä¼šè¾ƒå·®ï¼Œç”šè‡³æ¥è¿‘æ­£æ–¹å½¢ï¼Œå¯èƒ½æ¥å£çš„å‡½æ•°æœ‰æ›´å¥½çš„å®ç°æ–¹æ³•ï¼Œå°è¯•å»ç¿»äº†ç¿»æºç æ²¡å¤ªçœ‹æ‡‚" class="headerlink" title="PS: è¿™ä¸ªè™½ç„¶æ¥å£å‡½æ•°çš„æ•ˆæœä¹Ÿå¹¶ä¸æ˜¯ç‰¹åˆ«å¥½ï¼Œä½†æ˜¯æ˜æ˜¾æ¯”æˆ‘çš„è¦å¥½å¾ˆå¤šï¼Œä½†æ˜¯å› ä¸ºéå†å›¾ç‰‡çš„åƒç´ ç‚¹æ˜¯å¯¹å›¾ç‰‡è¿›è¡Œé‡‡æ ·æ‰€ä»¥ç‚¹åæ ‡ä¸ºæ•´æ•°å€¼ï¼Œåœ†çš„åŠå¾„è¶Šå°æ„å‘³ç€æˆ‘ä»¬å–çš„åƒç´ ç‚¹èŒƒå›´è¶Šå°‘ï¼Œç‚¹è¶Šå°‘ï¼Œæ‰€ä»¥å›¾ç‰‡çš„æ•ˆæœä¼šè¾ƒå·®ï¼Œç”šè‡³æ¥è¿‘æ­£æ–¹å½¢ï¼Œå¯èƒ½æ¥å£çš„å‡½æ•°æœ‰æ›´å¥½çš„å®ç°æ–¹æ³•ï¼Œå°è¯•å»ç¿»äº†ç¿»æºç æ²¡å¤ªçœ‹æ‡‚"></a><em>PS: è¿™ä¸ªè™½ç„¶æ¥å£å‡½æ•°çš„æ•ˆæœä¹Ÿå¹¶ä¸æ˜¯ç‰¹åˆ«å¥½ï¼Œä½†æ˜¯æ˜æ˜¾æ¯”æˆ‘çš„è¦å¥½å¾ˆå¤šï¼Œä½†æ˜¯å› ä¸ºéå†å›¾ç‰‡çš„åƒç´ ç‚¹æ˜¯å¯¹å›¾ç‰‡è¿›è¡Œé‡‡æ ·æ‰€ä»¥ç‚¹åæ ‡ä¸ºæ•´æ•°å€¼ï¼Œåœ†çš„åŠå¾„è¶Šå°æ„å‘³ç€æˆ‘ä»¬å–çš„åƒç´ ç‚¹èŒƒå›´è¶Šå°‘ï¼Œç‚¹è¶Šå°‘ï¼Œæ‰€ä»¥å›¾ç‰‡çš„æ•ˆæœä¼šè¾ƒå·®ï¼Œç”šè‡³æ¥è¿‘æ­£æ–¹å½¢ï¼Œå¯èƒ½æ¥å£çš„å‡½æ•°æœ‰æ›´å¥½çš„å®ç°æ–¹æ³•ï¼Œå°è¯•å»ç¿»äº†ç¿»æºç æ²¡å¤ªçœ‹æ‡‚</em></h5><h3 id="6-åœ¨å›¾ä¸Šç»˜åˆ¶ä¸€æ¡é•¿ä¸º100çš„ç›´çº¿æ®µï¼Œèµ·ç‚¹åæ ‡ä¸º-0-0-ï¼Œæ–¹å‘è§’ä¸º35åº¦ï¼Œç›´çº¿çš„é¢œè‰²ä¸ºè“è‰²"><a href="#6-åœ¨å›¾ä¸Šç»˜åˆ¶ä¸€æ¡é•¿ä¸º100çš„ç›´çº¿æ®µï¼Œèµ·ç‚¹åæ ‡ä¸º-0-0-ï¼Œæ–¹å‘è§’ä¸º35åº¦ï¼Œç›´çº¿çš„é¢œè‰²ä¸ºè“è‰²" class="headerlink" title="6. åœ¨å›¾ä¸Šç»˜åˆ¶ä¸€æ¡é•¿ä¸º100çš„ç›´çº¿æ®µï¼Œèµ·ç‚¹åæ ‡ä¸º(0, 0)ï¼Œæ–¹å‘è§’ä¸º35åº¦ï¼Œç›´çº¿çš„é¢œè‰²ä¸ºè“è‰²"></a>6. åœ¨å›¾ä¸Šç»˜åˆ¶ä¸€æ¡é•¿ä¸º100çš„ç›´çº¿æ®µï¼Œèµ·ç‚¹åæ ‡ä¸º(0, 0)ï¼Œæ–¹å‘è§’ä¸º35åº¦ï¼Œç›´çº¿çš„é¢œè‰²ä¸ºè“è‰²</h3><ul><li><strong>æœªä½¿ç”¨CImgçš„æ¥å£å‡½æ•°</strong><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawLine1</span><span class="params">(CImg &lt;<span class="keyword">unsigned</span> <span class="keyword">char</span>&gt; TempImg)</span> </span>&#123;</span><br><span class="line">CImg&lt;<span class="keyword">unsigned</span> <span class="keyword">char</span>&gt; SrcImg = TempImg;</span><br><span class="line"><span class="keyword">double</span> x0 = <span class="number">100</span>*<span class="built_in">cos</span>(<span class="number">35</span>*pi/<span class="number">180</span>);</span><br><span class="line"><span class="keyword">double</span> y0 = <span class="number">100</span>*<span class="built_in">sin</span>(<span class="number">35</span>*pi/<span class="number">180</span>);</span><br><span class="line">cimg_forXY(SrcImg, x, y) &#123;</span><br><span class="line"><span class="keyword">if</span> (x == <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (y == <span class="number">0</span>) &#123;</span><br><span class="line">SrcImg(x,y,<span class="number">0</span>) = <span class="number">0</span>;</span><br><span class="line">SrcImg(x,y,<span class="number">1</span>) = <span class="number">0</span>;</span><br><span class="line">SrcImg(x,y,<span class="number">2</span>) = <span class="number">255</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (cmp((<span class="keyword">double</span>)y, (<span class="keyword">double</span>)x*<span class="built_in">tan</span>(<span class="number">35</span>*pi/<span class="number">180</span>)) &amp;&amp; (<span class="keyword">double</span>)x &lt;= x0 &amp;&amp; (<span class="keyword">double</span>)y &lt;= y0) &#123;</span><br><span class="line">SrcImg(x,y,<span class="number">0</span>) = <span class="number">0</span>;</span><br><span class="line">SrcImg(x,y,<span class="number">1</span>) = <span class="number">0</span>;</span><br><span class="line">SrcImg(x,y,<span class="number">2</span>) = <span class="number">255</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">SrcImg.display(<span class="string">"work5.1"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç”¨äºä¸Šé¢å‡½æ•°çš„ä¸€ä¸ªè¾…åŠ©å‡½æ•°ï¼Œæ¥åˆ¤æ–­ç›¸ç­‰æ¡ä»¶</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="keyword">double</span> x , <span class="keyword">double</span> y)</span> </span>&#123; <span class="comment">//compare x and yï¼Œå¦‚æœå·®å€¼å°äºä¸€å®šèŒƒå›´åˆ™è¿‘ä¼¼ç›¸ç­‰</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">abs</span>(x - y) &lt;= <span class="number">0.5</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdn.net/20180911172622568?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><ul><li><strong>ä½¿ç”¨æ¥å£å‡½æ•°draw_line()</strong></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawLine2</span><span class="params">(CImg &lt;<span class="keyword">unsigned</span> <span class="keyword">char</span>&gt; TempImg)</span> </span>&#123;</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">char</span> blue[] = &#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">255</span>&#125;;</span><br><span class="line">TempImg.draw_line(<span class="number">0</span>,<span class="number">0</span>,<span class="number">100</span>*<span class="built_in">cos</span>(<span class="number">35</span>*pi/<span class="number">180</span>),<span class="number">100</span>*<span class="built_in">sin</span>(<span class="number">35</span>*pi/<span class="number">180</span>),blue);</span><br><span class="line">TempImg.display(<span class="string">"work5.2"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdn.net/20180911173133358?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><h5 id="PS-è¿™ä¸ªæ¯”è¾ƒæ•ˆæœæ„Ÿè§‰è‚‰çœ¼å¾ˆéš¾çœ‹å‡ºå·®è·ï¼Œä½†æ˜¯å› ä¸ºéå†å›¾ç‰‡çš„åƒç´ ç‚¹æ˜¯å¯¹å›¾ç‰‡è¿›è¡Œé‡‡æ ·æ‰€ä»¥ç‚¹åæ ‡ä¸ºæ•´æ•°å€¼ï¼Œæ‰€ä»¥ä¸å¯èƒ½å­˜åœ¨å½»åº•ç­‰äºæ‰€å¾—çš„æµ®ç‚¹æ•°tanè§’è¦æ±‚çš„åæ ‡ï¼Œåªèƒ½é€šè¿‡è®¾ç½®è¯¯å·®å°½å¯èƒ½å°ï¼Œä¹Ÿå°±æ˜¯ç›´çº¿çš„ç²—ç»†ï¼Œé€šè¿‡è®¾ç½®cmpå‡½æ•°è°ƒèŠ‚å‡ ä¸ªå€¼ï¼ˆ0-1-0-3-0-5-1-0ï¼‰å‘ç°0-5çš„æ•ˆæœæ˜¯æœ€å¥½çš„ã€‚"><a href="#PS-è¿™ä¸ªæ¯”è¾ƒæ•ˆæœæ„Ÿè§‰è‚‰çœ¼å¾ˆéš¾çœ‹å‡ºå·®è·ï¼Œä½†æ˜¯å› ä¸ºéå†å›¾ç‰‡çš„åƒç´ ç‚¹æ˜¯å¯¹å›¾ç‰‡è¿›è¡Œé‡‡æ ·æ‰€ä»¥ç‚¹åæ ‡ä¸ºæ•´æ•°å€¼ï¼Œæ‰€ä»¥ä¸å¯èƒ½å­˜åœ¨å½»åº•ç­‰äºæ‰€å¾—çš„æµ®ç‚¹æ•°tanè§’è¦æ±‚çš„åæ ‡ï¼Œåªèƒ½é€šè¿‡è®¾ç½®è¯¯å·®å°½å¯èƒ½å°ï¼Œä¹Ÿå°±æ˜¯ç›´çº¿çš„ç²—ç»†ï¼Œé€šè¿‡è®¾ç½®cmpå‡½æ•°è°ƒèŠ‚å‡ ä¸ªå€¼ï¼ˆ0-1-0-3-0-5-1-0ï¼‰å‘ç°0-5çš„æ•ˆæœæ˜¯æœ€å¥½çš„ã€‚" class="headerlink" title="PS: è¿™ä¸ªæ¯”è¾ƒæ•ˆæœæ„Ÿè§‰è‚‰çœ¼å¾ˆéš¾çœ‹å‡ºå·®è·ï¼Œä½†æ˜¯å› ä¸ºéå†å›¾ç‰‡çš„åƒç´ ç‚¹æ˜¯å¯¹å›¾ç‰‡è¿›è¡Œé‡‡æ ·æ‰€ä»¥ç‚¹åæ ‡ä¸ºæ•´æ•°å€¼ï¼Œæ‰€ä»¥ä¸å¯èƒ½å­˜åœ¨å½»åº•ç­‰äºæ‰€å¾—çš„æµ®ç‚¹æ•°tanè§’è¦æ±‚çš„åæ ‡ï¼Œåªèƒ½é€šè¿‡è®¾ç½®è¯¯å·®å°½å¯èƒ½å°ï¼Œä¹Ÿå°±æ˜¯ç›´çº¿çš„ç²—ç»†ï¼Œé€šè¿‡è®¾ç½®cmpå‡½æ•°è°ƒèŠ‚å‡ ä¸ªå€¼ï¼ˆ0.1, 0.3, 0.5, 1.0ï¼‰å‘ç°0.5çš„æ•ˆæœæ˜¯æœ€å¥½çš„ã€‚"></a><em>PS: è¿™ä¸ªæ¯”è¾ƒæ•ˆæœæ„Ÿè§‰è‚‰çœ¼å¾ˆéš¾çœ‹å‡ºå·®è·ï¼Œä½†æ˜¯å› ä¸ºéå†å›¾ç‰‡çš„åƒç´ ç‚¹æ˜¯å¯¹å›¾ç‰‡è¿›è¡Œé‡‡æ ·æ‰€ä»¥ç‚¹åæ ‡ä¸ºæ•´æ•°å€¼ï¼Œæ‰€ä»¥ä¸å¯èƒ½å­˜åœ¨å½»åº•ç­‰äºæ‰€å¾—çš„æµ®ç‚¹æ•°tanè§’è¦æ±‚çš„åæ ‡ï¼Œåªèƒ½é€šè¿‡è®¾ç½®è¯¯å·®å°½å¯èƒ½å°ï¼Œä¹Ÿå°±æ˜¯ç›´çº¿çš„ç²—ç»†ï¼Œé€šè¿‡è®¾ç½®cmpå‡½æ•°è°ƒèŠ‚å‡ ä¸ªå€¼ï¼ˆ0.1, 0.3, 0.5, 1.0ï¼‰å‘ç°0.5çš„æ•ˆæœæ˜¯æœ€å¥½çš„ã€‚</em></h5><h3 id="7-æŠŠä¸Šé¢çš„æ“ä½œç»“æœä¿å­˜ä¸º-2-bmp"><a href="#7-æŠŠä¸Šé¢çš„æ“ä½œç»“æœä¿å­˜ä¸º-2-bmp" class="headerlink" title="7. æŠŠä¸Šé¢çš„æ“ä½œç»“æœä¿å­˜ä¸º 2.bmp"></a>7. æŠŠä¸Šé¢çš„æ“ä½œç»“æœä¿å­˜ä¸º 2.bmp</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SrcImg.save(<span class="string">"2.bmp"</span>);</span><br></pre></td></tr></table></figure><h2 id="3-å°†ä¸Šè¿°å®ç°çš„å‡½æ•°å°è£…ä¸ºc-çš„ä¸€ä¸ªç±»"><a href="#3-å°†ä¸Šè¿°å®ç°çš„å‡½æ•°å°è£…ä¸ºc-çš„ä¸€ä¸ªç±»" class="headerlink" title="3. å°†ä¸Šè¿°å®ç°çš„å‡½æ•°å°è£…ä¸ºc++çš„ä¸€ä¸ªç±»"></a>3. å°†ä¸Šè¿°å®ç°çš„å‡½æ•°å°è£…ä¸ºc++çš„ä¸€ä¸ªç±»</h2><h3 id="ex-hpp"><a href="#ex-hpp" class="headerlink" title="ex.hpp:"></a>ex.hpp:</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> _EX_HPP_</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _EX_HPP_</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"../CImg.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> cimg_library;</span><br><span class="line"><span class="function"><span class="keyword">const</span> <span class="keyword">double</span> <span class="title">pi</span><span class="params">(<span class="number">3.14159265</span>)</span></span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">Test();</span><br><span class="line">~Test();</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Todisplay</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">change</span><span class="params">()</span></span>; <span class="comment">//æŠŠ1.bmpæ–‡ä»¶çš„ç™½è‰²åŒºåŸŸå˜æˆçº¢è‰²ï¼Œé»‘è‰²åŒºåŸŸå˜æˆç»¿è‰²</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawCircle_blue1</span><span class="params">()</span></span>; <span class="comment">//ä¸ä½¿ç”¨CImgå‡½æ•°åœ¨å›¾ä¸Šç»˜åˆ¶ä¸€ä¸ªåœ†å½¢åŒºåŸŸï¼Œåœ†å¿ƒåæ ‡(50,50)ï¼ŒåŠå¾„ä¸º30ï¼Œå¡«å……é¢œè‰²ä¸ºè“è‰²</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawCircle_yellow1</span><span class="params">()</span></span>;<span class="comment">//ä¸ä½¿ç”¨CImgå‡½æ•°åœ¨å›¾ä¸Šç»˜åˆ¶ä¸€ä¸ªåœ†å½¢åŒºåŸŸï¼Œåœ†å¿ƒåæ ‡(50,50)ï¼ŒåŠå¾„ä¸º3ï¼Œå¡«å……é¢œè‰²ä¸ºé»„è‰²</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawLine1</span><span class="params">()</span></span>;<span class="comment">//ä¸ä½¿ç”¨CImgå‡½æ•° åœ¨å›¾ä¸Šç»˜åˆ¶ä¸€æ¡é•¿ä¸º100çš„ç›´çº¿æ®µï¼Œèµ·ç‚¹åæ ‡ä¸º(0, 0)ï¼Œæ–¹å‘è§’ä¸º35åº¦ï¼Œç›´çº¿çš„é¢œè‰²ä¸ºè“è‰²ã€‚ </span></span><br><span class="line"><span class="comment">//ä¸‹é¢ä¸‰ä¸ªå‡½æ•°åˆ†åˆ«å¯¹åº”ä½¿ç”¨CImgå‡½æ•°çš„ä¸Šè¿°ä¸‰ä¸ªæ“ä½œ</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawCircle_blue2</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawCircle_yellow2</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DrawLine2</span><span class="params">()</span></span>;</span><br><span class="line">CImg&lt;<span class="keyword">unsigned</span> <span class="keyword">char</span>&gt; getSrcImg();</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="comment">//string name; //å›¾ç‰‡çš„åç§°</span></span><br><span class="line">CImg&lt;<span class="keyword">unsigned</span> <span class="keyword">char</span>&gt; SrcImg; <span class="comment">//å®šä¹‰ä¸€å‰¯å›¾ç‰‡</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure><h3 id="ex-cpp"><a href="#ex-cpp" class="headerlink" title="ex.cpp"></a>ex.cpp</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"ex.hpp"</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="keyword">double</span> x , <span class="keyword">double</span> y)</span></span>;</span><br><span class="line"></span><br><span class="line">Test::Test() &#123;</span><br><span class="line"><span class="comment">//name = "work1";</span></span><br><span class="line">SrcImg.load_bmp(<span class="string">"1.bmp"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Test::~Test() &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> Test::Todisplay() &#123;</span><br><span class="line"><span class="comment">//string t = name;</span></span><br><span class="line">SrcImg.display(<span class="string">"homework"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">CImg&lt;<span class="keyword">unsigned</span> <span class="keyword">char</span>&gt; Test::getSrcImg() &#123;</span><br><span class="line"><span class="keyword">return</span> SrcImg;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> Test::change() &#123;</span><br><span class="line"><span class="comment">//name = "work2";</span></span><br><span class="line"><span class="comment">//CImg&lt;unsigned char&gt; Img = SrcImg;</span></span><br><span class="line">cimg_forXY(SrcImg, x, y) &#123;</span><br><span class="line"><span class="keyword">if</span> (SrcImg(x,y,<span class="number">0</span>) == <span class="number">255</span> &amp;&amp; SrcImg(x,y,<span class="number">1</span>) == <span class="number">255</span> &amp;&amp; SrcImg(x,y,<span class="number">2</span>) == <span class="number">255</span>) &#123;</span><br><span class="line">SrcImg(x,y,<span class="number">0</span>) = <span class="number">255</span>;</span><br><span class="line">SrcImg(x,y,<span class="number">1</span>) = <span class="number">0</span>;</span><br><span class="line">SrcImg(x,y,<span class="number">2</span>) = <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line">cimg_forXY(SrcImg, x, y) &#123;</span><br><span class="line"><span class="keyword">if</span> (SrcImg(x,y,<span class="number">0</span>) == <span class="number">0</span> &amp;&amp; SrcImg(x,y,<span class="number">1</span>) == <span class="number">0</span> &amp;&amp; SrcImg(x,y,<span class="number">2</span>) == <span class="number">0</span>) &#123;</span><br><span class="line">SrcImg(x,y,<span class="number">0</span>) = <span class="number">0</span>;</span><br><span class="line">SrcImg(x,y,<span class="number">1</span>) = <span class="number">255</span>;</span><br><span class="line">SrcImg(x,y,<span class="number">2</span>) = <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> Test::DrawCircle_blue1() &#123;</span><br><span class="line">cimg_forXY(SrcImg, x, y) &#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">pow</span>(<span class="built_in">pow</span>(x<span class="number">-50</span>,<span class="number">2</span>)+<span class="built_in">pow</span>(y<span class="number">-50</span>,<span class="number">2</span>),<span class="number">0.5</span>) &lt; <span class="number">30</span>) &#123;</span><br><span class="line">SrcImg(x,y,<span class="number">0</span>) = <span class="number">0</span>;</span><br><span class="line">SrcImg(x,y,<span class="number">1</span>) = <span class="number">0</span>;</span><br><span class="line">SrcImg(x,y,<span class="number">2</span>) = <span class="number">255</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> Test::DrawCircle_yellow1() &#123;</span><br><span class="line">cimg_forXY(SrcImg, x, y) &#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">pow</span>(<span class="built_in">pow</span>(x<span class="number">-50</span>,<span class="number">2</span>)+<span class="built_in">pow</span>(y<span class="number">-50</span>,<span class="number">2</span>),<span class="number">0.5</span>) &lt; <span class="number">3</span>) &#123;</span><br><span class="line">SrcImg(x,y,<span class="number">0</span>) = <span class="number">200</span>;</span><br><span class="line">SrcImg(x,y,<span class="number">1</span>) = <span class="number">155</span>;</span><br><span class="line">SrcImg(x,y,<span class="number">2</span>) = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> Test::DrawLine1() &#123;</span><br><span class="line"><span class="keyword">double</span> x0 = <span class="number">100</span>*<span class="built_in">cos</span>(<span class="number">35</span>*pi/<span class="number">180</span>);</span><br><span class="line"><span class="keyword">double</span> y0 = <span class="number">100</span>*<span class="built_in">sin</span>(<span class="number">35</span>*pi/<span class="number">180</span>);</span><br><span class="line">cimg_forXY(SrcImg, x, y) &#123;</span><br><span class="line"><span class="keyword">if</span> (x == <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (y == <span class="number">0</span>) &#123;</span><br><span class="line">SrcImg(x,y,<span class="number">0</span>) = <span class="number">0</span>;</span><br><span class="line">SrcImg(x,y,<span class="number">1</span>) = <span class="number">0</span>;</span><br><span class="line">SrcImg(x,y,<span class="number">2</span>) = <span class="number">255</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (cmp((<span class="keyword">double</span>)y, (<span class="keyword">double</span>)x*<span class="built_in">tan</span>(<span class="number">35</span>*pi/<span class="number">180</span>)) &amp;&amp; (<span class="keyword">double</span>)x &lt;= x0 &amp;&amp; (<span class="keyword">double</span>)y &lt;= y0) &#123;</span><br><span class="line">SrcImg(x,y,<span class="number">0</span>) = <span class="number">0</span>;</span><br><span class="line">SrcImg(x,y,<span class="number">1</span>) = <span class="number">0</span>;</span><br><span class="line">SrcImg(x,y,<span class="number">2</span>) = <span class="number">255</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> Test::DrawCircle_blue2() &#123;</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">char</span> blue[] = &#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">255</span>&#125;;</span><br><span class="line">SrcImg.draw_circle(<span class="number">50</span>, <span class="number">50</span>, <span class="number">30</span>, blue);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> Test::DrawCircle_yellow2() &#123;</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">char</span> yellow[] = &#123;<span class="number">200</span>, <span class="number">155</span>, <span class="number">0</span>&#125;;</span><br><span class="line">SrcImg.draw_circle(<span class="number">50</span>, <span class="number">50</span>, <span class="number">3</span>, yellow);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> Test::DrawLine2() &#123;</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">char</span> blue[] = &#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">255</span>&#125;;</span><br><span class="line">SrcImg.draw_line(<span class="number">0</span>,<span class="number">0</span>,<span class="number">100</span>*<span class="built_in">cos</span>(<span class="number">35</span>*pi/<span class="number">180</span>),<span class="number">100</span>*<span class="built_in">sin</span>(<span class="number">35</span>*pi/<span class="number">180</span>),blue);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="keyword">double</span> x , <span class="keyword">double</span> y)</span> </span>&#123; <span class="comment">//compare x and yï¼Œå¦‚æœå·®å€¼å°äºä¸€å®šèŒƒå›´åˆ™è¿‘ä¼¼ç›¸ç­‰</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">abs</span>(x - y) &lt;= <span class="number">0.5</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="main-cpp"><a href="#main-cpp" class="headerlink" title="main.cpp"></a>main.cpp</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"ex.hpp"</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">Test pic;</span><br><span class="line">Test pic1;</span><br><span class="line">pic.change();</span><br><span class="line">pic.DrawCircle_blue1();</span><br><span class="line">pic.DrawCircle_yellow1();</span><br><span class="line">pic.DrawLine1();</span><br><span class="line">pic.Todisplay();</span><br><span class="line">CImg&lt;<span class="keyword">unsigned</span> <span class="keyword">char</span>&gt; temp = pic.getSrcImg();</span><br><span class="line">temp.save(<span class="string">"2.bmp"</span>);</span><br><span class="line">pic1.change();</span><br><span class="line">pic1.DrawCircle_blue2();</span><br><span class="line">pic1.DrawCircle_yellow2();</span><br><span class="line">pic1.DrawLine2();</span><br><span class="line">pic1.Todisplay();</span><br><span class="line">CImg&lt;<span class="keyword">unsigned</span> <span class="keyword">char</span>&gt; temp1 = pic1.getSrcImg();</span><br><span class="line">temp1.save(<span class="string">"2.1.bmp"</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>è¿è¡Œå¹¶å­˜å‚¨åå®ç°çš„æ•´ä½“æ•ˆæœå›¾å¦‚ä¸‹æ‰€ç¤ºï¼š</strong><br>(1) æœªä½¿ç”¨æ¥å£å‡½æ•°ï¼š<br><img src="https://img-blog.csdn.net/20180911175307715?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"><br>(2) ä½¿ç”¨æ¥å£å‡½æ•°ï¼š<br><img src="https://img-blog.csdn.net/20180911175421770?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p><strong>å®Œæ•´ä»£ç å‚è§ï¼š</strong><br><a href="https://github.com/WangPerryWPY/Computer-Version/tree/master/EX1" target="_blank" rel="noopener">https://github.com/WangPerryWPY/Computer-Version/tree/master/EX1</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;1-CImgçš„é…ç½®&quot;&gt;&lt;a href=&quot;#1-CImgçš„é…ç½®&quot; class=&quot;headerlink&quot; title=&quot;1. CImgçš„é…ç½®&quot;&gt;&lt;/a&gt;1. CImgçš„é…ç½®&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;ä¸‹è½½CImgçš„åŒ…åˆ°æŒ‡å®šçš„æ–‡ä»¶å¤¹ä¸‹ï¼Œè§£å‹&lt;/li&gt;
&lt;li&gt;ç„¶ååªéœ€è¦
      
    
    </summary>
    
      <category term="è®¡ç®—æœºè§†è§‰" scheme="http://yoursite.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/"/>
    
    
      <category term="c++" scheme="http://yoursite.com/tags/c/"/>
    
      <category term="è®¡ç®—æœºè§†è§‰" scheme="http://yoursite.com/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/"/>
    
  </entry>
  
  <entry>
    <title>c++æ ‘çš„å®ç°(é€‚ç”¨äºä¸€èˆ¬çš„ğŸŒ²)</title>
    <link href="http://yoursite.com/2019/07/05/c-%E6%A0%91%E7%9A%84%E5%AE%9E%E7%8E%B0-%E9%80%82%E7%94%A8%E4%BA%8E%E4%B8%80%E8%88%AC%E7%9A%84%F0%9F%8C%B2/"/>
    <id>http://yoursite.com/2019/07/05/c-æ ‘çš„å®ç°-é€‚ç”¨äºä¸€èˆ¬çš„ğŸŒ²/</id>
    <published>2019-07-05T08:53:31.000Z</published>
    <updated>2019-07-05T14:36:32.915Z</updated>
    
    <content type="html"><![CDATA[<ul><li>å…¶å®ä¸»è¦æ˜¯é‡‡ç”¨ç±»ä¼¼cè¿™ç§é¢å‘è¿‡ç¨‹çš„è¯­è¨€çš„æ¥å£å®ç°åŠæ³•ï¼Œç”¨c++æ›´å¤šåªæ˜¯ä¸ºäº†è°ƒç”¨é˜Ÿåˆ—ï¼Œæ ˆç­‰ä¸€äº›æ¥å£</li><li>ç½‘ä¸Šèµ„æ–™å¤§éƒ¨åˆ†æ ‘çš„å®ç°éƒ½æ˜¯äºŒå‰æ ‘ï¼Œè€Œå®é™…å¸¸è§çš„æ ‘ä¸€èˆ¬æ˜¯æ™®é€šçš„æ ‘</li><li>æ‰€ä»¥æˆ‘ä»¬è¦å­¦ä¼šé€šè¿‡äºŒå‰æ ‘çš„æ€æƒ³æ¥è½¬æ¢åˆ°æ™®é€šçš„æ ‘æ¥ä½¿ç”¨</li><li>æœ¬æ–‡é‡‡ç”¨çš„å­˜å‚¨ç»“æ„ä¸ºï¼ˆå­©å­-å…„å¼Ÿï¼‰ç»“ç‚¹è¡¨ç¤ºæ³•ï¼Œä¹Ÿå«äºŒå‰é“¾è¡¨ï¼Œæœ‰ä¸æ‡‚å¾—åœ°æ–¹å¯ä»¥æŸ¥çœ‹æˆ‘çš„å¦å¤–ä¸€ç¯‡å…³äºæ ‘çš„å­˜å‚¨ç»“æ„çš„<a href="https://blog.csdn.net/perry0528/article/details/82527739" target="_blank" rel="noopener">æ–‡ç« </a></li><li>æœ¬æ–‡é‡ç‚¹è®¨è®ºä¸‰ä¸ªå‡½æ•°ï¼Œå…¶ä»–å®ç°å‡½æ•°éƒ½å¤§åŒå°å¼‚<ul><li>æ±‚æ ‘çš„æ·±åº¦</li><li>æ‰“å°æ ‘çš„è·¯å¾„</li><li>å¦‚ä½•åˆ›å»ºä¸€é¢—æ™®é€šçš„æ ‘</li></ul></li></ul><h3 id="æ ‘çš„å­˜å‚¨ç»“æ„ï¼š"><a href="#æ ‘çš„å­˜å‚¨ç»“æ„ï¼š" class="headerlink" title="æ ‘çš„å­˜å‚¨ç»“æ„ï¼š"></a>æ ‘çš„å­˜å‚¨ç»“æ„ï¼š</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">char</span> ElemType;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">CSNode</span> &#123;</span></span><br><span class="line">ElemType data;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">CSNode</span> *<span class="title">firstchild</span>, *<span class="title">nextsibling</span>;</span></span><br><span class="line">&#125;CSNode, *CSTree;</span><br></pre></td></tr></table></figure><h3 id="æ±‚æ ‘çš„æ·±åº¦ï¼š"><a href="#æ±‚æ ‘çš„æ·±åº¦ï¼š" class="headerlink" title="æ±‚æ ‘çš„æ·±åº¦ï¼š"></a>æ±‚æ ‘çš„æ·±åº¦ï¼š</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="keyword">int</span> <span class="title">TreeDepth</span><span class="params">(CSTree T)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (T) &#123;</span><br><span class="line"><span class="keyword">return</span> (<span class="number">1</span>+TreeDepth(T-&gt;firstchild))&gt;TreeDepth(T-&gt;nextsibling)?(<span class="number">1</span>+TreeDepth(T-&gt;firstchild)):TreeDepth(T-&gt;nextsibling);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ–¹æ³•åŸºæœ¬ç±»ä¼¼äºŒå‰æ ‘ï¼Œåªæ˜¯ä¸€ç‚¹æ‰“å°å…„å¼Ÿç»“ç‚¹çš„æ—¶å€™å› ä¸ºå…„å¼Ÿç»“ç‚¹çš„æ ¹èŠ‚ç‚¹æ˜¯ä»–çš„å…„å¼Ÿï¼Œæ‰€ä»¥æ·±åº¦åº”è¯¥å»æ‰é‚£ä¸ªæ ¹èŠ‚ç‚¹</strong></p><h3 id="æ ‘çš„è·¯å¾„æ‰“å°"><a href="#æ ‘çš„è·¯å¾„æ‰“å°" class="headerlink" title="æ ‘çš„è·¯å¾„æ‰“å°"></a>æ ‘çš„è·¯å¾„æ‰“å°</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">AllPath</span><span class="params">(CSTree T, <span class="built_in">stack</span>&lt;ElemType&gt; *S1)</span> </span>&#123;</span><br><span class="line"><span class="comment">//stack&lt;ElemType&gt; S1;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (T != <span class="literal">NULL</span>) &#123;</span><br><span class="line">S1-&gt;push(T-&gt;data);</span><br><span class="line"><span class="keyword">if</span> (T-&gt;firstchild == <span class="literal">NULL</span>) &#123;</span><br><span class="line"><span class="built_in">stack</span>&lt;ElemType&gt; S2;</span><br><span class="line">S2 = (*S1);</span><br><span class="line"><span class="keyword">while</span>(!S2.empty()) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%c\n"</span>,S2.top());</span><br><span class="line">S2.pop();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">AllPath(T-&gt;firstchild, S1);</span><br><span class="line">&#125;</span><br><span class="line">S1-&gt;pop();</span><br><span class="line">T=T-&gt;nextsibling;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>è¿™é‡Œè¦è¯´ä¸€ä¸‹ï¼Œè™½ç„¶æ€è·¯ä¸éš¾æƒ³ï¼Œè‡ªå·±ç”»ä¸€ä¸‹å›¾ä¾¿å¾ˆå®¹æ˜“æƒ³é€šï¼Œä½†æ˜¯æˆ‘debug deäº†å¾ˆä¹…ï¼Œè€Œä¸”ä¸€åº¦åšæŒè®¤ä¸ºè‡ªå·±æ²¡é”™ï¼Œå½’æ ¹åˆ°åº•è¿˜æ˜¯é€’å½’ç”¨å¾—ä¸ç†Ÿç»ƒï¼Œä¸€å¼€å§‹æŠŠæ ˆä½œä¸ºå½¢å‚åªæ˜¯åœ¨å‡½æ•°å†…åˆ›å»ºï¼Œæ‰€ä»¥æ¯ä¸€éé€’å½’æ ˆéƒ½ä¼šåˆ·æ–°ä¸€éè€Œä¸ä¼šä¿ç•™ä¸‹æ¥ï¼Œæ‰€ä»¥è¦åˆ›å»ºä¸€ä¸ªæŒ‡å‘æ ˆçš„æŒ‡é’ˆï¼Œä½¿å¾—æ¯æ¬¡é€’å½’æ ˆçš„ä¿¡æ¯ä¿å­˜ä¸‹æ¥</strong></p><h3 id="åˆ›å»ºæ ‘"><a href="#åˆ›å»ºæ ‘" class="headerlink" title="åˆ›å»ºæ ‘"></a>åˆ›å»ºæ ‘</h3><ul><li>è™½ç„¶è¿™ä¸ªå†…å®¹æ˜¯å‰é¢è¿ä¸ªçš„åŸºç¡€ï¼Œä½†ç¬¬ä¸€æ­¥å¾€å¾€æ˜¯æœ€éš¾çš„ï¼Œè¿™ä¸ªä¹Ÿä¸ä¾‹å¤–</li><li>é‡‡å–çš„æ€è·¯æ˜¯æ ¹èŠ‚ç‚¹å­©å­èŠ‚ç‚¹å¯¹æ¥åˆ›å»º<br><img src="https://img-blog.csdn.net/20180911112120931?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></li><li>è¿è¡Œæ—¶ç›´æ¥è¾“å…¥<code>#AABACADCECFFG##</code>å³å¯ï¼Œæ³¨æ„æ¯ä¸€å¯¹ä¹‹é—´ä¸è¦åŠ ç©ºæ ¼ï¼Œå› ä¸ºç©ºæ ¼ä¼šè¢«è¯†åˆ«ä¸ºå…¶ä»–çš„å­—ç¬¦</li><li>å› ä¸ºè¿™ç§å­˜å‚¨ç»“æ„è¾ƒä¸ºå¤æ‚ï¼Œæ•…é‡‡ç”¨é€’å½’æ€è·¯å¯èƒ½ä¼šå¯¼è‡´åˆ›å»ºæ··ä¹±ï¼Œåˆ©ç”¨é˜Ÿåˆ—æ¥åˆ›å»º</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CreateTree</span><span class="params">(CSTree *T)</span> </span>&#123;</span><br><span class="line">(*T) = <span class="literal">NULL</span>;</span><br><span class="line">ElemType Felem;</span><br><span class="line">ElemType Selem;</span><br><span class="line">CSNode *r = <span class="literal">NULL</span>; <span class="comment">//rä¸ºæŒ‡å‘å½“å‰ç»“ç‚¹çš„æŒ‡é’ˆ</span></span><br><span class="line">CSNode *p = <span class="literal">NULL</span>; <span class="comment">//pä¸ºæŒ‡å‘é˜Ÿåˆ—frontçš„æŒ‡é’ˆ</span></span><br><span class="line"><span class="built_in">queue</span>&lt;CSNode*&gt; Q;</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">scanf</span>(<span class="string">"%c%c"</span>,&amp;Felem,&amp;Selem); Selem != <span class="string">'#'</span>; <span class="built_in">scanf</span>(<span class="string">"%c%c"</span>,&amp;Felem,&amp;Selem)) &#123;</span><br><span class="line">CSNode *node;</span><br><span class="line">node = (CSNode*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(CSNode));</span><br><span class="line">node -&gt; data= Selem;</span><br><span class="line">node -&gt; firstchild = <span class="literal">NULL</span>;</span><br><span class="line">node -&gt; nextsibling = <span class="literal">NULL</span>;</span><br><span class="line">Q.push(node);</span><br><span class="line"><span class="keyword">if</span> (Felem == <span class="string">'#'</span>) &#123;</span><br><span class="line">(*T) = node;</span><br><span class="line">r = node;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">while</span>(Q.front()-&gt;data != Felem) &#123;</span><br><span class="line">Q.pop();</span><br><span class="line">&#125;</span><br><span class="line">p = Q.front();</span><br><span class="line"><span class="keyword">if</span> (!(p-&gt;firstchild)) &#123;</span><br><span class="line">p-&gt;firstchild = node;</span><br><span class="line">r = node;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">r-&gt;nextsibling = node;</span><br><span class="line">r = node;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ‰€æœ‰ä»£ç å‚è€ƒå¦‚ä¸‹ï¼š"><a href="#æ‰€æœ‰ä»£ç å‚è€ƒå¦‚ä¸‹ï¼š" class="headerlink" title="æ‰€æœ‰ä»£ç å‚è€ƒå¦‚ä¸‹ï¼š"></a>æ‰€æœ‰ä»£ç å‚è€ƒå¦‚ä¸‹ï¼š</h3><h3 id="Tree-hpp"><a href="#Tree-hpp" class="headerlink" title="Tree.hpp"></a>Tree.hpp</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// - - - - - é‡‡ç”¨äºŒå‰é“¾è¡¨çš„è¡¨ç¤ºæ–¹æ³• - - - - -</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> _TREE_H_</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _TREE_H_</span></span><br><span class="line"><span class="comment">//#include &lt;stdbool.h&gt;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">char</span> ElemType;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">CSNode</span> &#123;</span></span><br><span class="line">ElemType data;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">CSNode</span> *<span class="title">firstchild</span>, *<span class="title">nextsibling</span>;</span></span><br><span class="line">&#125;CSNode, *CSTree;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CreateTree</span><span class="params">(CSTree *T)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DestroyTree</span><span class="params">(CSTree *T)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="keyword">int</span> <span class="title">TreeDepth</span><span class="params">(CSTree T)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">AllPath</span><span class="params">(CSTree T, <span class="built_in">stack</span>&lt;ElemType&gt; *S1)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PrintTree</span><span class="params">(CSTree T)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure><h3 id="Tree-cpp"><a href="#Tree-cpp" class="headerlink" title="Tree.cpp"></a>Tree.cpp</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Tree.hpp"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CreateTree</span><span class="params">(CSTree *T)</span> </span>&#123;</span><br><span class="line">(*T) = <span class="literal">NULL</span>;</span><br><span class="line">ElemType Felem;</span><br><span class="line">ElemType Selem;</span><br><span class="line">CSNode *r = <span class="literal">NULL</span>;</span><br><span class="line">CSNode *p = <span class="literal">NULL</span>;</span><br><span class="line"><span class="built_in">queue</span>&lt;CSNode*&gt; Q;</span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">scanf</span>(<span class="string">"%c%c"</span>,&amp;Felem,&amp;Selem); Selem != <span class="string">'#'</span>; <span class="built_in">scanf</span>(<span class="string">"%c%c"</span>,&amp;Felem,&amp;Selem)) &#123;</span><br><span class="line">CSNode *node;</span><br><span class="line">node = (CSNode*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(CSNode));</span><br><span class="line">node -&gt; data= Selem;</span><br><span class="line">node -&gt; firstchild = <span class="literal">NULL</span>;</span><br><span class="line">node -&gt; nextsibling = <span class="literal">NULL</span>;</span><br><span class="line">Q.push(node);</span><br><span class="line"><span class="keyword">if</span> (Felem == <span class="string">'#'</span>) &#123;</span><br><span class="line">(*T) = node;</span><br><span class="line">r = node;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">while</span>(Q.front()-&gt;data != Felem) &#123;</span><br><span class="line">Q.pop();</span><br><span class="line">&#125;</span><br><span class="line">p = Q.front();</span><br><span class="line"><span class="keyword">if</span> (!(p-&gt;firstchild)) &#123;</span><br><span class="line">p-&gt;firstchild = node;</span><br><span class="line">r = node;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">r-&gt;nextsibling = node;</span><br><span class="line">r = node;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DestroyTree</span><span class="params">(CSTree *T)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (*T) &#123;</span><br><span class="line">DestroyTree(&amp;((*T)-&gt;firstchild));</span><br><span class="line">DestroyTree(&amp;((*T)-&gt;nextsibling));</span><br><span class="line"><span class="built_in">free</span>(*T);</span><br><span class="line">(*T) = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="keyword">int</span> <span class="title">TreeDepth</span><span class="params">(CSTree T)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (T) &#123;</span><br><span class="line"><span class="keyword">return</span> (<span class="number">1</span>+TreeDepth(T-&gt;firstchild))&gt;TreeDepth(T-&gt;nextsibling)?(<span class="number">1</span>+TreeDepth(T-&gt;firstchild)):TreeDepth(T-&gt;nextsibling);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">AllPath</span><span class="params">(CSTree T, <span class="built_in">stack</span>&lt;ElemType&gt; *S1)</span> </span>&#123;</span><br><span class="line"><span class="comment">//stack&lt;ElemType&gt; S1;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (T != <span class="literal">NULL</span>) &#123;</span><br><span class="line">S1-&gt;push(T-&gt;data);</span><br><span class="line"><span class="keyword">if</span> (T-&gt;firstchild == <span class="literal">NULL</span>) &#123;</span><br><span class="line"><span class="built_in">stack</span>&lt;ElemType&gt; S2;</span><br><span class="line">S2 = (*S1);</span><br><span class="line"><span class="keyword">while</span>(!S2.empty()) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%c\n"</span>,S2.top());</span><br><span class="line">S2.pop();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">AllPath(T-&gt;firstchild, S1);</span><br><span class="line">&#125;</span><br><span class="line">S1-&gt;pop();</span><br><span class="line">T=T-&gt;nextsibling;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PrintTree</span><span class="params">(CSTree T)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (T) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; T-&gt;data &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">PrintTree(T-&gt;firstchild);</span><br><span class="line">PrintTree(T-&gt;nextsibling);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="main-cpp"><a href="#main-cpp" class="headerlink" title="main.cpp"></a>main.cpp</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Tree.hpp"</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">CSTree T;</span><br><span class="line">CreateTree(&amp;T);</span><br><span class="line"><span class="comment">//cout &lt;&lt; T-&gt;nextsibling-&gt;data &lt;&lt; endl;</span></span><br><span class="line"><span class="comment">//PrintTree(T);</span></span><br><span class="line"><span class="built_in">stack</span>&lt;ElemType&gt; s;</span><br><span class="line">AllPath(T, &amp;s);</span><br><span class="line"><span class="comment">/*while (!s.empty()) &#123;</span></span><br><span class="line"><span class="comment">cout &lt;&lt; s.top()&lt;&lt; endl;</span></span><br><span class="line"><span class="comment">s.pop();</span></span><br><span class="line"><span class="comment">&#125;*/</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; TreeDepth(T) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">DestroyTree(&amp;T);</span><br><span class="line"><span class="keyword">if</span> (!T) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"delete successfully"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;ul&gt;
&lt;li&gt;å…¶å®ä¸»è¦æ˜¯é‡‡ç”¨ç±»ä¼¼cè¿™ç§é¢å‘è¿‡ç¨‹çš„è¯­è¨€çš„æ¥å£å®ç°åŠæ³•ï¼Œç”¨c++æ›´å¤šåªæ˜¯ä¸ºäº†è°ƒç”¨é˜Ÿåˆ—ï¼Œæ ˆç­‰ä¸€äº›æ¥å£&lt;/li&gt;
&lt;li&gt;ç½‘ä¸Šèµ„æ–™å¤§éƒ¨åˆ†æ ‘çš„å®ç°éƒ½æ˜¯äºŒå‰æ ‘ï¼Œè€Œå®é™…å¸¸è§çš„æ ‘ä¸€èˆ¬æ˜¯æ™®é€šçš„æ ‘&lt;/li&gt;
&lt;li&gt;æ‰€ä»¥æˆ‘ä»¬è¦å­¦ä¼šé€šè¿‡äºŒå‰æ ‘çš„æ€æƒ³æ¥è½¬æ¢åˆ°æ™®é€šçš„æ ‘æ¥ä½¿ç”¨&lt;/li&gt;

      
    
    </summary>
    
      <category term="æ•°æ®ç»“æ„" scheme="http://yoursite.com/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
    
      <category term="c" scheme="http://yoursite.com/tags/c/"/>
    
      <category term="c++" scheme="http://yoursite.com/tags/c/"/>
    
      <category term="æ•°æ®ç»“æ„" scheme="http://yoursite.com/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>æ ‘çš„å¸¸è§çš„ä¸‰ç§é“¾è¡¨å­˜å‚¨ç»“æ„</title>
    <link href="http://yoursite.com/2019/07/05/%E6%A0%91%E7%9A%84%E5%B8%B8%E8%A7%81%E7%9A%84%E4%B8%89%E7%A7%8D%E9%93%BE%E8%A1%A8%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84/"/>
    <id>http://yoursite.com/2019/07/05/æ ‘çš„å¸¸è§çš„ä¸‰ç§é“¾è¡¨å­˜å‚¨ç»“æ„/</id>
    <published>2019-07-05T08:51:18.000Z</published>
    <updated>2019-07-05T14:34:35.624Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-åŒäº²è¡¨ç¤ºæ³•ï¼š"><a href="#1-åŒäº²è¡¨ç¤ºæ³•ï¼š" class="headerlink" title="1.åŒäº²è¡¨ç¤ºæ³•ï¼š"></a>1.åŒäº²è¡¨ç¤ºæ³•ï¼š</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// - - - - - æ ‘çš„åŒäº²è¡¨å­˜å‚¨è¡¨ç¤º - - - - -</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_TREE_SIZE 100</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">PTNode</span> &#123;</span> <span class="comment">//ç»“ç‚¹ç»“æ„</span></span><br><span class="line">ElemType data;</span><br><span class="line"><span class="keyword">int</span> parent; <span class="comment">//åŒäº²ä½ç½®åŸŸ</span></span><br><span class="line">&#125;PTNode;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span> <span class="comment">//æ ‘ç»“æ„</span></span><br><span class="line">PTNode nodes[MAX_TREE_SIZE];</span><br><span class="line"><span class="keyword">int</span> r,n; <span class="comment">//æ ¹çš„ä½ç½®å’Œç»“ç‚¹æ•°</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdn.net/20180908103615434?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="æ ‘çš„åŒäº²è¡¨ç¤ºæ³•"></p><center>æ ‘çš„åŒäº²è¡¨ç¤ºæ³•ç¤ºä¾‹</center><h2 id="2-æ ‘çš„å­©å­é“¾è¡¨å­˜å‚¨è¡¨ç¤º"><a href="#2-æ ‘çš„å­©å­é“¾è¡¨å­˜å‚¨è¡¨ç¤º" class="headerlink" title="2.æ ‘çš„å­©å­é“¾è¡¨å­˜å‚¨è¡¨ç¤º"></a>2.æ ‘çš„å­©å­é“¾è¡¨å­˜å‚¨è¡¨ç¤º</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// - - - - - æ ‘çš„å­©å­é“¾è¡¨å­˜å‚¨è¡¨ç¤º - - - - - </span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">CTNode</span> &#123;</span> <span class="comment">//å­©å­èŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">int</span> child;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">CSNode</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125;* ChildPtr;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span> <span class="comment">//å­©å­é“¾è¡¨å¤´æŒ‡é’ˆ</span></span><br><span class="line">Elemtype data;</span><br><span class="line">ChildPtr firstchild;</span><br><span class="line">&#125;CTBox;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">CTBox nodes[MAX_TREE_SIZE];</span><br><span class="line"><span class="keyword">int</span> n, r; <span class="comment">//ç»“ç‚¹æ•°å’Œæ ¹çš„ä½ç½®</span></span><br><span class="line">&#125;CTree;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdn.net/20180908105905501?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><center>æ ‘çš„å­©å­é“¾è¡¨è¡¨ç¤ºæ³•ç¤ºä¾‹</center><h2 id="3-æ ‘çš„å­©å­å…„å¼Ÿè¡¨ç¤ºæ³•"><a href="#3-æ ‘çš„å­©å­å…„å¼Ÿè¡¨ç¤ºæ³•" class="headerlink" title="3.æ ‘çš„å­©å­å…„å¼Ÿè¡¨ç¤ºæ³•"></a>3.æ ‘çš„å­©å­å…„å¼Ÿè¡¨ç¤ºæ³•</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// - - - - - æ ‘çš„äºŒå‰é“¾è¡¨ï¼ˆå­©å­-å…„å¼Ÿï¼‰å­˜å‚¨è¡¨ç¤º - - - - -</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">CSNode</span> &#123;</span></span><br><span class="line">ElemType data;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">CSNode</span> *<span class="title">firstchild</span>, *<span class="title">nextsibling</span>;</span></span><br><span class="line">&#125;CSNode, *CSTree;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdn.net/20180908111327680?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BlcnJ5MDUyOA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><center>æ ‘çš„äºŒå‰é“¾è¡¨è¡¨ç¤ºæ³•ç¤ºä¾‹</center>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;1-åŒäº²è¡¨ç¤ºæ³•ï¼š&quot;&gt;&lt;a href=&quot;#1-åŒäº²è¡¨ç¤ºæ³•ï¼š&quot; class=&quot;headerlink&quot; title=&quot;1.åŒäº²è¡¨ç¤ºæ³•ï¼š&quot;&gt;&lt;/a&gt;1.åŒäº²è¡¨ç¤ºæ³•ï¼š&lt;/h2&gt;&lt;figure class=&quot;highlight c&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=
      
    
    </summary>
    
      <category term="æ•°æ®ç»“æ„" scheme="http://yoursite.com/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
    
      <category term="c" scheme="http://yoursite.com/tags/c/"/>
    
      <category term="æ•°æ®ç»“æ„" scheme="http://yoursite.com/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>çº¿ç´¢äºŒå‰æ ‘çš„å®ç°</title>
    <link href="http://yoursite.com/2019/07/05/%E7%BA%BF%E7%B4%A2%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%AE%9E%E7%8E%B0/"/>
    <id>http://yoursite.com/2019/07/05/çº¿ç´¢äºŒå‰æ ‘çš„å®ç°/</id>
    <published>2019-07-05T08:48:36.000Z</published>
    <updated>2019-07-05T14:33:03.251Z</updated>
    
    <content type="html"><![CDATA[<ul><li>nä¸ªç»“ç‚¹ä¸€å®šæœ‰n+1ä¸ªæŒ‡é’ˆåŸŸæ˜¯ç©ºçš„</li><li>å¦‚æœç»“ç‚¹å·¦æŒ‡é’ˆä¸ºç©ºåˆ™ä½œä¸ºå‰é©±æŒ‡é’ˆ</li><li>è‹¥å³æŒ‡é’ˆä¸ºç©ºåˆ™ä½œä¸ºåç»§æŒ‡é’ˆ</li><li>æŒ‡å‘çº¿ç´¢åºåˆ—çš„å‰åºåç»§æŒ‡é’ˆå³ä¸ºçº¿ç´¢</li><li>åŒæ—¶ä¸ºäº†åŒºåˆ†æŒ‡é’ˆæ˜¯ä½œä¸ºçº¿ç´¢æŒ‡å‘å‰é©±åç»§è¿˜æ˜¯æŒ‡å‘å­æ ‘ï¼Œæˆ‘ä»¬çº¦å®šè®¾ç½®ä¸€ä¸ªæ ‡å¿—ä½ï¼Œè‹¥ä¸º0æŒ‡å‘å­æ ‘ï¼Œä¸º1ä½œä¸ºçº¿ç´¢</li><li>æ¯ä¸ªèŠ‚ç‚¹é™¤åŸæ¥çš„æ•°æ®åŸŸä»¥åŠå·¦å³å­å­©å­èŠ‚ç‚¹æŒ‡é’ˆå¤–ï¼Œè¿˜éœ€è¦å¢åŠ ä¸¤ä¸ªæ ‡å¿—åŸŸ<table><thead><tr><th>lchild</th><th>L.Tag</th><th>data</th><th>R.Tag</th><th>rchild</th></tr></thead></table></li></ul><ul><li>çº¿ç´¢åŒ–éå†è¿‡ç¨‹ä¸­ä¸ºäº†æ–¹ä¾¿ç´¢å¼•ï¼Œå»ºç«‹ä¸¤ä¸ªèŠ‚ç‚¹ï¼ŒpreæŒ‡å‘å½“å‰èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹ï¼ŒTæŒ‡å‘å½“å‰èŠ‚ç‚¹ï¼ˆpreå’ŒTéƒ½åœ¨æ¥ä¸‹çš„å‡½æ•°ä¸­æœ‰çœŸå®å£°æ˜ï¼‰</li></ul><h3 id="ä¸­åºéå†äºŒå‰æ ‘Tï¼Œå°†å…¶çº¿ç´¢åŒ–ï¼ŒThrtæŒ‡å‘å…¶å¤´ç»“ç‚¹"><a href="#ä¸­åºéå†äºŒå‰æ ‘Tï¼Œå°†å…¶çº¿ç´¢åŒ–ï¼ŒThrtæŒ‡å‘å…¶å¤´ç»“ç‚¹" class="headerlink" title="ä¸­åºéå†äºŒå‰æ ‘Tï¼Œå°†å…¶çº¿ç´¢åŒ–ï¼ŒThrtæŒ‡å‘å…¶å¤´ç»“ç‚¹"></a>ä¸­åºéå†äºŒå‰æ ‘Tï¼Œå°†å…¶çº¿ç´¢åŒ–ï¼ŒThrtæŒ‡å‘å…¶å¤´ç»“ç‚¹</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">InOrderThreading</span><span class="params">(BiThrTree *Thrt, BiThrTree T)</span> </span>&#123;</span><br><span class="line">(*Thrt) = (BiThrTree)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(BiThrNode));</span><br><span class="line">(*Thrt)-&gt;LTag = Link;</span><br><span class="line">(*Thrt)-&gt;RTag = Thread;</span><br><span class="line">(*Thrt)-&gt;rchild = (*Thrt);</span><br><span class="line"><span class="keyword">if</span> (!T)</span><br><span class="line">(*Thrt)-&gt;lchild = (*Thrt);</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">(*Thrt)-&gt;lchild = T;</span><br><span class="line">pre = (*Thrt);</span><br><span class="line">InThreading(T);</span><br><span class="line">pre-&gt;rchild = (*Thrt);</span><br><span class="line">pre-&gt;RTag = Thread;</span><br><span class="line">(*Thrt) -&gt; rchild = pre;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ— å¤´ç»“ç‚¹çš„æ•´æ£µæ ‘Tçš„çº¿ç´¢åŒ–ï¼Œä½œä¸ºä¸Šä¸€ä¸ªå‡½æ•°çš„è¾…åŠ©å‡½æ•°"><a href="#æ— å¤´ç»“ç‚¹çš„æ•´æ£µæ ‘Tçš„çº¿ç´¢åŒ–ï¼Œä½œä¸ºä¸Šä¸€ä¸ªå‡½æ•°çš„è¾…åŠ©å‡½æ•°" class="headerlink" title="æ— å¤´ç»“ç‚¹çš„æ•´æ£µæ ‘Tçš„çº¿ç´¢åŒ–ï¼Œä½œä¸ºä¸Šä¸€ä¸ªå‡½æ•°çš„è¾…åŠ©å‡½æ•°"></a>æ— å¤´ç»“ç‚¹çš„æ•´æ£µæ ‘Tçš„çº¿ç´¢åŒ–ï¼Œä½œä¸ºä¸Šä¸€ä¸ªå‡½æ•°çš„è¾…åŠ©å‡½æ•°</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">InThreading</span><span class="params">(BiThrTree T)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (T) &#123;</span><br><span class="line">InThreading(T-&gt;lchild);</span><br><span class="line"><span class="keyword">if</span> (!T-&gt;lchild) &#123;</span><br><span class="line">T-&gt;LTag = Thread;</span><br><span class="line">T-&gt;lchild = pre;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (!pre-&gt;rchild) &#123;</span><br><span class="line">pre-&gt;RTag = Thread;</span><br><span class="line">pre-&gt;rchild = T;</span><br><span class="line">&#125;</span><br><span class="line">pre = T;</span><br><span class="line">InThreading(T-&gt;rchild);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä¸­åºéå†äºŒå‰æ ‘çš„éé€’å½’ç®—æ³•ï¼ŒVisitä¸ºæ‰“å°dataå‡½æ•°ï¼Œå®šä¹‰åœ¨mainæ–‡ä»¶"><a href="#ä¸­åºéå†äºŒå‰æ ‘çš„éé€’å½’ç®—æ³•ï¼ŒVisitä¸ºæ‰“å°dataå‡½æ•°ï¼Œå®šä¹‰åœ¨mainæ–‡ä»¶" class="headerlink" title="ä¸­åºéå†äºŒå‰æ ‘çš„éé€’å½’ç®—æ³•ï¼ŒVisitä¸ºæ‰“å°dataå‡½æ•°ï¼Œå®šä¹‰åœ¨mainæ–‡ä»¶"></a>ä¸­åºéå†äºŒå‰æ ‘çš„éé€’å½’ç®—æ³•ï¼ŒVisitä¸ºæ‰“å°dataå‡½æ•°ï¼Œå®šä¹‰åœ¨mainæ–‡ä»¶</h3><h3 id="å½“å‰èŠ‚ç‚¹æŒ‡å‘æ ¹èŠ‚ç‚¹"><a href="#å½“å‰èŠ‚ç‚¹æŒ‡å‘æ ¹èŠ‚ç‚¹" class="headerlink" title="å½“å‰èŠ‚ç‚¹æŒ‡å‘æ ¹èŠ‚ç‚¹"></a>å½“å‰èŠ‚ç‚¹æŒ‡å‘æ ¹èŠ‚ç‚¹</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">InOrderTraverse_Thr</span><span class="params">(BiThrTree T, <span class="keyword">void</span>(*Visit)(Elem e))</span> </span>&#123;</span><br><span class="line">BiThrTree p = T-&gt;lchild;</span><br><span class="line"><span class="keyword">while</span> (p != T) &#123;</span><br><span class="line"><span class="keyword">while</span> (p-&gt;LTag == Link) &#123;</span><br><span class="line">p = p-&gt;lchild;</span><br><span class="line">&#125;</span><br><span class="line">Visit(p-&gt;data);</span><br><span class="line"><span class="keyword">while</span> (p-&gt;RTag == Thread &amp;&amp; p-&gt;rchild != T) &#123;</span><br><span class="line">p = p-&gt;rchild;</span><br><span class="line">Visit(p-&gt;data);</span><br><span class="line">&#125;</span><br><span class="line">p = p-&gt;rchild;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ç„¶åç›´æ¥çœ‹æºç </strong></p><h2 id="BiThrTree-h"><a href="#BiThrTree-h" class="headerlink" title="BiThrTree.h"></a>BiThrTree.h</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> _BITHRTREE_H_</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _BITHRTREE_H_</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdbool.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">char</span> Elem;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span>&#123;Link, Thread&#125;PointerTag;    <span class="comment">//Link = 0è¡¨ç¤ºæŒ‡å‘å·¦å³å­©å­æŒ‡é’ˆï¼›Thread = 1è¡¨ç¤ºæŒ‡å‘å‰é©±æˆ–åç»§çš„çº¿ç´¢</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">BiThrNode</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">       Elem data;                                      <span class="comment">//ç»“ç‚¹æ•°æ®</span></span><br><span class="line">       <span class="class"><span class="keyword">struct</span> <span class="title">BiThrNode</span> *<span class="title">lchild</span>, *<span class="title">rchild</span>;</span>                <span class="comment">//å·¦å³å­©å­æŒ‡é’ˆ</span></span><br><span class="line">       PointerTag  LTag, RTag;                              <span class="comment">//å·¦å³æ ‡å¿—</span></span><br><span class="line">&#125;BiThrNode, *BiThrTree;</span><br><span class="line"></span><br><span class="line"><span class="comment">//extern BiThrTree pre;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CreateBiThrTree</span><span class="params">(BiThrTree *T)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DestroyBiThrTree</span><span class="params">(BiThrTree *T)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">InOrderThreading</span><span class="params">(BiThrTree *Thrt, BiThrTree T)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">InThreading</span><span class="params">(BiThrTree T)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">InOrderTraverse_Thr</span><span class="params">(BiThrTree T, <span class="keyword">void</span>(*Visit)(Elem e))</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure><h2 id="BiThrTree-c"><a href="#BiThrTree-c" class="headerlink" title="BiThrTree.c"></a>BiThrTree.c</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"BiThrTree.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line">BiThrTree pre;  <span class="comment">//å®šä¹‰ä¸€ä¸ªæŒ‡å‘å½“å‰èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹çš„preæŒ‡é’ˆï¼Œè¿™é‡Œè®¾ç½®ä¸ºå…¨å±€å˜é‡</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CreateBiThrTree</span><span class="params">(BiThrTree *T)</span> </span>&#123;</span><br><span class="line"><span class="keyword">char</span> c;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%c"</span>, &amp;c);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (c == <span class="string">'*'</span>) &#123;</span><br><span class="line">(*T) = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">(*T) = (BiThrTree)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(BiThrNode));</span><br><span class="line"><span class="comment">//exit(-1);</span></span><br><span class="line">(*T)-&gt;data = c;</span><br><span class="line">(*T)-&gt;LTag = (*T)-&gt;RTag = Link;</span><br><span class="line">CreateBiThrTree(&amp;((*T)-&gt;lchild));</span><br><span class="line">CreateBiThrTree(&amp;((*T)-&gt;rchild));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DestroyBiThrTree</span><span class="params">(BiThrTree *T)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> ((*T)) &#123;</span><br><span class="line">DestroyBiThrTree(&amp;((*T)-&gt;lchild));</span><br><span class="line">DestroyBiThrTree(&amp;((*T)-&gt;rchild));</span><br><span class="line"><span class="comment">//(*T)-&gt;data='*';</span></span><br><span class="line"><span class="built_in">free</span>((*T));</span><br><span class="line">(*T) = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">InOrderThreading</span><span class="params">(BiThrTree *Thrt, BiThrTree T)</span> </span>&#123;</span><br><span class="line">(*Thrt) = (BiThrTree)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(BiThrNode));</span><br><span class="line">(*Thrt)-&gt;LTag = Link;</span><br><span class="line">(*Thrt)-&gt;RTag = Thread;</span><br><span class="line">(*Thrt)-&gt;rchild = (*Thrt);</span><br><span class="line"><span class="keyword">if</span> (!T)</span><br><span class="line">(*Thrt)-&gt;lchild = (*Thrt);</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">(*Thrt)-&gt;lchild = T;</span><br><span class="line">pre = (*Thrt);</span><br><span class="line">InThreading(T);</span><br><span class="line">pre-&gt;rchild = (*Thrt);</span><br><span class="line">pre-&gt;RTag = Thread;</span><br><span class="line">(*Thrt) -&gt; rchild = pre;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">InThreading</span><span class="params">(BiThrTree T)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (T) &#123;</span><br><span class="line">InThreading(T-&gt;lchild);</span><br><span class="line"><span class="keyword">if</span> (!T-&gt;lchild) &#123;</span><br><span class="line">T-&gt;LTag = Thread;</span><br><span class="line">T-&gt;lchild = pre;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (!pre-&gt;rchild) &#123;</span><br><span class="line">pre-&gt;RTag = Thread;</span><br><span class="line">pre-&gt;rchild = T;</span><br><span class="line">&#125;</span><br><span class="line">pre = T;</span><br><span class="line">InThreading(T-&gt;rchild);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">InOrderTraverse_Thr</span><span class="params">(BiThrTree T, <span class="keyword">void</span>(*Visit)(Elem e))</span> </span>&#123;</span><br><span class="line">BiThrTree p = T-&gt;lchild;</span><br><span class="line"><span class="keyword">while</span> (p != T) &#123;</span><br><span class="line"><span class="keyword">while</span> (p-&gt;LTag == Link) &#123;</span><br><span class="line">p = p-&gt;lchild;</span><br><span class="line">&#125;</span><br><span class="line">Visit(p-&gt;data);</span><br><span class="line"><span class="keyword">while</span> (p-&gt;RTag == Thread &amp;&amp; p-&gt;rchild != T) &#123;</span><br><span class="line">p = p-&gt;rchild;</span><br><span class="line">Visit(p-&gt;data);</span><br><span class="line">&#125;</span><br><span class="line">p = p-&gt;rchild;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="main-c"><a href="#main-c" class="headerlink" title="main.c"></a>main.c</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"BiThrTree.h"</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Visit</span><span class="params">(Elem e)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Visit</span><span class="params">(Elem e)</span> </span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%c\n"</span>,e);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">BiThrTree T;</span><br><span class="line">BiThrTree Thrt;</span><br><span class="line">CreateBiThrTree(&amp;T);</span><br><span class="line">InOrderThreading(&amp;Thrt, T);</span><br><span class="line">InOrderTraverse_Thr(Thrt, Visit);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;ul&gt;
&lt;li&gt;nä¸ªç»“ç‚¹ä¸€å®šæœ‰n+1ä¸ªæŒ‡é’ˆåŸŸæ˜¯ç©ºçš„&lt;/li&gt;
&lt;li&gt;å¦‚æœç»“ç‚¹å·¦æŒ‡é’ˆä¸ºç©ºåˆ™ä½œä¸ºå‰é©±æŒ‡é’ˆ&lt;/li&gt;
&lt;li&gt;è‹¥å³æŒ‡é’ˆä¸ºç©ºåˆ™ä½œä¸ºåç»§æŒ‡é’ˆ&lt;/li&gt;
&lt;li&gt;æŒ‡å‘çº¿ç´¢åºåˆ—çš„å‰åºåç»§æŒ‡é’ˆå³ä¸ºçº¿ç´¢&lt;/li&gt;
&lt;li&gt;åŒæ—¶ä¸ºäº†åŒºåˆ†æŒ‡é’ˆæ˜¯ä½œä¸ºçº¿ç´¢æŒ‡å‘å‰é©±åç»§è¿˜æ˜¯æŒ‡å‘å­æ ‘ï¼Œæˆ‘ä»¬
      
    
    </summary>
    
      <category term="æ•°æ®ç»“æ„" scheme="http://yoursite.com/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
    
      <category term="c" scheme="http://yoursite.com/tags/c/"/>
    
      <category term="æ•°æ®ç»“æ„" scheme="http://yoursite.com/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>äºŒå‰æ ‘çš„åˆ›å»ºé”€æ¯éå†ï¼Œè®¡ç®—å¶å­æ•°ã€æ·±åº¦ä»¥åŠå¯¹äºŒå‰æ ‘è¿›è¡Œæ‹·è´ç­‰æ“ä½œ</title>
    <link href="http://yoursite.com/2019/07/05/%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%88%9B%E5%BB%BA%E9%94%80%E6%AF%81%E9%81%8D%E5%8E%86%EF%BC%8C%E8%AE%A1%E7%AE%97%E5%8F%B6%E5%AD%90%E6%95%B0%E3%80%81%E6%B7%B1%E5%BA%A6%E4%BB%A5%E5%8F%8A%E5%AF%B9%E4%BA%8C%E5%8F%89%E6%A0%91%E8%BF%9B%E8%A1%8C%E6%8B%B7%E8%B4%9D%E7%AD%89%E6%93%8D%E4%BD%9C/"/>
    <id>http://yoursite.com/2019/07/05/äºŒå‰æ ‘çš„åˆ›å»ºé”€æ¯éå†ï¼Œè®¡ç®—å¶å­æ•°ã€æ·±åº¦ä»¥åŠå¯¹äºŒå‰æ ‘è¿›è¡Œæ‹·è´ç­‰æ“ä½œ/</id>
    <published>2019-07-05T08:45:57.000Z</published>
    <updated>2019-07-05T14:32:38.014Z</updated>
    
    <content type="html"><![CDATA[<ul><li>äºŒå‰æ ‘æ˜¯ä¸€å—æ¯”è¾ƒé‡è¦çš„çŸ¥è¯†ç‚¹ï¼Œè€Œä¸”æ˜¯ä»çº¿æ€§ç»“æ„åˆ°æ ‘å½¢ç»“æ„çš„ä¸€ä¸ªè·¨è¶Šï¼Œå»ºè®®å¤§å®¶åŠ¨æ‰‹å®ç°ä»¥ä¸‹ã€‚</li><li>æ ‘æ˜¯é€’å½’ç®—æ³•æœ€å¥½çš„åº”ç”¨ï¼Œå½“ç„¶ä¸å«Œéº»çƒ¦çš„è¯ä¹Ÿå¯ä»¥ç”¨æ ˆã€‚</li></ul><h2 id="å‰åºéå†åˆå§‹åŒ–æ ‘ï¼š"><a href="#å‰åºéå†åˆå§‹åŒ–æ ‘ï¼š" class="headerlink" title="å‰åºéå†åˆå§‹åŒ–æ ‘ï¼š"></a>å‰åºéå†åˆå§‹åŒ–æ ‘ï¼š</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">InitializeTree</span><span class="params">(Tree *T)</span> </span>&#123;</span><br><span class="line"><span class="keyword">char</span> ch;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%c"</span>,&amp;ch);</span><br><span class="line"><span class="keyword">if</span> (ch == <span class="string">'*'</span>) &#123;</span><br><span class="line">(*T) = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (!((*T) = (Node*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node))))</span><br><span class="line"><span class="built_in">exit</span>(<span class="number">-1</span>);</span><br><span class="line">(*T)-&gt;data = ch;</span><br><span class="line">InitializeTree(&amp;((*T)-&gt;lchild));</span><br><span class="line">InitializeTree(&amp;((*T)-&gt;rchild));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ååºéå†é”€æ¯äºŒå‰æ ‘"><a href="#ååºéå†é”€æ¯äºŒå‰æ ‘" class="headerlink" title="ååºéå†é”€æ¯äºŒå‰æ ‘"></a>ååºéå†é”€æ¯äºŒå‰æ ‘</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DestroyTree</span><span class="params">(Tree *T)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> ((*T)) &#123;</span><br><span class="line">DestroyTree(&amp;((*T)-&gt;lchild));</span><br><span class="line">DestroyTree(&amp;((*T)-&gt;rchild));</span><br><span class="line"><span class="built_in">free</span>((*T));</span><br><span class="line">(*T) = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å‰åºéå†æ‰“å°äºŒå‰æ ‘"><a href="#å‰åºéå†æ‰“å°äºŒå‰æ ‘" class="headerlink" title="å‰åºéå†æ‰“å°äºŒå‰æ ‘"></a>å‰åºéå†æ‰“å°äºŒå‰æ ‘</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PreOrderTraverse</span><span class="params">(Tree T, <span class="keyword">void</span> (*Visit)(ElemType e))</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (T) &#123;</span><br><span class="line">Visit(T-&gt;data);</span><br><span class="line">PreOrderTraverse(T-&gt;lchild,Visit);</span><br><span class="line">PreOrderTraverse(T-&gt;rchild,Visit);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä¸­åºéå†æ‰“å°äºŒå‰æ ‘"><a href="#ä¸­åºéå†æ‰“å°äºŒå‰æ ‘" class="headerlink" title="ä¸­åºéå†æ‰“å°äºŒå‰æ ‘"></a>ä¸­åºéå†æ‰“å°äºŒå‰æ ‘</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">InOrderTraverse</span><span class="params">(Tree T, <span class="keyword">void</span> (*Visit)(ElemType e))</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span>(T) &#123;</span><br><span class="line">InOrderTraverse(T-&gt;lchild,Visit);</span><br><span class="line">Visit(T-&gt;data);</span><br><span class="line">InOrderTraverse(T-&gt;rchild,Visit);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ååºéå†æ‰“å°äºŒå‰æ ‘"><a href="#ååºéå†æ‰“å°äºŒå‰æ ‘" class="headerlink" title="ååºéå†æ‰“å°äºŒå‰æ ‘"></a>ååºéå†æ‰“å°äºŒå‰æ ‘</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PostOrderTraverse</span><span class="params">(Tree T, <span class="keyword">void</span> (*Visit)(ElemType e))</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (T) &#123;</span><br><span class="line">PostOrderTraverse(T-&gt;lchild,Visit);</span><br><span class="line">PostOrderTraverse(T-&gt;rchild,Visit);</span><br><span class="line">Visit(T-&gt;data);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å‰åºéå†è®¡ç®—å¶å­ç»“ç‚¹æ•°"><a href="#å‰åºéå†è®¡ç®—å¶å­ç»“ç‚¹æ•°" class="headerlink" title="å‰åºéå†è®¡ç®—å¶å­ç»“ç‚¹æ•°"></a>å‰åºéå†è®¡ç®—å¶å­ç»“ç‚¹æ•°</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CountLeaf1</span><span class="params">(Tree T, <span class="keyword">int</span> *count)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (T) &#123;</span><br><span class="line"><span class="keyword">if</span> (!(T-&gt;lchild) &amp;&amp; !(T-&gt;rchild)) &#123;</span><br><span class="line">(*count)++;</span><br><span class="line">&#125;</span><br><span class="line">CountLeaf1(T-&gt;lchild,count);</span><br><span class="line">CountLeaf1(T-&gt;rchild,count);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line">(*count) = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>è®¡ç®—å¶å­ç»“ç‚¹çš„ç®€åŒ–æ–¹æ³•ï¼š</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="keyword">int</span> <span class="title">CountLeaf2</span><span class="params">(Tree T)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (!T) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (!T-&gt;lchild &amp;&amp; !T-&gt;rchild)</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="keyword">return</span> CountLeaf2(T-&gt;lchild)+CountLeaf2(T-&gt;rchild);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ååºéå†è®¡ç®—äºŒå‰æ ‘æ·±åº¦"><a href="#ååºéå†è®¡ç®—äºŒå‰æ ‘æ·±åº¦" class="headerlink" title="ååºéå†è®¡ç®—äºŒå‰æ ‘æ·±åº¦"></a>ååºéå†è®¡ç®—äºŒå‰æ ‘æ·±åº¦</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="keyword">int</span> <span class="title">DepthOfTree</span><span class="params">(Tree T)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (T) &#123;</span><br><span class="line"><span class="keyword">return</span> DepthOfTree(T-&gt;lchild) &gt; DepthOfTree(T-&gt;rchild) ? DepthOfTree(T-&gt;lchild) + <span class="number">1</span> : DepthOfTree(T-&gt;rchild) + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ååºéå†å¤åˆ¶äºŒå‰æ ‘"><a href="#ååºéå†å¤åˆ¶äºŒå‰æ ‘" class="headerlink" title="ååºéå†å¤åˆ¶äºŒå‰æ ‘"></a>ååºéå†å¤åˆ¶äºŒå‰æ ‘</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Tree <span class="title">CopyTree</span><span class="params">(Tree T)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (T) &#123;</span><br><span class="line">Tree ltree = <span class="literal">NULL</span>;</span><br><span class="line">Tree rtree = <span class="literal">NULL</span>;</span><br><span class="line"><span class="keyword">if</span> (T-&gt;lchild)</span><br><span class="line">ltree = CopyTree(T-&gt;lchild);</span><br><span class="line"><span class="keyword">if</span> (T-&gt;rchild)</span><br><span class="line">rtree = CopyTree(T-&gt;rchild);</span><br><span class="line">Tree New = (Node*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">New-&gt;data = T-&gt;data;</span><br><span class="line">New-&gt;lchild = ltree;</span><br><span class="line">New-&gt;rchild = rtree;</span><br><span class="line"><span class="keyword">return</span> New;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æ˜¯ä¸æ˜¯æƒŠå–œçš„å‘ç°æ‰€æœ‰çš„ç®—æ³•éƒ½æ˜¯ç”¨é€’å½’æ¥å®ç°</li><li>é€’å½’åœ¨äºŒå‰æ ‘å’Œæ ‘ç§åº”ç”¨çœŸçš„å¾ˆå¹¿ï¼Œå¤§å®¶åˆä¸å¤ªç†è§£çš„å»ºè®®æ‰¾ä¸ªäºŒå‰æ ‘çš„åŸºæœ¬å›¾æ‰‹åŠ¨æ¨¡æ‹Ÿç®—æ³•å»éå†å°è¯•ä¸€ä¸‹ï¼Œå¥½è®°æ€§ä¸å¦‚çƒ‚ç¬”å¤´</li></ul><h2 id="æœ€åé™„ä¸Šæºç ï¼š"><a href="#æœ€åé™„ä¸Šæºç ï¼š" class="headerlink" title="æœ€åé™„ä¸Šæºç ï¼š"></a>æœ€åé™„ä¸Šæºç ï¼š</h2><h3 id="Tree-h"><a href="#Tree-h" class="headerlink" title="Tree.h"></a>Tree.h</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> _TREE_H_</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _TREE_H_</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdbool.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">char</span> ElemType;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">BiTNode</span> &#123;</span></span><br><span class="line">ElemType data;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">BiTNode</span> *<span class="title">lchild</span>, *<span class="title">rchild</span>;</span></span><br><span class="line">&#125; Node, *Tree;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Initialize a tree</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">InitializeTree</span><span class="params">(Tree *T)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Destroy a tree</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DestroyTree</span><span class="params">(Tree *T)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//void PreOrderTraverse(Tree T);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//Pre-Order traversing a tree</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PreOrderTraverse</span><span class="params">(Tree T, <span class="keyword">void</span> (*Visit)(ElemType e))</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//In-Order traversing a tree</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">InOrderTraverse</span><span class="params">(Tree T, <span class="keyword">void</span> (*Visit)(ElemType e))</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//using in c++</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">InOrderTraverse2</span><span class="params">(Tree T, <span class="keyword">void</span> (*Visit)(ElemType e))</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Post-Order traversing a tree</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PostOrderTraverse</span><span class="params">(Tree T, <span class="keyword">void</span> (*Visit)(ElemType e))</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Level-Order traversing a tree</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LevelOrderTraverse</span><span class="params">(Tree T, <span class="keyword">void</span> (*Visit)(ElemType e))</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Count the number of leaf nodes in the binary tree</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CountLeaf1</span><span class="params">(Tree T,  <span class="keyword">int</span> *count)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Another way to count the number of leaf nodes in the binary tree</span></span><br><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="keyword">int</span> <span class="title">CountLeaf2</span><span class="params">(Tree T)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Calculate the depth of the binary tree</span></span><br><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="keyword">int</span> <span class="title">DepthOfTree</span><span class="params">(Tree T)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Copy the binary tree</span></span><br><span class="line"><span class="function">Tree <span class="title">CopyTree</span><span class="params">(Tree T)</span></span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure><h3 id="Tree-c"><a href="#Tree-c" class="headerlink" title="Tree.c"></a>Tree.c</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Tree.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"../stack/Stack.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">InitializeTree</span><span class="params">(Tree *T)</span> </span>&#123;</span><br><span class="line"><span class="keyword">char</span> ch;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%c"</span>,&amp;ch);</span><br><span class="line"><span class="keyword">if</span> (ch == <span class="string">'*'</span>) &#123;</span><br><span class="line">(*T) = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (!((*T) = (Node*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node))))</span><br><span class="line"><span class="built_in">exit</span>(<span class="number">-1</span>);</span><br><span class="line">(*T)-&gt;data = ch;</span><br><span class="line">InitializeTree(&amp;((*T)-&gt;lchild));</span><br><span class="line">InitializeTree(&amp;((*T)-&gt;rchild));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DestroyTree</span><span class="params">(Tree *T)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> ((*T)) &#123;</span><br><span class="line">DestroyTree(&amp;((*T)-&gt;lchild));</span><br><span class="line">DestroyTree(&amp;((*T)-&gt;rchild));</span><br><span class="line"><span class="comment">//(*T)-&gt;data='*';</span></span><br><span class="line"><span class="built_in">free</span>((*T));</span><br><span class="line">(*T) = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PreOrderTraverse</span><span class="params">(Tree T, <span class="keyword">void</span> (*Visit)(ElemType e))</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (T) &#123;</span><br><span class="line">Visit(T-&gt;data);</span><br><span class="line">PreOrderTraverse(T-&gt;lchild,Visit);</span><br><span class="line">PreOrderTraverse(T-&gt;rchild,Visit);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">InOrderTraverse</span><span class="params">(Tree T, <span class="keyword">void</span> (*Visit)(ElemType e))</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span>(T) &#123;</span><br><span class="line">InOrderTraverse(T-&gt;lchild,Visit);</span><br><span class="line">Visit(T-&gt;data);</span><br><span class="line">InOrderTraverse(T-&gt;rchild,Visit);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PostOrderTraverse</span><span class="params">(Tree T, <span class="keyword">void</span> (*Visit)(ElemType e))</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (T) &#123;</span><br><span class="line">PostOrderTraverse(T-&gt;lchild,Visit);</span><br><span class="line">PostOrderTraverse(T-&gt;rchild,Visit);</span><br><span class="line">Visit(T-&gt;data);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//I'm too lazy to want to call stack interface,so this function need to realise using c++</span></span><br><span class="line"><span class="comment">/*void InOrderTraverse2(Tree T, void (*Visit)(ElemType e)) &#123;</span></span><br><span class="line"><span class="comment">stack&lt;Tree&gt; S;</span></span><br><span class="line"><span class="comment">Tree p;</span></span><br><span class="line"><span class="comment">p = T;</span></span><br><span class="line"><span class="comment">S.push(p);</span></span><br><span class="line"><span class="comment">while (p-&gt;lchild != NULL) &#123;</span></span><br><span class="line"><span class="comment">p = p-&gt;lchild;</span></span><br><span class="line"><span class="comment">S.push(p);</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">while (!S.empty()) &#123;</span></span><br><span class="line"><span class="comment">p = S.top();</span></span><br><span class="line"><span class="comment">Visit(p-&gt;data);</span></span><br><span class="line"><span class="comment">S.pop();</span></span><br><span class="line"><span class="comment">if (p-&gt;rchild != NULL) &#123;</span></span><br><span class="line"><span class="comment">p=p-&gt;rchild;</span></span><br><span class="line"><span class="comment">S.push(p);</span></span><br><span class="line"><span class="comment">while (p-&gt;lchild != NULL) &#123;</span></span><br><span class="line"><span class="comment">p = p-&gt;lchild;</span></span><br><span class="line"><span class="comment">S.push(p);</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CountLeaf1</span><span class="params">(Tree T, <span class="keyword">int</span> *count)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (T) &#123;</span><br><span class="line"><span class="keyword">if</span> (!(T-&gt;lchild) &amp;&amp; !(T-&gt;rchild)) &#123;</span><br><span class="line">(*count)++;</span><br><span class="line">&#125;</span><br><span class="line">CountLeaf1(T-&gt;lchild,count);</span><br><span class="line">CountLeaf1(T-&gt;rchild,count);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line">(*count) = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="keyword">int</span> <span class="title">CountLeaf2</span><span class="params">(Tree T)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (!T) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (!T-&gt;lchild &amp;&amp; !T-&gt;rchild)</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="keyword">return</span> CountLeaf2(T-&gt;lchild)+CountLeaf2(T-&gt;rchild);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="keyword">int</span> <span class="title">DepthOfTree</span><span class="params">(Tree T)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (T) &#123;</span><br><span class="line"><span class="keyword">return</span> DepthOfTree(T-&gt;lchild) &gt; DepthOfTree(T-&gt;rchild) ? DepthOfTree(T-&gt;lchild) + <span class="number">1</span> : DepthOfTree(T-&gt;rchild) + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Tree <span class="title">CopyTree</span><span class="params">(Tree T)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (T) &#123;</span><br><span class="line">Tree ltree = <span class="literal">NULL</span>;</span><br><span class="line">Tree rtree = <span class="literal">NULL</span>;</span><br><span class="line"><span class="keyword">if</span> (T-&gt;lchild)</span><br><span class="line">ltree = CopyTree(T-&gt;lchild);</span><br><span class="line"><span class="keyword">if</span> (T-&gt;rchild)</span><br><span class="line">rtree = CopyTree(T-&gt;rchild);</span><br><span class="line">Tree New = (Node*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">New-&gt;data = T-&gt;data;</span><br><span class="line">New-&gt;lchild = ltree;</span><br><span class="line">New-&gt;rchild = rtree;</span><br><span class="line"><span class="keyword">return</span> New;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="main-c"><a href="#main-c" class="headerlink" title="main.c"></a>main.c</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"Tree.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Visit</span><span class="params">(ElemType e)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Visit</span><span class="params">(ElemType e)</span> </span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%c\n"</span>,e);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">Tree T;</span><br><span class="line">InitializeTree(&amp;T);</span><br><span class="line"><span class="comment">/*CountLeaf1(T,&amp;count);</span></span><br><span class="line"><span class="comment">printf("%d\n",count);</span></span><br><span class="line"><span class="comment">printf("%d\n",DepthOfTree(T));</span></span><br><span class="line"><span class="comment">PreOrderTraverse(T,Visit);</span></span><br><span class="line"><span class="comment">InOrderTraverse(T,Visit);</span></span><br><span class="line"><span class="comment">PostOrderTraverse(T,Visit);*/</span></span><br><span class="line">Tree A = CopyTree(T);</span><br><span class="line">PreOrderTraverse(A,Visit);</span><br><span class="line">DestroyTree(&amp;T);</span><br><span class="line">DestroyTree(&amp;A);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;ul&gt;
&lt;li&gt;äºŒå‰æ ‘æ˜¯ä¸€å—æ¯”è¾ƒé‡è¦çš„çŸ¥è¯†ç‚¹ï¼Œè€Œä¸”æ˜¯ä»çº¿æ€§ç»“æ„åˆ°æ ‘å½¢ç»“æ„çš„ä¸€ä¸ªè·¨è¶Šï¼Œå»ºè®®å¤§å®¶åŠ¨æ‰‹å®ç°ä»¥ä¸‹ã€‚&lt;/li&gt;
&lt;li&gt;æ ‘æ˜¯é€’å½’ç®—æ³•æœ€å¥½çš„åº”ç”¨ï¼Œå½“ç„¶ä¸å«Œéº»çƒ¦çš„è¯ä¹Ÿå¯ä»¥ç”¨æ ˆã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;å‰åºéå†åˆå§‹åŒ–æ ‘ï¼š&quot;&gt;&lt;a href=&quot;#å‰åºéå†åˆå§‹åŒ–æ ‘ï¼š
      
    
    </summary>
    
      <category term="æ•°æ®ç»“æ„" scheme="http://yoursite.com/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
    
      <category term="c" scheme="http://yoursite.com/tags/c/"/>
    
      <category term="æ•°æ®ç»“æ„" scheme="http://yoursite.com/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>c/c++å®šä¹‰å…¨å±€å˜é‡çš„æ–¹æ³•</title>
    <link href="http://yoursite.com/2019/07/05/c-c-%E5%AE%9A%E4%B9%89%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E7%9A%84%E6%96%B9%E6%B3%95/"/>
    <id>http://yoursite.com/2019/07/05/c-c-å®šä¹‰å…¨å±€å˜é‡çš„æ–¹æ³•/</id>
    <published>2019-07-05T08:43:52.000Z</published>
    <updated>2019-07-05T14:32:12.615Z</updated>
    
    <content type="html"><![CDATA[<p>æˆ‘ä»¬æƒ³å®šä¹‰ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œèƒ½å¤Ÿåœ¨å¤šä¸ªæ–‡ä»¶ä¸­ä½¿ç”¨ï¼Œä¸¾ä¾‹è¯´æ˜æ¯”å¦‚è¯´ä¸‰ä¸ªæ–‡ä»¶main.c hello.c hello.h<br>æƒ³åœ¨main.cå’Œhello.cä¸­ä½¿ç”¨ä¸€ä¸ªåå­—ä¸ºaçš„å˜é‡ï¼Œå¯èƒ½å¤§å®¶ä¼šç®€å•åœ°æƒ³ç›´æ¥åœ¨hello.hé‡Œé¢å®šä¹‰ä¸€ä¸ªå˜é‡unsigned int a;<br>ç„¶ååœ¨main.cå’Œhello.cä¸­å¼•ç”¨â€hello.hâ€å°±å¯ä»¥ç›´æ¥ä½¿ç”¨äº†ï¼Œä½†è¿™æ˜¯ç¼–è¯‘å™¨ä¼šæŠ¥é‡å¤å®šä¹‰å˜é‡çš„é”™è¯¯ï¼Œæˆ‘ä»¬å¯ä»¥æ€ä¹ˆåšå‘¢ï¼Ÿ</p><ul><li><p><strong>æ–¹æ³•å¾ˆç®€å•ï¼Œç›´æ¥ä¸¾ä¾‹è¯´æ˜ï¼š</strong></p></li><li><p><em>hello.h</em></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> HELLO_H_</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> HELLO_H_</span></span><br><span class="line"><span class="keyword">extern</span> <span class="keyword">int</span> a;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fun</span> <span class="params">()</span></span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure></li><li><p><em>hello.c</em></p></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"hello.h"</span></span></span><br><span class="line"><span class="keyword">int</span> a = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fun</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">a = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>,a);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><em>main.c</em></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"hello.h"</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">fun();</span><br><span class="line">a = <span class="number">10</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>,a);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœä¸º1ï¼Œ10ï¼›<br>externå…³é”®å­—æ¥å£°æ˜å˜é‡ä¸ºå¤–éƒ¨å˜é‡ï¼Œè€Œä¸ºä»€ä¹ˆè¦åœ¨hello.hæ–‡ä»¶ä¸­å·²ç»extern int aäº†è¿˜è¦å†åœ¨hello.cæ–‡ä»¶ä¸­å®šä¹‰int aå‘¢ï¼Ÿ</p><ul><li>è¿™æ˜¯å› ä¸ºexternä»…ä»…æ˜¯ä½œä¸ºä¸€ä¸ªå£°æ˜ï¼Œå£°æ˜æˆ‘è¦å®šä¹‰ä¸€ä¸ªå¤–éƒ¨å…¨å±€å˜é‡aå¯ä»¥åœ¨å…¶ä»–æ–‡ä»¶å’Œæ¨¡å—ä¸­ä½¿ç”¨ï¼Œä½†æ­¤æ—¶å¹¶ä¸ºç»™aåˆ†é…ç©ºé—´ã€‚</li><li>è€Œint a = 0ï¼›åˆ™æ‰æ˜¯çœŸæ­£å¯¹açš„å®šä¹‰ï¼Œä¸ºå…¶åˆ†é…ç©ºé—´ã€‚</li></ul><p>é‚£ä¹ˆé—®é¢˜åˆæ¥äº†ï¼Œæˆ‘ä»¬ä¸ºä»€ä¹ˆä¸å†™æˆextern int a = 0;çš„å½¢å¼ä¸æ˜¯æ›´ç®€å•å—ï¼Ÿ</p><ul><li>è¿™å°±æ¶‰åŠåˆ°cçš„ä¸€ä¸ªåŸºæœ¬çŸ¥è¯†ç‚¹äº†ä¹Ÿå°±æ˜¯extern int a = 0å’Œint a = 0åŒæ ·éƒ½æ˜¯å¯¹açš„å®šä¹‰ï¼Œåªä¸è¿‡ç¬¬äºŒç§æ˜¯çœç•¥äº†externè€Œå·²ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æˆ‘ä»¬æƒ³å®šä¹‰ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œèƒ½å¤Ÿåœ¨å¤šä¸ªæ–‡ä»¶ä¸­ä½¿ç”¨ï¼Œä¸¾ä¾‹è¯´æ˜æ¯”å¦‚è¯´ä¸‰ä¸ªæ–‡ä»¶main.c hello.c hello.h&lt;br&gt;æƒ³åœ¨main.cå’Œhello.cä¸­ä½¿ç”¨ä¸€ä¸ªåå­—ä¸ºaçš„å˜é‡ï¼Œå¯èƒ½å¤§å®¶ä¼šç®€å•åœ°æƒ³ç›´æ¥åœ¨hello.hé‡Œé¢å®šä¹‰ä¸€ä¸ªå˜é‡unsigned int a;&lt;br&gt;ç„¶å
      
    
    </summary>
    
      <category term="c++" scheme="http://yoursite.com/categories/c/"/>
    
    
      <category term="c" scheme="http://yoursite.com/tags/c/"/>
    
      <category term="c++" scheme="http://yoursite.com/tags/c/"/>
    
  </entry>
  
</feed>
